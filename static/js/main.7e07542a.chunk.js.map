{"version":3,"sources":["components/players/client/index.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/usePersist.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/random.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/shared.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/secret.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useGameState.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/stores.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/usePeer.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useConnections.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useMoves.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useSendSyncs.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useInputBuffer.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/usePartyHost.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/funcs.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useAck.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useSync.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useMoves.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useConnection.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/usePartyGuest.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/stores.js","games/tic-tac-toe/game/index.js","games/tic-tac-toe/client/Guest.js","games/tic-tac-toe/client/Host.js","games/tic-tac-toe/index.js","components/players/game/index.js","components/playing-card/client/cards/AH.svg","components/playing-card/client/cards/AC.svg","components/playing-card/client/cards/AD.svg","components/playing-card/client/cards/AS.svg","components/playing-card/client/cards/2H.svg","components/playing-card/client/cards/2C.svg","components/playing-card/client/cards/2D.svg","components/playing-card/client/cards/2S.svg","components/playing-card/client/cards/3H.svg","components/playing-card/client/cards/3C.svg","components/playing-card/client/cards/3D.svg","components/playing-card/client/cards/3S.svg","components/playing-card/client/cards/4H.svg","components/playing-card/client/cards/4C.svg","components/playing-card/client/cards/4D.svg","components/playing-card/client/cards/4S.svg","components/playing-card/client/cards/5H.svg","components/playing-card/client/cards/5C.svg","components/playing-card/client/cards/5D.svg","components/playing-card/client/cards/5S.svg","components/playing-card/client/cards/6H.svg","components/playing-card/client/cards/6C.svg","components/playing-card/client/cards/6D.svg","components/playing-card/client/cards/6S.svg","components/playing-card/client/cards/7H.svg","components/playing-card/client/cards/7C.svg","components/playing-card/client/cards/7D.svg","components/playing-card/client/cards/7S.svg","components/playing-card/client/cards/8H.svg","components/playing-card/client/cards/8C.svg","components/playing-card/client/cards/8D.svg","components/playing-card/client/cards/8S.svg","components/playing-card/client/cards/9H.svg","components/playing-card/client/cards/9C.svg","components/playing-card/client/cards/9D.svg","components/playing-card/client/cards/9S.svg","components/playing-card/client/cards/10H.svg","components/playing-card/client/cards/10C.svg","components/playing-card/client/cards/10D.svg","components/playing-card/client/cards/10S.svg","components/playing-card/client/cards/JH.svg","components/playing-card/client/cards/JC.svg","components/playing-card/client/cards/JD.svg","components/playing-card/client/cards/JS.svg","components/playing-card/client/cards/QH.svg","components/playing-card/client/cards/QC.svg","components/playing-card/client/cards/QD.svg","components/playing-card/client/cards/QS.svg","components/playing-card/client/cards/KH.svg","components/playing-card/client/cards/KC.svg","components/playing-card/client/cards/KD.svg","components/playing-card/client/cards/KS.svg","components/playing-card/client/cards/JOKER.svg","components/playing-card/game/model.js","components/playing-card/game/constructDeckOfCards.js","components/playing-card/client/Card.js","components/playing-card/client/CardFront.js","components/playing-card/client/cards/RED_BACK.svg","components/playing-card/client/cards/BLUE_BACK.svg","components/playing-card/client/CardBack.js","components/playing-card/client/felt.png","components/playing-card/client/FeltTable.js","components/playing-card/client/Hand.js","components/playing-card/index.js","games/whist/game/index.js","components/emoji/Emoji.js","components/emoji/EmojiPicker.js","components/emoji/index.js","components/players/client/Host.js","components/players/client/Guest.js","compendium.js","games/whist/index.js","games/whist/client/Host.js","games/whist/client/Guest.js","rooms.js","useGame.js","Home.js","theme.js","Router.js","App.js","reportWebVitals.js","index.js","../../.yarn/cache/peerjs-npm-1.3.2-8966839def-8766e61cf9.zip/node_modules/peerjs/dist sync"],"names":["options","Component","usePersist","store","key","defaultValue","useState","JSON","parse","getItem","Function","state","setState","useEffect","setItem","stringify","isRandomMove","moveFn","_isRandom","getMoves","connectionId","roomId","game","hostMoves","guestMoves","getMove","move","constructMoves","handleMove","Proxy","get","target","receiver","moves","hasOwnProperty","args","Symbol","iterator","keys","bind","Reflect","isSecretMove","_isSecret","useGameState","random","connectionIds","logEvent","window","localStorage","states","setStates","useStatesStore","useMemo","input","useCallback","revealSecret","id","fn","reduce","newStates","contextId","event","opts","seed","genSeed","seedrandom","newState","patch","diff","reducer","error","console","destructPeer","setPeer","peer","destroy","host","secure","usePeer","open","setOpen","useReducer","a","attempts","countAttempt","Peer","retry","timeout","setTimeout","on","clearTimeout","onConnectionClosed","useConnections","connections","setConnections","connectionLogSizeMap","useRef","connId","addConnectionId","onGuestEvent","setOnGuestEvent","conn","conns","appendConnection","index","isInteger","size","current","updateLogSizeMap","validMoves","isString","isObject","findIndex","m","validateEvent","Object","filter","c","removeConnection","useMoves","onEvent","setOnHostEvent","useSendSyncs","eventLogs","connection","eventLog","numSent","length","events","slice","map","e","i","send","useInputBuffer","inputBuffer","setInputBuffer","pushInput","buffer","head","tail","usePartyHost","secret","setEventLogs","logs","useEventLogStore","logSizeToIndex","logSize","constructReducer","o","Error","useAck","connected","ack","useSync","data","clearData","setLogSize","updateLogSize","cache","sync","constructMovesHandler","setMoves","preempt","emit","useConnection","setData","setConnected","connect","serialization","stream","usePartyGuest","uuid","useIdStore","useStateStore","useLogSizeStore","TicTacToe","fillSquare","player","crossesPlayer","noughtsPlayer","board","position","splice","startGame","crossesConnId","noughtsConnId","Array","fill","Button","styled","button","Tile","div","Board","TileOrButton","value","onClick","Guest","name","Host","to","location","joinAsAPlayer","players","list","maxPlayers","emoji","playerList","initPlayers","minPlayers","everyoneIsIn","SUITS","JACK","QUEEN","KING","VALUES","constructDeckOfCards","jokers","cards","suit","push","Container","order","UnSelectable","Selectable","isSelected","Overlay","selectColor","FaceImg","img","SelectableFace","faceImage","altText","src","alt","UnSelectableFace","Card","canBeSelected","Face","CardFront","log","JKR","HA","DA","SA","CA","H2","D2","S2","C2","H3","D3","S3","C3","H4","D4","S4","C4","H5","D5","S5","C5","H6","D6","S6","C6","H7","D7","S7","C7","H8","D8","S8","C8","H9","D9","S9","C9","H10","D10","S10","C10","HJ","DJ","SJ","CJ","HQ","DQ","SQ","CQ","HK","DK","SK","CK","getFaceImage","getAltText","CardBack","colour","RED_BACK","BLUE_BACK","FeltTable","felt","Hand","section","PlayingCardFront","playersGame","discard","deck","hand","deal","Emoji","memo","dangerouslySetInnerHTML","__html","twemoji","folder","ext","Background","Wrapper","EmojiPicker","onSelectEmoji","onHide","tabIndex","onKeyPress","stopPropagation","onSelect","native","set","PlayerList","children","flexGrow","alignItems","width","height","my","mx","HowToJoin","fontSize","fontWeight","color","everyonesIn","canStartGame","checkIfCanStartGame","flexDirection","justifyContent","JoinScreen","onJoin","setName","setEmoji","pickerIsShown","setPickerIsShown","showPicker","hidePicker","join","htmlFor","onChange","variant","Spectator","Waiting","isPlayer","findConnectionIsPlayer","gameIsFull","checkIfGameIsFull","compendium","props","withGuestPlayers","permutations","getGame","compendiumIndex","words","split","sortedWords","sort","permutation","word","w","permu","isEqual","decodeCompendiumIndex","useGame","setGame","NewGame","onNewGame","onSubmit","preventDefault","JoinGame","onJoinGame","Home","useHistory","mt","randomWords","exactly","createRoomId","base","HostRoute","useParams","theme","baseTheme","GuestRoute","Router","path","exact","App","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","webpackEmptyContext","req","code","resolve","module","exports"],"mappings":"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TwB,EACjB,6BACY,IAAVxB,GAAwB,MAATwB,EACjB,+BACY,IAAVxB,GAAwB,MAATwB,EACjB,6BACY,IAAVxB,GAAwB,MAATwB,EACjB,4BACY,IAAVxB,GAAwB,MAATwB,EACjB,+BACY,IAAVxB,GAAwB,MAATwB,EACjB,iCACY,IAAVxB,GAAwB,MAATwB,EACjB,+BACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,gCACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,6BACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,gCACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,6BACY,IAAVxB,GAAwB,MAATwB,EACjB,6BACY,IAAVxB,GAAwB,MAATwB,EACjB,gCACY,IAAVxB,GAAwB,MAATwB,EACjB,6BACY,IAAVxB,GAAwB,MAATwB,EACjB,4BACY,IAAVxB,GAAwB,MAATwB,EACjB,+BACY,IAAVxB,GAAwB,MAATwB,EACjB,iCACY,IAAVxB,GAAwB,MAATwB,EACjB,+BACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,+BACY,IAAVxB,GAAwB,MAATwB,EACjB,iCACY,IAAVxB,GAAwB,MAATwB,EACjB,+BACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,gCACY,IAAVxB,GAAwB,MAATwB,EACjB,8BACY,IAAVxB,GAAwB,MAATwB,EACjB,6BACY,KAAVxB,GAAyB,MAATwB,EAClB,6BACY,KAAVxB,GAAyB,MAATwB,EAClB,+BACY,KAAVxB,GAAyB,MAATwB,EAClB,6BACY,KAAVxB,GAAyB,MAATwB,EAClB,4BACExB,IAAUiB,IAAiB,MAATO,EACpB,8BACExB,IAAUiB,IAAiB,MAATO,EACpB,gCAC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","file":"static/js/main.7e07542a.chunk.js","sourcesContent":["import React from \"react\";\nimport Host from \"./Host\";\nimport Guest from \"./Guest\";\n\nconst withGuestPlayers = (Component) => ({ children, ...props }) => (\n    <Guest {...props}>\n        <Component {...props}>\n            {children}\n        </Component>\n    </Guest>\n)\n\nconst withHostPlayers = (options, Component) => ({ children, ...props }) => (\n    <Host {...options} {...props}>\n        <Component {...props}>\n            {children}\n        </Component>\n    </Host>\n)\n\nexport { Host, Guest, withGuestPlayers, withHostPlayers }\n","import { useState, useEffect } from \"react\";\n\nconst usePersist = (store, key, defaultValue) => {\n  const [state, setState] = useState(\n    () => (\n      JSON.parse(store.getItem(key)) || \n      ((defaultValue instanceof Function) ? defaultValue() : defaultValue)\n    )\n  );\n\n  useEffect(() => {\n    store.setItem(key, JSON.stringify(state));\n  }, [key, state, store]);\n\n  return [state, setState];\n}\n\nexport default usePersist;\n","export const withRandom = (moveFn) => {\n  moveFn._isRandom = true;\n  return moveFn;\n}\n\nexport const isRandomMove = (moveFn) => moveFn._isRandom;\n\nexport const shuffle = ({ random = Math.random, array }) => {\n  const length = array == null ? 0 : array.length\n  if (!length) {\n    return []\n  }\n  let index = -1\n  const lastIndex = length - 1\n  const result = [...array];\n  while (++index < length) {\n    const rand = index + Math.floor(random() * (lastIndex - index + 1))\n    const value = result[rand]\n    result[rand] = result[index]\n    result[index] = value\n  }\n  return result\n}\n\nexport const genSeed = (random) => random();","const getMoves = ({ connectionId, roomId, game }) => (\n  connectionId === roomId ? game.hostMoves : game.guestMoves\n);\n\nexport const getMove = ({ connectionId, roomId, game, move }) => (\n  getMoves({ connectionId, roomId, game })[move]\n)\n\nexport const constructMoves = ({ game, connectionId, roomId, handleMove }) => {\n  return new Proxy({}, {\n    get: (target, key, receiver) => {\n      const moves = getMoves({ connectionId, roomId, game });\n      if (moves.hasOwnProperty(key)) {\n        return (args) => handleMove({ move: key, args });\n      } else if (key === Symbol.iterator && moves) {\n        return moves.keys().bind(target)[Symbol.iterator]\n      } else {\n        return Reflect.get(target, key, receiver);\n      }\n    }\n  });\n}\n","export const withSecret = (moveFn) => {\n  moveFn._isSecret = true;\n  return moveFn;\n}\n\nexport const isSecretMove = (moveFn) => moveFn._isSecret\n","import { useCallback, useMemo } from \"react\";\nimport { diff } from \"jsondiffpatch\";\nimport seedrandom from \"seedrandom\";\nimport { useStatesStore } from \"./stores\";\nimport { isRandomMove, genSeed } from \"../random\";\nimport { getMove } from \"../shared\";\nimport { isSecretMove } from \"../secret\";\n\nconst reducer = ({ state, contextId, connectionId, roomId, random, game, move, args, revealSecret }) => {\n  const moveFn = getMove({ connectionId, roomId, game, move })\n  let event = { connectionId, move, args };\n  let opts = { state, roomId, connectionId, args };\n\n  if (isRandomMove(moveFn)) {\n    event.seed = genSeed(random);\n    opts.random = seedrandom(event.seed);\n  }\n\n  if (isSecretMove(moveFn)) {\n    opts.contextId = contextId;\n    opts.revealSecret = revealSecret;\n  }\n\n  const newState = moveFn(opts);\n\n  if (isSecretMove(moveFn)) {\n    event.patch = diff(state, newState);\n  }\n\n  return { state: newState, event };\n}\n\nconst useGameState = ({ roomId, game, random, connectionIds, logEvent }) => {\n  const { states, setStates } = useStatesStore(roomId);\n  const hostState = useMemo(() => (states[roomId] || {}), [roomId, states])\n  const input = useCallback(({ connectionId, move, args }) => {\n    if (connectionIds == null);\n    const revealSecret = (id, fn) => fn(states[id]);\n    setStates((states) => (\n      ([...connectionIds, roomId]).reduce((newStates, contextId) => {\n        try {\n          const { state, event } = reducer({\n            state: states[contextId] || {},\n            connectionId,\n            args,\n            move,\n            roomId,\n            game,\n            contextId,\n            random,\n            revealSecret\n          });\n          newStates[contextId] = state;\n          logEvent({ connectionId: contextId, event });\n        } catch (error) {\n          console.error(\"Invalid Event\", error);\n        } finally {\n          return newStates;\n        }\n      }, {})\n    ));\n  }, [logEvent, connectionIds, states, roomId, game, random, setStates]);\n\n  return { state: hostState, input };\n}\n\nexport default useGameState\n","import usePersist from '../usePersist';\nimport { useCallback } from 'react';\n\nexport const useStatesStore = (roomId) => {\n  const [states, setStates]  = usePersist(\n    window.localStorage,\n    `hostState-${roomId}`,\n    {}\n  );\n\n  return { states, setStates }\n}\n\nexport const useEventLogStore = (roomId) => {\n  const [eventLogs, setEventLogs] = usePersist(\n    window.localStorage,\n    `eventLog-${roomId}`,\n    {}\n  );\n  const logEvent = useCallback(({ connectionId, event }) => {\n    setEventLogs((eventLogs) => {\n      const logs = eventLogs[connectionId] || [];\n      return { ...eventLogs, [connectionId]: [...logs, event] };\n    });\n  }, [setEventLogs]);\n  return { eventLogs, logEvent };\n}\n","import { useEffect, useState, useReducer } from \"react\";\nimport Peer from \"peerjs\";\n\nconst destructPeer = ({ setPeer }) => {\n  setPeer(peer => {\n    peer && peer.destroy();\n    return null\n  })\n};\n\nconst opts = { host: \"peerjs.92k.de\", secure: true };\n\nconst usePeer = (id) => {\n  const [peer, setPeer] = useState();\n  const [open, setOpen] = useState(false);\n  const [attempts, countAttempt] = useReducer(a => a + 1, 0);\n\n  useEffect(() => {\n    if (open) return;\n\n    const peer = new Peer(id, opts);\n    setPeer(peer);\n\n    const retry = () => {\n      setOpen(false);\n      destructPeer({ setPeer });\n      countAttempt();\n    };\n\n    let timeout = setTimeout(retry, 1000);\n\n    peer.on(\"open\", () => {\n      clearTimeout(timeout);\n      setOpen(true);\n    });\n\n    const onConnectionClosed = () => {\n      clearTimeout(timeout);\n      timeout = setTimeout(retry, 1000);\n    }\n    peer.on(\"close\", onConnectionClosed);\n    peer.on(\"disconnected\", onConnectionClosed);\n    peer.on(\"error\", onConnectionClosed);\n\n    return () => {\n      destructPeer({ setPeer });\n      clearTimeout(timeout);\n    }\n  }, [attempts, id])\n\n  return { open, peer }\n}\n\nexport default usePeer;\n","import { useRef, useState, useEffect, useReducer } from \"react\";\nimport { isString, isObject, isInteger } from \"lodash\";\nimport usePeer from \"../usePeer\";\n\nconst validateEvent = (event, validMoves) => (\n  event &&\n  isString(event.move) && \n  isObject(event.args) &&\n  validMoves.findIndex((m) => m === event.move) > -1\n)\n\nconst appendConnection = ({ setConnections, conn }) => {\n  setConnections((conns) => [...conns, conn]);\n}\n\nconst removeConnection = ({ setConnections, conn }) => {\n  setConnections((conns) => conns.filter(c => c !== conn))\n}\n\nconst updateLogSizeMap = ({ conn, connectionLogSizeMap, size = 0 }) => {\n  connectionLogSizeMap.current[conn.peer] = size\n}\n\nconst useConnections = ({ game, roomId }) => {\n  const { peer } = usePeer(roomId);\n  const [connections, setConnections] = useState([]);\n  const connectionLogSizeMap = useRef({});\n  const [connectionIds, addConnectionId] = useReducer((state, connId) => [...state, connId], []);\n  const [onGuestEvent, setOnGuestEvent] = useState(() => () => {});\n\n  useEffect(() => {\n    if (!peer || !onGuestEvent) return;\n\n    peer.on(\"connection\", (conn) => {\n      conn.on(\"open\", () => {\n        appendConnection({ setConnections, conn });\n        addConnectionId(conn.peer);\n      });\n\n      conn.on(\"data\", ({ index, ...event }) => {\n        if (isInteger(index)) {\n          updateLogSizeMap({ conn, connectionLogSizeMap, size: index + 1 });\n        }\n        \n        if (\n          (isInteger(index) || index === null) &&\n          validateEvent(event, Object.keys(game.guestMoves))\n        ) {\n          onGuestEvent({ ...event, connectionId: conn.peer });\n        }\n      })\n\n      conn.on(\"close\", () => {\n        removeConnection({ setConnections, conn });\n      });\n\n      conn.on(\"error\", (error) => {\n        console.error(conn.peer, error)\n      });\n    })\n  }, [peer, game, roomId, onGuestEvent])\n\n  return { connections, connectionIds, connectionLogSizeMap, setOnGuestEvent }\n}\n\nexport default useConnections;","import { useState, useMemo, useCallback } from \"react\";\nimport { constructMoves } from \"../shared\";\n\nconst useMoves = ({ roomId, game }) => {\n  const [onEvent, setOnHostEvent] = useState(() => {});\n  const handleMove = useCallback((event) => {\n    onEvent({ ...event, connectionId: roomId })\n  }, [roomId, onEvent]);\n  const moves = useMemo(() => {\n    if (!handleMove || !roomId  || !game) return {};\n    return constructMoves({ game, connectionId: roomId, roomId, handleMove });\n}, [roomId, game, handleMove]);\n  return { moves, setOnHostEvent };\n}\n\nexport default useMoves;","import { useEffect } from \"react\";\n\nconst useSendSyncs = ({ connections, connectionLogSizeMap, eventLogs }) => {\n  useEffect(() => {\n    if (eventLogs == null) return;\n    for (const connection of connections) {\n      const eventLog = eventLogs[connection.peer] || [];\n      const numSent = connectionLogSizeMap.current[connection.peer] || 0;\n      if (eventLog.length > numSent) {\n        const events = eventLog.slice(numSent)\n          .map((e, i) => ({ ...e, index: numSent + i }));\n        connection.send(events);\n      }\n    }\n  }, [connections, connectionLogSizeMap, eventLogs]);\n};\n\nexport default useSendSyncs;\n","import { useEffect, useState } from \"react\";\n\nconst useInputBuffer = ({ setOnGuestEvent, setOnHostEvent, input }) => {\n    const [inputBuffer, setInputBuffer] = useState([]);\n\n    useEffect(() => {\n      const pushInput = (event) => (\n        setInputBuffer((buffer => [...buffer, event])\n      ))\n      setOnGuestEvent(() => pushInput);\n      setOnHostEvent(() => pushInput);\n    }, [setOnGuestEvent, setOnHostEvent, setInputBuffer]);\n    \n    useEffect(() => {\n      if (!inputBuffer.length || !input) return;\n      setInputBuffer(([head, ...tail]) => {\n        input(head)\n        return tail;\n      })\n    }, [inputBuffer, input]);\n}\n\nexport default useInputBuffer;","import seedrandom from \"seedrandom\";\nimport { useMemo } from \"react\";\nimport { useEventLogStore } from \"./stores\";\nimport useGameState from \"./useGameState\";\nimport useConnections from \"./useConnections\";\nimport useMoves from \"./useMoves\";\nimport useSendSyncs from \"./useSendSyncs\";\nimport useInputBuffer from \"./useInputBuffer\";\n\nconst usePartyHost = ({ roomId, game, secret }) => {\n\n  // The host will need to make some random decisions\n  const random = useMemo(() => seedrandom(secret || roomId), [secret, roomId]);\n\n  // The event log will store validated events, so we can sync guests.\n  const { eventLogs, logEvent } = useEventLogStore(roomId);\n\n  // Guests connect and send (not trusted) events.\n  // The host remembers the last event a guest has acknowledged receiving a sync for.\n  const { setOnGuestEvent, connections, connectionIds, connectionLogSizeMap } = useConnections({ game, roomId });\n\n  // The host creates events also\n  const { setOnHostEvent, moves } = useMoves({ roomId, game });\n\n  // When an event takes places, applies it to a state for each connection, to check it is a valid move.\n  // If no error is thrown it is a valid move, then the state is updated and the valid event is logged.\n  const { state, input } = useGameState({ roomId, game, eventLogs, logEvent, random, connectionIds });\n\n  // Connect yet-to-be-validated guest and host events to the event handler\n  useInputBuffer({ setOnHostEvent, setOnGuestEvent, input })\n\n  // Update active connections with valid events in the log they have yet to acknowledge.\n  useSendSyncs({ connections, connectionLogSizeMap, eventLogs });\n\n  const activeConnectionIds = useMemo(() => connections.map(conn => conn.peer), [connections]);\n\n  return { state, moves, connections: activeConnectionIds };\n}\n\nexport default usePartyHost;","import seedrandom from \"seedrandom\";\nimport { patch } from \"jsondiffpatch\";\nimport { getMove } from \"../shared\";\nimport { isRandomMove } from \"../random\";\nimport { isSecretMove } from \"../secret\";\n\nexport const logSizeToIndex = logSize => {\n  const index = logSize - 1;\n  return (index < 0) ? null : index;\n};\n\nexport const constructReducer = ({ game, events, roomId }) => (state) => {\n  try {\n    return events.reduce(\n      (o, event) => {\n        const moveFn = getMove({ connectionId: event.connectionId, roomId, game, move: event.move });\n        const opts = { state: o, roomId, connectionId: event.connectionId, args: event.args };\n\n        if (isRandomMove(moveFn)) {\n          if (event.seed == null) {\n            throw new Error('Random moves require a seed from the host');\n          }\n          opts.random = seedrandom(event.seed);\n        }\n        \n        if (isSecretMove(moveFn)) {\n          if (event.patch == null) {\n            throw new Error('Secret moves require a state patch from the host');\n          }\n          patch(o, event.patch);\n          return o;\n        }\n\n        return moveFn(opts);\n      },\n      state\n    );\n  } catch (e) {\n    console.error(e);\n    return state;\n  }\n};","import { useEffect } from \"react\";\nimport { logSizeToIndex } from \"./funcs\";\n\nexport const ack = ({ conn, logSize }) => {\n  conn.current.send({ index: logSizeToIndex(logSize) })\n}\n\nconst useAck = ({ connected, conn, logSize }) => {\n  useEffect(() => {\n    if (!conn.current || !connected) return;\n    ack({ conn, logSize })\n  }, [connected, conn, logSize]);\n}\n\nexport default useAck;\n","import { useEffect } from \"react\";\nimport { constructReducer } from \"./funcs\";\n\nconst sync = ({ setState, roomId, game, events }) => {\n  const reducer = constructReducer({ game, roomId, events })\n  setState(({ state }) => {\n    const newState = reducer(state);\n    return { state: newState, cache: newState }\n  });\n}\n\nconst updateLogSize = ({ setLogSize, events }) => {\n  setLogSize(events[events.length - 1].index + 1);\n}\n\nconst useSync = ({ data, clearData, game, roomId, setState, setLogSize }) => {\n  useEffect(() => {\n    if (!data || !data.length) return;\n    const events = [...data]\n    clearData();\n    updateLogSize({ setLogSize, events });\n    sync({ setState, roomId, game, events })\n  }, [data, clearData, game, roomId, setLogSize, setState])\n}\n\nexport default useSync;\n","import { useEffect, useState } from \"react\";\nimport { getMove, constructMoves  } from \"../shared\";\nimport { logSizeToIndex, constructReducer } from \"./funcs\";\nimport { isRandomMove } from \"../random\";\nimport { isSecretMove } from \"../secret\";\n\nexport const emit = ({ conn, logSize, move, args }) => {\n  conn.current.send({ index: logSizeToIndex(logSize), move, args })\n}\n\nexport const preempt = ({ setState, game, move, args, connectionId, roomId }) => {\n  const reducer = constructReducer({ game, roomId, events: [{ move, args, connectionId }] })\n  setState(({ state, cache }) => ({\n    cache: reducer(cache),\n    state,\n  }));\n}\n\nexport const constructMovesHandler = ({ conn, connectionId, setMoves, setState, game, logSize, roomId }) => {\n  const handleMove = ({ move, args }) => {\n    const moveFn = getMove({ connectionId, roomId, game, move })\n    if (!isRandomMove(moveFn) && !isSecretMove(moveFn)) {\n      preempt({ setState, game, move, args, roomId, connectionId })\n    }\n    emit({ conn, move, args, logSize })\n  }\n  setMoves(() => constructMoves({ game, connectionId, roomId, handleMove }));\n}\n\nconst useMoves = ({ connected, conn, id, setState, roomId, game, logSize }) => {\n  const [moves, setMoves] = useState(null);\n  useEffect(() => {\n    if (!connected) return;\n    constructMovesHandler({ conn, connectionId: id, setMoves, setState, roomId, game, logSize })\n  }, [connected, conn, id, setMoves, setState, roomId, game, logSize])\n  return { moves };\n}\n\nexport default useMoves;\n","import { useEffect, useRef, useState, useReducer } from \"react\";\nimport usePeer from \"../usePeer\";\n\nexport const connect = ({ roomId, peer, conn }) => {\n  conn.current = peer.connect(roomId,  { serialization: \"json\" });\n}\n\nconst useConnection = ({ id, roomId }) => {\n  const conn = useRef();\n  const { open, peer } = usePeer(id);\n  const [data, setData] = useState([]);\n  const [connected, setConnected] = useState(false);\n  const [attempts, countAttempt] = useReducer(a => a + 1, 0);\n\n  useEffect(() => {\n    if (!peer || !open || connected) return;\n\n    connect({ conn, peer, roomId });\n\n    const retry = () => {\n      conn.current = null;\n      setConnected(false);\n      countAttempt();\n    }\n    const timeout = setTimeout(retry, 1000);\n\n    conn.current.on(\"open\", () => {\n      clearTimeout(timeout);\n      setConnected(true); \n    });\n\n    conn.current.on(\"data\", (data) => {\n      setData((stream) => [...stream, ...data]);\n    });\n\n    conn.current.on(\"close\", () => {\n      clearTimeout(timeout);\n      retry();\n    });\n\n    conn.current.on(\"error\", (error) => {\n      console.error(error)\n    });\n\n  }, [attempts, open, connected, roomId, peer]);\n\n  const clearData = () => setData([]);\n  return { connected: open && connected, conn, data, clearData }\n}\n\nexport default useConnection;\n","import useAck from \"./useAck\";\nimport useSync from \"./useSync\";\nimport useMoves from \"./useMoves\";\nimport useConnection from \"./useConnection\";\nimport { useIdStore, useStateStore, useLogSizeStore } from \"./stores\";\n\nconst usePartyGuest = ({ roomId, game }) => {\n  const { id } = useIdStore(roomId);\n  const { cache, setState } = useStateStore(roomId);\n  const { logSize, setLogSize } = useLogSizeStore(roomId);\n  const { connected, conn, data, clearData } = useConnection({ id, roomId })\n  useAck({ connected, conn, logSize });\n  useSync({ data, clearData, game, roomId, setState, setLogSize });\n  const { moves } = useMoves({ connected, conn, id, setState, roomId, game, logSize });\n  return { connectionId: id, connected, state: cache, moves }\n}\n\nexport default usePartyGuest;\n","import usePersist from \"../usePersist\";\nimport { v4 as uuid } from \"uuid\";\n\nexport const useIdStore = (roomId) => {\n  const [id] = usePersist(\n    window.localStorage,\n    `id-${roomId}`,\n    uuid,\n  );\n  return { id };\n}\n\nexport const useStateStore = (roomId) => {\n  const [{ cache }, setState] = usePersist(\n    window.localStorage,\n    `guestState-${roomId}`,\n    { state: {}, cache: {} }\n  );\n  return { cache, setState };\n}\n\nexport const useLogSizeStore = (roomId) => {\n  const [logSize, setLogSize] = usePersist(\n    window.localStorage,\n    `logSize-${roomId}`,\n    0\n  );\n  return { logSize, setLogSize };\n}\n","export const NOUGHTS = 1;\nexport const CROSSES = 2;\n\nconst startGame = ({ state, connectionId, args }) => ({\n  crossesPlayer: args.crossesConnId,\n  noughtsPlayer: args.noughtsConnId,\n  board: Array(9).fill(null),\n});\n\nconst fillSquare = ({ state, connectionId, args }) => {\n  let player = null\n  if (connectionId === state.crossesPlayer) {\n    player = CROSSES;\n  } else if (connectionId === state.noughtsPlayer) {\n    player = NOUGHTS;\n  } else {\n    throw new Error('Connection is not a player');\n  }\n\n  if (state.board[args.position] !== null) {\n    throw new Error('Position filled');\n  }\n\n  const board = [...state.board];\n  board.splice(args.position, 1, player);\n\n  return ({\n    ...state,\n    board,\n  })\n}\n\nconst TicTacToe = {\n  guestMoves: {\n    fillSquare,\n  },\n  \n  hostMoves: {\n    startGame,\n  },\n}\n\nexport default TicTacToe;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { NOUGHTS, CROSSES } from \"../game\";\n\nconst Button = styled.button`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\n\nconst Tile = styled.div`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\n\nconst Board = styled.div`\n  width: 30em;\n  height: 30em;\n`;\n\nconst TileOrButton = ({ value, onClick }) =>\n  (value === null)\n    ? <Button onClick={onClick}></Button>\n    : <Tile>\n        {value === NOUGHTS ? \"O\" : null}\n        {value === CROSSES ? \"X\" : null}\n      </Tile>\n\nconst Guest = ({ connected, state, moves }) => (\n  <>\n    {connected ? null : <p>Disconnected..</p>}\n    <Board>\n      {state.board && state.board.map((value, position) =>\n        <TileOrButton key={position} value={value} onClick={() => connected && moves.fillSquare({ position })} />\n      )}\n    </Board>\n  </>\n)\n\nexport default Guest;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { NOUGHTS, CROSSES } from \"../game\";\n\nconst Tile = styled.div`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: cyan;\n  border: 2px solid yellow;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\n\nconst Board = styled.div`\n  width: 30em;\n  height: 30em;\n`;\n\nconst Host = ({ state, roomId, moves, connections }) => {\n  useEffect(() => {\n    if (!state.board && connections.length >= 2) {\n      const [crossesConnId, noughtsConnId] = connections;\n      moves.startGame({ crossesConnId, noughtsConnId });\n    }\n  }, [connections])\n\n  return (\n    <>\n      {connections.length < 2 && (\n        <Link to={`/guest/${roomId}`}>\n          {window.location.host}#/guest/{roomId}\n        </Link>\n      )}\n      <Board>\n        {state.board && state.board.map((value, position) => (\n          <Tile key={position}>\n            {value === NOUGHTS ? \"O\" : null}\n            {value === CROSSES ? \"X\" : null}\n          </Tile>\n        ))}\n      </Board>\n    </>\n  );\n}\n\nexport default Host;\n","import game from \"./game\";\nimport { Host, Guest } from \"./client\";\n\nconst name = \"Tic Tac Toe\";\n\nconst TicTacToe = { name, Host, Guest, game };\n\nexport default TicTacToe;\n","const joinAsAPlayer = ({ state, connectionId, args }) => {\n  if (state.players.list.length >= state.players.maxPlayers) {\n    throw new Error(\"The number of players has reached it's maximum\");\n  }\n  const player = { connectionId, name: args.name, emoji: args.emoji };\n  const playerList = [...state.players.list, player];\n  const players = { ...state.players, list: playerList };\n  return { ...state, players };\n}\n\nconst initPlayers = ({ state, args }) => {\n  const players = {\n    maxPlayers: args.maxPlayers,\n    minPlayers: args.minPlayers,\n    everyoneIsIn: false,\n    list: []\n  }\n  return { ...state, players }\n}\n\nconst everyoneIsIn = ({ state }) => {\n  if (state.players.list.length > state.players.maxPlayers) {\n    throw new Error(\"Too many players\");\n  }\n  if (state.players.list.length < state.players.minPlayers) {\n    throw new Error(\"Not enough players\");\n  }\n  return {\n    ...state,\n    players: {\n      ...state.players,\n      everyoneIsIn: true\n    }\n  }\n}\n\nconst game = {\n  guestMoves: {\n    joinAsAPlayer,\n  },\n  \n  hostMoves: {\n    initPlayers,\n    everyoneIsIn,\n  },\n}\n\nexport default game;\n","export default __webpack_public_path__ + \"static/media/AH.1a5ea790.svg\";","export default __webpack_public_path__ + \"static/media/AC.0e3c2151.svg\";","export default __webpack_public_path__ + \"static/media/AD.5c4da062.svg\";","export default __webpack_public_path__ + \"static/media/AS.0beacefa.svg\";","export default __webpack_public_path__ + \"static/media/2H.cb701b97.svg\";","export default __webpack_public_path__ + \"static/media/2C.276c3f69.svg\";","export default __webpack_public_path__ + \"static/media/2D.bc21ec2a.svg\";","export default __webpack_public_path__ + \"static/media/2S.ec187ad2.svg\";","export default __webpack_public_path__ + \"static/media/3H.cba17cfa.svg\";","export default __webpack_public_path__ + \"static/media/3C.4defbcf5.svg\";","export default __webpack_public_path__ + \"static/media/3D.8d12a3fc.svg\";","export default __webpack_public_path__ + \"static/media/3S.ed80cdda.svg\";","export default __webpack_public_path__ + \"static/media/4H.8924ea52.svg\";","export default __webpack_public_path__ + \"static/media/4C.3ebe0e73.svg\";","export default __webpack_public_path__ + \"static/media/4D.433a1ecc.svg\";","export default __webpack_public_path__ + \"static/media/4S.7e474260.svg\";","export default __webpack_public_path__ + \"static/media/5H.04a38bb9.svg\";","export default __webpack_public_path__ + \"static/media/5C.809e552d.svg\";","export default __webpack_public_path__ + \"static/media/5D.03b1a4af.svg\";","export default __webpack_public_path__ + \"static/media/5S.f4e082a6.svg\";","export default __webpack_public_path__ + \"static/media/6H.5380d254.svg\";","export default __webpack_public_path__ + \"static/media/6C.1f69ca79.svg\";","export default __webpack_public_path__ + \"static/media/6D.8c9d26ce.svg\";","export default __webpack_public_path__ + \"static/media/6S.33eb8c1b.svg\";","export default __webpack_public_path__ + \"static/media/7H.156a2f08.svg\";","export default __webpack_public_path__ + \"static/media/7C.cb6a5b5c.svg\";","export default __webpack_public_path__ + \"static/media/7D.bc93fd45.svg\";","export default __webpack_public_path__ + \"static/media/7S.f91490c5.svg\";","export default __webpack_public_path__ + \"static/media/8H.878dbca5.svg\";","export default __webpack_public_path__ + \"static/media/8C.e91af699.svg\";","export default __webpack_public_path__ + \"static/media/8D.ca4420e9.svg\";","export default __webpack_public_path__ + \"static/media/8S.fd5cd6f8.svg\";","export default __webpack_public_path__ + \"static/media/9H.57bfd8e3.svg\";","export default __webpack_public_path__ + \"static/media/9C.c6a841cc.svg\";","export default __webpack_public_path__ + \"static/media/9D.3d612a15.svg\";","export default __webpack_public_path__ + \"static/media/9S.6c7e4615.svg\";","export default __webpack_public_path__ + \"static/media/10H.c8c8e4de.svg\";","export default __webpack_public_path__ + \"static/media/10C.0cc64a48.svg\";","export default __webpack_public_path__ + \"static/media/10D.956683a1.svg\";","export default __webpack_public_path__ + \"static/media/10S.99cb26ab.svg\";","export default __webpack_public_path__ + \"static/media/JH.86f58f4f.svg\";","export default __webpack_public_path__ + \"static/media/JC.b801c5a7.svg\";","export default __webpack_public_path__ + \"static/media/JD.a0e75607.svg\";","export default __webpack_public_path__ + \"static/media/JS.1a6f34e2.svg\";","export default __webpack_public_path__ + \"static/media/QH.f56614ef.svg\";","export default __webpack_public_path__ + \"static/media/QC.3eb5bae0.svg\";","export default __webpack_public_path__ + \"static/media/QD.c20eb8d2.svg\";","export default __webpack_public_path__ + \"static/media/QS.cc68ac97.svg\";","export default __webpack_public_path__ + \"static/media/KH.3d6b1be6.svg\";","export default __webpack_public_path__ + \"static/media/KC.ca193598.svg\";","export default __webpack_public_path__ + \"static/media/KD.32d1a9f8.svg\";","export default __webpack_public_path__ + \"static/media/KS.b54b6bba.svg\";","export default __webpack_public_path__ + \"static/media/JOKER.96be08d3.svg\";","const SUITS = ['H', 'D', 'S', 'C'];\nconst JOKER = 0,\n  ACE = 1,\n  JACK = 11,\n  QUEEN = 12,\n  KING = 13;\nconst VALUES = [ACE, 2, 3, 4, 5, 6, 7, 8, 9, 10, JACK, QUEEN, KING];\n\nexport {\n  SUITS,\n  VALUES,\n  JOKER,\n  ACE,\n  JACK,\n  QUEEN,\n  KING,\n}\n","import { JOKER, SUITS, VALUES } from \"./model\";\n\nconst constructDeckOfCards = ({ jokers = 0 } = {}) => {\n  const cards = []\n  for (let suit of SUITS) {\n    for (let value of VALUES) {\n      cards.push({ suit, value });\n    }\n  }\n\n  for (let i = 0; i < jokers; i++) {\n    cards.push({ suit: null, value: JOKER });\n  }\n\n  return cards;\n}\n\n\nexport default constructDeckOfCards;\n","import React from 'react'\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  margin-bottom: -9em;\n  margin-right: -3em;\n\n  ${({ order }) => order && `order: ${order};`}\n`;\n\nconst UnSelectable = styled.div`\n  position: relative;\n  margin-top: 2em;\n`;\n\nconst Selectable = styled(UnSelectable)`\n  &:hover {\n    margin-top: 1em;\n    margin-bottom: 1em;\n    cursor: pointer;\n  }\n\n  ${({ isSelected }) => isSelected && `\n    margin-top: 0em;\n    margin-bottom: 2em;\n\n    &:hover {\n      margin-top: 0em;\n      margin-bottom: 2em;\n    }\n  `}\n`;\n\nconst Overlay = styled.div`\n  opacity: 0.4;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 0.5em;\n\n  ${({ isSelected, selectColor }) => isSelected && selectColor && `\n    background-color: ${selectColor};\n  `}\n`;\n\nconst FaceImg = styled.img`\n  width: 9em;\n  display: block;\n`;\n\nconst SelectableFace = ({ isSelected, selectColor, faceImage, altText, onClick }) => (\n  <Selectable isSelected={isSelected}>\n    <FaceImg src={faceImage} alt={altText} />\n    <Overlay isSelected={isSelected} selectColor={selectColor} onClick={onClick}/>\n  </Selectable>\n);\n\nconst UnSelectableFace = ({ faceImage, altText }) => (\n  <UnSelectable>\n    <FaceImg src={faceImage} alt={altText}/>\n  </UnSelectable>\n);\n\nconst Card = ({ order, canBeSelected, isSelected, selectColor, faceImage, altText, onClick }) => {\n  const Face = canBeSelected ? SelectableFace : UnSelectableFace;\n  return (\n    <Container order={order}>\n      <Face isSelected={isSelected} selectColor={selectColor} faceImage={faceImage} altText={altText} onClick={onClick} />\n    </Container>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport HA from './cards/AH.svg'\nimport CA from './cards/AC.svg'\nimport DA from './cards/AD.svg'\nimport SA from './cards/AS.svg'\nimport H2 from './cards/2H.svg'\nimport C2 from './cards/2C.svg'\nimport D2 from './cards/2D.svg'\nimport S2 from './cards/2S.svg'\nimport H3 from './cards/3H.svg'\nimport C3 from './cards/3C.svg'\nimport D3 from './cards/3D.svg'\nimport S3 from './cards/3S.svg'\nimport H4 from './cards/4H.svg'\nimport C4 from './cards/4C.svg'\nimport D4 from './cards/4D.svg'\nimport S4 from './cards/4S.svg'\nimport H5 from './cards/5H.svg'\nimport C5 from './cards/5C.svg'\nimport D5 from './cards/5D.svg'\nimport S5 from './cards/5S.svg'\nimport H6 from './cards/6H.svg'\nimport C6 from './cards/6C.svg'\nimport D6 from './cards/6D.svg'\nimport S6 from './cards/6S.svg'\nimport H7 from './cards/7H.svg'\nimport C7 from './cards/7C.svg'\nimport D7 from './cards/7D.svg'\nimport S7 from './cards/7S.svg'\nimport H8 from './cards/8H.svg'\nimport C8 from './cards/8C.svg'\nimport D8 from './cards/8D.svg'\nimport S8 from './cards/8S.svg'\nimport H9 from './cards/9H.svg'\nimport C9 from './cards/9C.svg'\nimport D9 from './cards/9D.svg'\nimport S9 from './cards/9S.svg'\nimport H10 from './cards/10H.svg'\nimport C10 from './cards/10C.svg'\nimport D10 from './cards/10D.svg'\nimport S10 from './cards/10S.svg'\nimport HJ from './cards/JH.svg'\nimport CJ from './cards/JC.svg'\nimport DJ from './cards/JD.svg'\nimport SJ from './cards/JS.svg'\nimport HQ from './cards/QH.svg'\nimport CQ from './cards/QC.svg'\nimport DQ from './cards/QD.svg'\nimport SQ from './cards/QS.svg'\nimport HK from './cards/KH.svg'\nimport CK from './cards/KC.svg'\nimport DK from './cards/KD.svg'\nimport SK from './cards/KS.svg'\nimport JKR from './cards/JOKER.svg'\nimport { JOKER, ACE, KING, QUEEN, JACK } from '../game'\nimport Card from \"./Card\";\n\nconst getFaceImage = ({ suit, value }) => {\n  if (value === JOKER) {\n    return JKR\n  } else if (value === ACE && suit === 'H') {\n    return HA\n  } else if (value === ACE && suit === 'D') {\n    return DA\n  } else if (value === ACE && suit === 'S') {\n    return SA\n  } else if (value === ACE && suit === 'C') {\n    return CA\n  } else if (value === 2 && suit === 'H') {\n    return H2\n  } else if (value === 2 && suit === 'D') {\n    return D2\n  } else if (value === 2 && suit === 'S') {\n    return S2\n  } else if (value === 2 && suit === 'C') {\n    return C2\n  } else if (value === 3 && suit === 'H') {\n    return H3\n  } else if (value === 3 && suit === 'D') {\n    return D3\n  } else if (value === 3 && suit === 'S') {\n    return S3\n  } else if (value === 3 && suit === 'C') {\n    return C3\n  } else if (value === 4 && suit === 'H') {\n    return H4\n  } else if (value === 4 && suit === 'D') {\n    return D4\n  } else if (value === 4 && suit === 'S') {\n    return S4\n  } else if (value === 4 && suit === 'C') {\n    return C4\n  } else if (value === 5 && suit === 'H') {\n    return H5\n  } else if (value === 5 && suit === 'D') {\n    return D5\n  } else if (value === 5 && suit === 'S') {\n    return S5\n  } else if (value === 5 && suit === 'C') {\n    return C5\n  } else if (value === 6 && suit === 'H') {\n    return H6\n  } else if (value === 6 && suit === 'D') {\n    return D6\n  } else if (value === 6 && suit === 'S') {\n    return S6\n  } else if (value === 6 && suit === 'C') {\n    return C6\n  } else if (value === 7 && suit === 'H') {\n    return H7\n  } else if (value === 7 && suit === 'D') {\n    return D7\n  } else if (value === 7 && suit === 'S') {\n    return S7\n  } else if (value === 7 && suit === 'C') {\n    return C7\n  } else if (value === 8 && suit === 'H') {\n    return H8\n  } else if (value === 8 && suit === 'D') {\n    return D8\n  } else if (value === 8 && suit === 'S') {\n    return S8\n  } else if (value === 8 && suit === 'C') {\n    return C8\n  } else if (value === 9 && suit === 'H') {\n    return H9\n  } else if (value === 9 && suit === 'D') {\n    return D9\n  } else if (value === 9 && suit === 'S') {\n    return S9\n  } else if (value === 9 && suit === 'C') {\n    return C9\n  } else if (value === 10 && suit === 'H') {\n    return H10\n  } else if (value === 10 && suit === 'D') {\n    return D10\n  } else if (value === 10 && suit === 'S') {\n    return S10\n  } else if (value === 10 && suit === 'C') {\n    return C10\n  } else if (value === JACK && suit === 'H') {\n    return HJ\n  } else if (value === JACK && suit === 'D') {\n    return DJ\n  } else if (value === JACK && suit === 'S') {\n    return SJ\n  } else if (value === JACK && suit === 'C') {\n    return CJ\n  } else if (value === QUEEN && suit === 'H') {\n    return HQ\n  } else if (value === QUEEN && suit === 'D') {\n    return DQ\n  } else if (value === QUEEN && suit === 'S') {\n    return SQ\n  } else if (value === QUEEN && suit === 'C') {\n    return CQ\n  } else if (value === KING && suit === 'H') {\n    return HK\n  } else if (value === KING && suit === 'D') {\n    return DK\n  } else if (value === KING && suit === 'S') {\n    return SK\n  } else if (value === KING && suit === 'C') {\n    return CK\n  }\n}\n\nconst getAltText = ({ value, suit }) => {\n  if (value === JOKER) {\n    return ' Joker'\n  } else if (value === ACE && suit === 'H') {\n    return ' Ace of Hearts'\n  } else if (value === ACE && suit === 'D') {\n    return ' Ace of Diamonds'\n  } else if (value === ACE && suit === 'S') {\n    return ' Ace of Spaces'\n  } else if (value === ACE && suit === 'C') {\n    return ' Ace of Clubs'\n  } else if (value === 2 && suit === 'H') {\n    return ' Two of Hearts'\n  } else if (value === 2 && suit === 'D') {\n    return ' Two of Diamonds'\n  } else if (value === 2 && suit === 'S') {\n    return ' Two of Spades'\n  } else if (value === 2 && suit === 'C') {\n    return ' Two of Clubs'\n  } else if (value === 3 && suit === 'H') {\n    return ' Three of Hearts'\n  } else if (value === 3 && suit === 'D') {\n    return ' Three of Diamonds'\n  } else if (value === 3 && suit === 'S') {\n    return ' Three of Spades'\n  } else if (value === 3 && suit === 'C') {\n    return ' Three of Clubs'\n  } else if (value === 4 && suit === 'H') {\n    return ' Four of Hearts'\n  } else if (value === 4 && suit === 'D') {\n    return ' Four of Diamonds'\n  } else if (value === 4 && suit === 'S') {\n    return ' Four of Spades'\n  } else if (value === 4 && suit === 'C') {\n    return ' Four of Clubs'\n  } else if (value === 5 && suit === 'H') {\n    return ' Five of Hearts'\n  } else if (value === 5 && suit === 'D') {\n    return ' Five of Diamonds'\n  } else if (value === 5 && suit === 'S') {\n    return ' Five of Spades'\n  } else if (value === 5 && suit === 'C') {\n    return ' Five of Clubs'\n  } else if (value === 6 && suit === 'H') {\n    return ' Six of Hearts'\n  } else if (value === 6 && suit === 'D') {\n    return ' Six of Diamomnds'\n  } else if (value === 6 && suit === 'S') {\n    return ' Six of Spades'\n  } else if (value === 6 && suit === 'C') {\n    return ' Six of Clubs'\n  } else if (value === 7 && suit === 'H') {\n    return ' Seven of Hearts'\n  } else if (value === 7 && suit === 'D') {\n    return ' Seven of Diamonds'\n  } else if (value === 7 && suit === 'S') {\n    return ' Seven of Spades'\n  } else if (value === 7 && suit === 'C') {\n    return ' Seven of Clubs'\n  } else if (value === 8 && suit === 'H') {\n    return ' Eight of Hearts'\n  } else if (value === 8 && suit === 'D') {\n    return ' Eight of Diamonds'\n  } else if (value === 8 && suit === 'S') {\n    return ' Eight of Spades'\n  } else if (value === 8 && suit === 'C') {\n    return ' Eight of Clubs'\n  } else if (value === 9 && suit === 'H') {\n    return ' Nine of Hearts'\n  } else if (value === 9 && suit === 'D') {\n    return ' Nine of Diamonds'\n  } else if (value === 9 && suit === 'S') {\n    return ' Nine of Spades'\n  } else if (value === 9 && suit === 'C') {\n    return ' Nine of Clubs'\n  } else if (value === 10 && suit === 'H') {\n    return ' Ten of Hearts'\n  } else if (value === 10 && suit === 'D') {\n    return ' Ten of Diamonds'\n  } else if (value === 10 && suit === 'S') {\n    return ' Ten of Spades'\n  } else if (value === 10 && suit === 'C') {\n    return ' Ten of Clubs'\n  } else if (value === JACK && suit === 'H') {\n    return ' Jack of Hearts'\n  } else if (value === JACK && suit === 'D') {\n    return ' Jack of Diamonds'\n  } else if (value === JACK && suit === 'S') {\n    return ' Jack of Spades'\n  } else if (value === JACK && suit === 'C') {\n    return ' Jack of Clubs'\n  } else if (value === QUEEN && suit === 'H') {\n    return ' Queen of Hearts'\n  } else if (value === QUEEN && suit === 'D') {\n    return ' Queen of Diamonds'\n  } else if (value === QUEEN && suit === 'S') {\n    return ' Queen of Spades'\n  } else if (value === QUEEN && suit === 'C') {\n    return ' Queen of Clubs'\n  } else if (value === KING && suit === 'H') {\n    return ' King of Hearts'\n  } else if (value === KING && suit === 'D') {\n    return ' King of Diamonds'\n  } else if (value === KING && suit === 'S') {\n    return ' King of Spades'\n  } else if (value === KING && suit === 'C') {\n    return ' King of Clubs'\n  }\n}\n\nconst CardFront = ({ value, suit, canBeSelected = false, isSelected = false, selectColor = null }) => {\n  console.log(\"select\", selectColor);\n  const faceImage = getFaceImage({ value, suit });\n  const altText = getAltText({ value, suit });\n  return (\n    <Card faceImage={faceImage} altText={altText} isSelected={isSelected} canBeSelected={canBeSelected} selectColor={selectColor}/>\n  );\n}\n\nexport default CardFront;\n","export default __webpack_public_path__ + \"static/media/RED_BACK.eea8c6b0.svg\";","export default __webpack_public_path__ + \"static/media/BLUE_BACK.d7aabd90.svg\";","import React from \"react\";\nimport RED_BACK from './cards/RED_BACK.svg'\nimport BLUE_BACK from './cards/BLUE_BACK.svg'\nimport Card from \"./Card\";\n\nconst getFaceImage = ({ colour }) => {\n  if (colour === 'R') {\n    return RED_BACK\n  } else if (colour === 'B') {\n    return BLUE_BACK\n  }\n}\n\nconst CardBack = ({ colour, isSelected = false, canBeSelected = false, selectColor = null }) => {\n  const faceImage = getFaceImage({ colour });\n  return (\n    <Card faceImage={faceImage} altText=' Card Back' isSelected={isSelected} canBeSelected={canBeSelected} selectColor={selectColor}/>\n  );\n}\n\nexport default CardBack;\n","export default __webpack_public_path__ + \"static/media/felt.5b148bae.png\";","import styled from \"styled-components\";\nimport felt from \"./felt.png\";\n\nconst FeltTable = styled.div`\n  background-color: rgb(10, 80, 20);\n  background-image: url(${felt});\n  height: 100%;\n  padding: 5%;\n`;\n\nexport default FeltTable;\n","import styled from \"styled-components\";\n\nconst Hand = styled.section`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  max-height: 50%;\n\n  padding-right: 3em;\n  padding-bottom: 9em;\n`;\n\nexport default Hand;\n","import { PlayingCardFront } from \"./client\";\nexport * from \"./client\";\nexport * from \"./game\";\nexport default PlayingCardFront;","import playersGame from \"components/players/game\";\nimport { constructDeckOfCards } from \"components/playing-card\";\n\nconst connectionIsHosts = ({ roomId, connectionId }) => (\n  roomId === connectionId\n);\n\nconst startGame = ({ state, roomId, connectionId }) => {\n  const newState = { ...state, discard: [] };\n  const isHost = connectionIsHosts({ roomId, connectionId });\n  if (isHost) {\n    newState.deck = constructDeckOfCards();\n  } else {\n    newState.hand = []\n  }\n  return newState;\n}\n\nconst deal = () => {}\n\nconst game = {\n  guestMoves: {\n    ...playersGame.guestMoves,\n  },\n  \n  hostMoves: {\n    ...playersGame.hostMoves,\n    startGame,\n    deal,\n  },\n}\n\nexport default game;\n","import React, { memo } from 'react'\nimport twemoji from 'twemoji'\n\nconst Emoji = memo(({ emoji }) => (\n  <span\n    dangerouslySetInnerHTML={{\n      __html: twemoji.parse(emoji, { folder: 'svg', ext: '.svg' }),\n    }}\n  />\n));\n\nexport default Emoji;","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Picker } from 'emoji-mart';\nimport 'emoji-mart/css/emoji-mart.css';\n\nconst Background = styled.div`\n  background-color: rgba(0, 0, 0, 0.8);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Wrapper = styled.div`\n  display: inline-block;\n`;\n \nconst EmojiPicker = ({ onSelectEmoji, onHide }) => {\n  const onSelect = (emoji) => {\n    onSelectEmoji(emoji.native);\n  }\n  return (\n    <Background tabIndex onKeyPress={onHide} onClick={onHide}>\n      <Wrapper onClick={(e) => e.stopPropagation()}>\n        <Picker onSelect={onSelect} set=\"twitter\" />\n      </Wrapper>\n    </Background>\n  );\n};\n\nexport default EmojiPicker;","import Emoji from \"./Emoji\";\nimport EmojiPicker from \"./EmojiPicker\";\n\nexport default Emoji;\nexport { EmojiPicker }","import React, { useEffect } from \"react\";\nimport Emoji from \"components/emoji\";\nimport { Flex, Box, Button, Text } from \"rebass/styled-components\";\n\nconst checkIfCanStartGame = ({ state: { players } }) => (\n  players.list.length >= players.minPlayers\n);\n\nconst PlayerList = ({ children, players }) => {\n  return (\n    <Flex>\n      <Box flexGrow={1}>\n        {players.map(({ name, emoji }, index) => (\n          <Flex alignItems=\"center\"  key={index}>\n            <Box width=\"2em\" height=\"2em\" my={2} mx={3}>\n              {emoji && <Emoji emoji={emoji}/>}\n            </Box>\n            {name}\n          </Flex>\n        ))}\n      </Box>\n      <Box flexGrow={3}>\n        {children}\n      </Box>\n    </Flex>\n  );\n}\n\nconst HowToJoin = ({ roomId }) => (\n  <Text fontSize={[ 3, 4, 5 ]} fontWeight='bold' color='secondary'>\n    Join: {roomId}\n  </Text>\n)\n\nconst Host = ({ state, roomId, moves, connections, maxPlayers, minPlayers, children }) => {\n  useEffect(() => {\n    if (!state.players && moves?.initPlayers) {\n      moves.initPlayers({ maxPlayers, minPlayers });\n    }\n  }, [state.players, moves]);\n\n  if (!state.players) return null;\n  if (state.players.everyonesIn) return children;\n  const canStartGame = checkIfCanStartGame({ state });\n  return (\n    <PlayerList players={state.players.list}>\n      <Flex height=\"100%\" flexDirection=\"column\" alignItems=\"center\" justifyContent=\"space-around\">\n        <HowToJoin roomId={roomId}/>\n        {canStartGame && (\n          <Button\n            my={2}\n            onClick={() => moves.startGame()}\n            onKeyPress={() => moves.startGame()}\n          >\n            Start Game\n          </Button>\n        )}\n      </Flex>\n    </PlayerList>\n  )\n};\n\nexport default Host;\n","import React, { useState } from \"react\";\nimport Emoji, { EmojiPicker } from \"components/emoji\";\nimport { Flex, Box, Button, Text } from \"rebass/styled-components\";\nimport { Input, Label } from \"@rebass/forms/styled-components\";\n\nconst JoinScreen = ({ onJoin }) => {\n  const [name, setName] = useState(\"\");\n  const [emoji, setEmoji] = useState('');\n  const [pickerIsShown, setPickerIsShown] = useState(false);\n  const showPicker = () => setPickerIsShown(true);\n  const hidePicker = () => setPickerIsShown(false);\n\n  const join = () => {\n    name?.length && onJoin({ name, emoji })\n  }\n\n  const onSelectEmoji = (emoji) => {\n    setEmoji(emoji);\n    hidePicker();\n  }\n\n  return (\n    <>\n      {pickerIsShown && <EmojiPicker onHide={hidePicker} onSelectEmoji={onSelectEmoji} />}\n      <Flex my={5} alignItems=\"center\" flexDirection=\"column\">\n        <Box width={'10em'} height={'10em'} onKeyPress={showPicker} onClick={showPicker}>\n          <Emoji emoji={emoji}/>\n        </Box>\n        <Box my={2}>\n          <Text fontSize={[ 3, 4, 5 ]} fontWeight='bold' color='primary'>\n            {name}\n          </Text>\n        </Box>\n        <Box>\n          <Label htmlFor=\"nickname\">Nickname</Label>\n          <Input id=\"nickname\" onChange={(e) => setName(e.target.value)} value={name}/>\n        </Box>\n        <Box my={3}>\n          <Button variant=\"primary\" onKeyPress={join} onClick={join}>\n            Sit down to Play\n          </Button>\n        </Box>\n      </Flex>\n    </>\n  );\n}\n\nconst Spectator = () => (\n  <Flex height=\"100vh\" justifyContent=\"center\" alignItems=\"center\">\n    <Text fontSize={[ 3, 4, 5 ]} fontWeight='bold' color='primary'>\n      You are a Spectator\n    </Text>\n  </Flex>\n)\n\nconst Waiting = () => (\n  <Flex height=\"100vh\" justifyContent=\"center\" alignItems=\"center\">\n    <Text fontSize={[ 3, 4, 5 ]} fontWeight='bold' color='primary'>\n      Be patient, the host is setting up your game.\n    </Text>\n  </Flex>\n)\n\nconst findConnectionIsPlayer = ({ players, connectionId }) => (\n  players.findIndex(player => player.connectionId === connectionId) > -1\n)\n\nconst checkIfGameIsFull = ({ state: { players } }) => (\n  players.list.length > players.maxPlayers\n);\n\nconst Guest = ({ children, state, roomId, moves, connectionId }) => {\n  if (!state.players) {\n    return <Waiting/>;\n  }\n\n  const isPlayer = findConnectionIsPlayer({ players: state.players.list, connectionId });\n\n  const onJoin = ({ name, emoji }) => {\n    moves.joinAsAPlayer({ name, emoji });\n  }\n\n  if (state.players.everyonesIn) {\n    return isPlayer ? children : <Spectator/>;\n  } else {\n    const gameIsFull = checkIfGameIsFull({ state });\n    return isPlayer || gameIsFull ? <Waiting/> : <JoinScreen onJoin={onJoin}/>;\n  }\n}\n\nexport default Guest;\n","import TicTacToe from \"./games/tic-tac-toe\";\nimport Whist from \"./games/whist\";\n\nconst compendium = [\n  TicTacToe,\n  Whist,\n];\n\nexport default compendium;\n","import game from \"./game\";\nimport { Host, Guest } from \"./client\";\n\nconst name = \"Whist\";\n\nconst Whist = { name, Host, Guest, game };\n\nexport default Whist;\n","import React from \"react\";\nimport { withHostPlayers } from \"components/players/client\"\nimport PlayingCard, { PlayingCardBack, FeltTable, Hand } from \"components/playing-card\";\n\nconst Host = withHostPlayers({ maxPlayers: 4, minPlayers: 4 }, ({ state, roomId, moves, connections }) => {\n  return (\n    <FeltTable>\n      <PlayingCardBack colour=\"R\"/>\n      <Hand>\n        {state.discard && state.discard.map(({ suit, value }) => (\n          <PlayingCard suit={suit} value={value}/>  \n        ))}\n      </Hand>\n    </FeltTable>\n  );\n})\n\nexport default Host;\n","import React from \"react\";\nimport { withGuestPlayers } from \"components/players/client\"\nimport PlayingCard, { FeltTable, Hand } from \"components/playing-card\";\n\nconst Guest = withGuestPlayers(({ state, roomId, moves, connectionId }) => {\n  return (\n    <FeltTable>\n      <Hand>\n        {state.hand && state.hand.map(({ suit, value }) => (\n          <PlayingCard suit={suit} value={value}/>  \n        ))}\n      </Hand>\n    </FeltTable>\n  );\n})\n\nexport default Guest;\n","import randomWords from \"random-words\";\nimport isEqual from \"lodash/isEqual\";\n\nconst permutations = [\n  [0, 1, 2],\n  [0, 2, 1],\n  [1, 0, 2],\n  [2, 0, 1],\n  [2, 1, 0],\n  [1, 2, 0],\n];\n\nexport const createRoomId = (compendiumIndex) => {\n  const order = permutations[compendiumIndex]\n  const words = randomWords({ exactly: 3 }).sort();\n  const orderedWords = order.map(o => words[o])\n  const roomId = orderedWords.join('-')\n  return roomId\n}\n\nexport const decodeCompendiumIndex = (roomId) => {\n  const words = roomId.split('-')\n  const sortedWords = [...words].sort()\n  const permutation = words.map(word => sortedWords.findIndex((w) => word === w))\n  const compendiumIndex = permutations.findIndex((permu) => isEqual(permu, permutation))\n  return compendiumIndex;\n}\n","import { useState, useEffect } from \"react\";\nimport compendium from \"./compendium\";\nimport { decodeCompendiumIndex } from \"./rooms\";\n\nconst getGame = (roomId) => {\n  const compendiumIndex = decodeCompendiumIndex(roomId)\n  const game = compendium[compendiumIndex];\n  return game;\n}\n\nconst useGame = (roomId) => {\n  const [game, setGame] = useState({ name: null, Host: null, Guest: null, game: null });\n  useEffect(() => setGame(getGame(roomId)), [])\n  return game;\n}\n\nexport default useGame;\n","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { createRoomId } from \"./rooms\";\nimport compendium from \"./compendium\";\nimport { Heading, Flex, Box, Button } from \"rebass/styled-components\";\nimport { Select, Input, Label } from \"@rebass/forms/styled-components\";\n\n\nconst NewGame = ({ onNewGame }) => {\n  const [value, set] = useState(0);\n\n  const onChange = (e) => {\n    set(e.target.value);\n    e.preventDefault();\n  }\n\n  const onSubmit = () => onNewGame(value);\n\n  return (\n    <Box my={4} width={['100%', '80%', '35em']}>\n      <Select m={1} onChange={onChange} value={value}>\n        {compendium.map(({ name }, index) =>\n          <option value={index} key={index}>{name}</option>)}\n      </Select>\n      <Button m={1} onClick={onSubmit} onKeyPress={onSubmit}>Host New Game</Button>\n    </Box>\n  )\n}\n\nconst JoinGame = ({ onJoinGame }) => {\n  const [value, set] = useState();\n\n  const onChange = (e) => {\n    set(e.target.value);\n    e.preventDefault();\n  }\n\n  const onSubmit = () => onJoinGame(value);\n\n  return (\n    <Box my={4} width={['100%', '80%', '35em']}>\n      <Box>\n        <Label>\n          Room Password\n        </Label>\n        <Input onChange={onChange} value={value}/>\n      </Box>\n      <Button m={1} onClick={onSubmit} onKeyPress={onSubmit}>Join Game</Button>\n    </Box>\n  );\n}\n\n\nconst Home = () => {\n  const { push } = useHistory();\n\n  const onNewGame = (compendiumIndex) => {\n    const roomId = createRoomId(compendiumIndex);\n    push(`/host/${roomId}`)\n  }\n\n  const onJoinGame = (roomId) => {\n    push(`/guest/${roomId}`)\n  }\n\n  return (\n    <Flex mx={['2em', '15%', '20%']} flexDirection=\"column\">\n      <Heading mt={4} fontSize={[ 5, 6 ]} color='primary'>\n        Compendium Games\n      </Heading>\n      <NewGame onNewGame={onNewGame} />\n      <JoinGame onJoinGame={onJoinGame} />\n    </Flex>\n  )\n}\n\n\nexport default Home;\n","import base from '@rebass/preset'\nexport default base;\n","import { ThemeProvider } from \"styled-components\";\nimport { usePartyHost, usePartyGuest } from \"@compendium/peer-party\";\nimport { HashRouter, Switch, Route, useParams } from \"react-router-dom\";\nimport useGame from \"./useGame\";\nimport Home from \"./Home\";\nimport baseTheme from \"./theme\"\n\nconst HostRoute = () => {\n  const { roomId } = useParams();\n  const { theme, Host, game } = useGame(roomId);\n  const { state, moves, connections } = usePartyHost({ roomId, game });\n  return (\n    <ThemeProvider theme={theme || baseTheme}>\n      {Host && <Host roomId={roomId} state={state} moves={moves} connections={connections} />}\n    </ThemeProvider>\n  )\n}\n\nconst GuestRoute = () => {\n  const { roomId } = useParams();\n  const { theme,  Guest, game } = useGame(roomId);\n  const { connectionId, connected, state, moves } = usePartyGuest({ roomId, game });\n  return (\n    <ThemeProvider theme={theme || baseTheme}>\n      {Guest && <Guest connectionId={connectionId} roomId={roomId} connected={connected} state={state} moves={moves}/>}\n    </ThemeProvider>\n  )\n}\n\nconst Router = () =>\n  <HashRouter>\n    <Switch>\n      <Route path=\"/host/:roomId\">\n        <HostRoute/>\n      </Route>\n      <Route path=\"/guest/:roomId\">\n        <GuestRoute/>\n      </Route>\n      <Route exact path=\"/\">\n        <ThemeProvider theme={baseTheme}>\n          <Home/>\n        </ThemeProvider>\n      </Route>\n    </Switch>\n  </HashRouter>\n\nexport default Router;\n","import Router from \"./Router\";\n\nconst App = () =>\n  <Router/>\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 98;"],"sourceRoot":""}