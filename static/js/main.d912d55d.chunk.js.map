{"version":3,"sources":["../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/shared.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/usePersist.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useGameState.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/stores.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/funcs.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/usePeer.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useConnections.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useMoves.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useSendSyncs.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/usePartyHost.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/funcs.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useAck.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useSync.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useMoves.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useConnection.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/usePartyGuest.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/stores.js","../../games/tic-tac-toe/game/index.js","../../.yarn/$$virtual/@compendium-tic-tac-toe-host-virtual-29ab4cb6c2/1/games/tic-tac-toe/host/dist/index.js","../../games/tic-tac-toe/guest/dist/index.js","../../.yarn/$$virtual/@compendium-tic-tac-toe-virtual-ef304ed1c2/1/games/tic-tac-toe/index.js","../../components/players/game/src/index.js","../../games/whist/game/src/index.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/AH.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/AC.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/AD.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/AS.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/2H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/2C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/2D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/2S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/3H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/3C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/3D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/3S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/4H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/4C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/4D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/4S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/5H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/5C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/5D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/5S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/6H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/6C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/6D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/6S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/7H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/7C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/7D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/7S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/8H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/8C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/8D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/8S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/9H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/9C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/9D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/9S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/10H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/10C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/10D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/10S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JH.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JC.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JD.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JS.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/QH.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/QC.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/QD.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/QS.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/KH.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/KC.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/KD.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/KS.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JOKER.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/model.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/Card.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/CardFront.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/RED_BACK.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/BLUE_BACK.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/CardBack.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/felt.png","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/FeltTable.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/Hand.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/index.js","compendium.js","../../.yarn/$$virtual/@compendium-whist-virtual-4791b8c2c2/1/games/whist/index.js","../../.yarn/$$virtual/@compendium-whist-client-virtual-37ea395af7/1/games/whist/client/dist/Host.js","../../.yarn/$$virtual/@compendium-whist-client-virtual-37ea395af7/1/games/whist/client/dist/Guest.js","rooms.js","useGame.js","Home.js","Router.js","App.js","reportWebVitals.js","index.js","../../.yarn/$$virtual/@compendium-players-client-virtual-4f67b21309/1/components/players/client/dist/index.js","../../.yarn/$$virtual/@compendium-emoji-virtual-4fefafd080/1/components/emoji/dist/Emoji.js","../../.yarn/$$virtual/@compendium-emoji-virtual-4fefafd080/1/components/emoji/dist/EmojiPicker.js","../../.yarn/$$virtual/@compendium-emoji-virtual-4fefafd080/1/components/emoji/dist/index.js","../../.yarn/cache/peerjs-npm-1.3.1-878534ae62-2dc03823ec.zip/node_modules/peerjs/dist sync","../../.yarn/$$virtual/@compendium-players-client-virtual-4f67b21309/1/components/players/client/dist/Host.js","../../.yarn/$$virtual/@compendium-players-client-virtual-4f67b21309/1/components/players/client/dist/Guest.js"],"names":["isSecretMove","connectionId","roomId","game","move","moveFn","getMoveFunction","Function","e","getMoves","hostMoves","guestMoves","constructReducer","events","state","reduce","o","event","output","args","seed","seedrandom","console","error","constructMoves","handleMove","Proxy","get","target","key","receiver","moves","hasOwnProperty","Symbol","iterator","keys","bind","Reflect","usePersist","store","defaultValue","useState","JSON","parse","getItem","setState","item","window","localStorage","useEffect","setItem","stringify","useGameState","eventLog","logSize","useRef","useStateStore","slice","current","length","updateState","genSeed","random","logEvent","setEventLog","destructPeer","setPeer","peer","destroy","opts","host","secure","usePeer","id","open","setOpen","useReducer","a","attempts","countAttempt","Peer","retry","timeout","setTimeout","on","clearTimeout","onConnectionClosed","useConnections","connections","setConnections","connectionLogSizeMap","conn","conns","appendConnection","index","isInteger","size","updateLogSizeMap","validMoves","isString","isObject","findIndex","m","validateEvent","Object","filter","c","removeConnection","useMoves","setMoves","constructMovesHandler","useSendSyncs","connection","numSent","map","i","send","usePartyHost","secret","useMemo","useEventLogStore","connectionIds","logSizeToIndex","useAck","connected","ack","useSync","data","clearData","setLogSize","updateLogSize","setCache","reducer","newState","cache","sync","preempt","emit","useConnection","setData","setConnected","connect","serialization","stream","usePartyGuest","uuid","useIdStore","useLogSizeStore","TicTacToe","fillSquare","player","crossesPlayer","noughtsPlayer","Error","board","position","splice","startGame","crossesConnId","noughtsConnId","Array","fill","Tile","styled","div","Board","Host","React","createElement","Fragment","Link","to","location","value","Button","button","TileOrButton","onClick","name","Guest","joinAsAPlayer","players","list","maxPlayers","emoji","playerList","initPlayers","minPlayers","everyoneIsIn","playersGame","JACK","QUEEN","KING","Container","order","UnSelectable","Selectable","isSelected","Overlay","selectColor","FaceImg","img","SelectableFace","faceImage","altText","src","alt","UnSelectableFace","Card","canBeSelected","Face","CardFront","suit","log","JKR","HA","DA","SA","CA","H2","D2","S2","C2","H3","D3","S3","C3","H4","D4","S4","C4","H5","D5","S5","C5","H6","D6","S6","C6","H7","D7","S7","C7","H8","D8","S8","C8","H9","D9","S9","C9","H10","D10","S10","C10","HJ","DJ","SJ","CJ","HQ","DQ","SQ","CQ","HK","DK","SK","CK","getFaceImage","getAltText","CardBack","colour","RED_BACK","BLUE_BACK","FeltTable","felt","Hand","section","PlayingCardFront","compendium","withHostPlayers","PlayingCardBack","discard","PlayingCard","withGuestPlayers","hand","permutations","getGame","compendiumIndex","words","split","sortedWords","sort","permutation","word","w","permu","isEqual","decodeCompendiumIndex","useGame","setGame","NewGame","onNewGame","set","onSubmit","onChange","preventDefault","onKeyPress","JoinGame","onJoinGame","Home","push","useHistory","randomWords","exactly","join","createRoomId","HostRoute","useParams","GuestRoute","Router","path","exact","App","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","defineProperty","exports","enumerable","_Host","_Guest","_react","_interopRequireDefault","require","obj","__esModule","_extends","assign","arguments","source","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Component","_ref","children","props","options","_ref2","Emoji","memo","dangerouslySetInnerHTML","__html","twemoji","folder","ext","Background","Wrapper","EmojiPicker","onSelectEmoji","onHide","tabIndex","stopPropagation","Picker","onSelect","native","webpackEmptyContext","req","code","resolve","module","_typeof","constructor","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","_styledComponents","_emoji","WeakMap","_taggedTemplateLiteral","strings","raw","freeze","defineProperties","Main","main","Section","Article","article","Item","Square","PlayerList","_ref3","HowToJoin","_ref4","_default","_ref5","everyonesIn","canStartGame","checkIfCanStartGame","_slicedToArray","arr","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","n","toString","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","Row","Input","input","SmallSquare","JoinScreen","onJoin","_useState2","setName","_useState4","setEmoji","_useState6","pickerIsShown","setPickerIsShown","showPicker","hidePicker","type","Spectator","Waiting","isPlayer","findConnectionIsPlayer","gameIsFull","checkIfGameIsFull"],"mappings":"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CjB,+BACY,IAAVvC,GAAwB,MAATuC,EACjB,iCACY,IAAVvC,GAAwB,MAATuC,EACjB,+BACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,gCACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,6BACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,gCACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,6BACY,IAAVvC,GAAwB,MAATuC,EACjB,6BACY,IAAVvC,GAAwB,MAATuC,EACjB,gCACY,IAAVvC,GAAwB,MAATuC,EACjB,6BACY,IAAVvC,GAAwB,MAATuC,EACjB,4BACY,IAAVvC,GAAwB,MAATuC,EACjB,+BACY,IAAVvC,GAAwB,MAATuC,EACjB,iCACY,IAAVvC,GAAwB,MAATuC,EACjB,+BACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,+BACY,IAAVvC,GAAwB,MAATuC,EACjB,iCACY,IAAVvC,GAAwB,MAATuC,EACjB,+BACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,gCACY,IAAVvC,GAAwB,MAATuC,EACjB,8BACY,IAAVvC,GAAwB,MAATuC,EACjB,6BACY,KAAVvC,GAAyB,MAATuC,EAClB,6BACY,KAAVvC,GAAyB,MAATuC,EAClB,+BACY,KAAVvC,GAAyB,MAATuC,EAClB,6BACY,KAAVvC,GAAyB,MAATuC,EAClB,4BACEvC,IAAUiB,IAAiB,MAATsB,EACpB,8BACEvC,IAAUiB,IAAiB,MAATsB,EACpB,gCACEvC,IAAUiB,IAAiB,MAATsB,EACpB,8BACEvC,IAAUiB,IAAiB,MAATsB,EACpB,6BACEvC,IAAUkB,IAAkB,MAATqB,EACrB,+BACEvC,IAAUkB,IAAkB,MAATqB,EACrB,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","file":"static/js/main.d912d55d.chunk.js","sourcesContent":["import seedrandom from \"seedrandom\";\n\nexport const isSecretMove = ({ connectionId, roomId, game, move }) => {\n  const moveFn = getMoveFunction({ connectionId, roomId, game, move });\n  try {\n    return (moveFn({}) instanceof Function);\n  } catch (e) {\n    return false;\n  }\n}\n\nconst getMoves = ({ connectionId, roomId, game }) => (\n  connectionId === roomId ? game.hostMoves : game.guestMoves\n);\n\nconst getMoveFunction = ({ connectionId, roomId, game, move }) => (\n  getMoves({ connectionId, roomId, game })[move]\n)\n\nexport const constructReducer = ({ game, events, roomId }) => (state) => {\n  try {\n    return events.reduce(\n      (o, event) => {\n        const moveFn = getMoveFunction({ connectionId: event.connectionId, roomId, game, move: event.move })\n        let output = moveFn({ state: o, connectionId: event.connectionId, args: event.args });\n        if (output instanceof Function && event.seed) {\n          const rng = seedrandom(event.seed);\n          output = output(rng);\n        }\n        return output;\n      },\n      state\n    );\n  } catch (e) {\n    console.error(e);\n    return state;\n  }\n}\n\nexport const constructMoves = ({ game, connectionId, roomId, handleMove }) => {\n  return new Proxy({}, {\n    get: (target, key, receiver) => {\n      const moves = getMoves({ connectionId, roomId, game });\n      if (moves.hasOwnProperty(key)) {\n        return (args) => handleMove({ move: key, args });\n      } else if (key === Symbol.iterator && moves) {\n        return moves.keys().bind(target)[Symbol.iterator]\n      } else {\n        return Reflect.get(target, key, receiver);\n      }\n    }\n  });\n}\n","import { useState, useEffect } from \"react\";\n\nconst usePersist = (store, key, defaultValue) => {\n  const [state, setState] = useState(\n    () => (\n      JSON.parse(store.getItem(key)) || \n      ((defaultValue instanceof Function) ? defaultValue() : defaultValue)\n    )\n  );\n\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : defaultValue;\n    } catch (error) {\n      console.error(error);\n      return defaultValue;\n    }\n  });\n\n  useEffect(() => {\n    store.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n}\n\nexport default usePersist;\n","import { useRef, useEffect } from \"react\";\nimport { useStateStore } from \"./stores\";\nimport { constructReducer } from \"../shared\";\n\nconst updateState = ({ roomId, setState, game, events }) => {\n  const reducer = constructReducer({ game, roomId, events })\n  setState(reducer);\n}\n\nconst useGameState = ({ roomId, game, eventLog }) => {\n  const logSize = useRef();\n  const { state, setState } = useStateStore(roomId);\n  useEffect(() => {\n    const events = eventLog.slice(logSize.current || 0);\n    if (!roomId || !game || !events.length) return;\n    updateState({ roomId, setState, game, events });\n    logSize.current = eventLog.length;\n  }, [setState, roomId, game, eventLog, logSize])\n  return { state };\n}\n\nexport default useGameState\n","import usePersist from '../usePersist';\n\nexport const useStateStore = (roomId) => {\n  const [state, setState]  = usePersist(\n    window.localStorage,\n    `hostState-${roomId}`,\n    {}\n  );\n  return { state, setState }\n}\n\nexport const useEventLogStore = (roomId) => {\n  const [eventLog, setEventLog] = usePersist(\n    window.localStorage,\n    `eventLog-${roomId}`,\n    []\n  );\n  return { eventLog, setEventLog };\n}\n","import { isSecretMove } from \"../shared\";\n\nconst genSeed = (random) => random()\n\nexport const logEvent = ({ setEventLog, event, connectionId, roomId, game, random }) => {\n  const e = (\n    (isSecretMove({ connectionId, roomId, game, move: event.move }))\n      ? { ...event, connectionId, seed: genSeed(random) }\n      : { ...event, connectionId }\n  )\n  setEventLog(events => [...events, e]);\n}\n\n","import { useEffect, useRef, useState, useReducer } from \"react\";\nimport Peer from \"peerjs\";\n\nconst destructPeer = ({ setPeer }) => {\n  setPeer(peer => {\n    peer && peer.destroy();\n    return null\n  })\n};\n\nconst opts = { host: \"peerjs.92k.de\", secure: true };\n\nconst usePeer = (id) => {\n  const [peer, setPeer] = useState();\n  const [open, setOpen] = useState(false);\n  const [attempts, countAttempt] = useReducer(a => a + 1, 0);\n\n  useEffect(() => {\n    if (open) return;\n\n    const peer = new Peer(id, opts);\n    setPeer(peer);\n\n    const retry = () => {\n      setOpen(false);\n      destructPeer({ setPeer });\n      countAttempt();\n    };\n\n    let timeout = setTimeout(retry, 1000);\n\n    peer.on(\"open\", () => {\n      clearTimeout(timeout);\n      setOpen(true);\n    });\n\n    const onConnectionClosed = () => {\n      clearTimeout(timeout);\n      timeout = setTimeout(retry, 1000);\n    }\n    peer.on(\"close\", onConnectionClosed);\n    peer.on(\"disconnected\", onConnectionClosed);\n    peer.on(\"error\", onConnectionClosed);\n\n    return () => {\n      destructPeer({ setPeer });\n      clearTimeout(timeout);\n    }\n  }, [attempts, id])\n\n  return { open, peer }\n}\n\nexport default usePeer;\n","import { useRef, useState, useEffect, useMemo } from \"react\";\nimport { isString, isObject, isInteger } from \"lodash\";\nimport { logEvent } from \"./funcs\";\nimport usePeer from \"../usePeer\";\n\nconst validateEvent = (event, validMoves) => (\n  event &&\n  isString(event.move) && \n  isObject(event.args) &&\n  validMoves.findIndex((m) => m === event.move) > -1\n)\n\nconst appendConnection = ({ setConnections, conn }) => {\n  setConnections((conns) => [...conns, conn]);\n}\n\nconst removeConnection = ({ setConnections, conn }) => {\n  setConnections((conns) => conns.filter(c => c !== conn))\n}\n\nconst updateLogSizeMap = ({ conn, connectionLogSizeMap, size = 0 }) => {\n  connectionLogSizeMap.current[conn.peer] = size\n}\n\nconst useConnections = ({ game, roomId, eventLog, setEventLog, random }) => {\n  const { peer } = usePeer(roomId);\n  const [connections, setConnections] = useState([]);\n  const connectionLogSizeMap = useRef({});\n\n  useEffect(() => {\n    if (!peer) return;\n    peer.on(\"connection\", (conn) => {\n      conn.on(\"open\", () => {\n        appendConnection({ setConnections, conn });\n      });\n\n      conn.on(\"data\", ({ index, ...event }) => {\n        if (isInteger(index)) {\n          updateLogSizeMap({ conn, connectionLogSizeMap, size: index + 1 });\n        }\n        \n        if (\n          (isInteger(index) || index === null) &&\n          validateEvent(event, Object.keys(game.guestMoves))\n        ) {\n          logEvent({ setEventLog, event, connectionId: conn.peer, roomId, game, random });\n        }\n      })\n\n      conn.on(\"close\", () => {\n        removeConnection({ setConnections, conn });\n      });\n\n      conn.on(\"error\", (error) => {\n        console.error(conn.peer, error)\n      });\n    })\n\n  }, [peer, game, roomId])\n\n  return { connections, connectionLogSizeMap }\n}\n\nexport default useConnections;\n","import { useEffect, useState } from \"react\";\nimport { constructMoves } from \"../shared\";\nimport { logEvent } from \"./funcs\";\n\nconst constructMovesHandler = ({ setMoves, game, roomId, setEventLog, random }) => {\n  const handleMove = ({ move, args }) => {\n    logEvent({ setEventLog, event: { move, args }, connectionId: roomId, roomId, game, random })\n  };\n  setMoves(() => constructMoves({ game, connectionId: roomId, roomId, handleMove }))\n}\n\nconst useMoves = ({ roomId, game, setEventLog, random }) => {\n  const [moves, setMoves] = useState(null);\n\n  useEffect(() => {\n    if (!game) return;\n    constructMovesHandler({ setMoves, game, roomId, setEventLog, random });\n  }, [roomId, game, setEventLog]);\n\n  return { moves, setMoves }\n}\n\nexport default useMoves;\n","import { useEffect } from \"react\";\n\nconst useSendSyncs = ({ connections, connectionLogSizeMap, eventLog }) => {\n  useEffect(() => {\n    for (const connection of connections) {\n      const numSent = connectionLogSizeMap.current[connection.peer] || 0;\n      if (eventLog.length > numSent) {\n        const events = eventLog.slice(numSent)\n          .map((e, i) => ({ ...e, index: numSent + i }));\n        connection.send(events);\n      }\n    }\n  }, [connections, connectionLogSizeMap, eventLog]);\n};\n\nexport default useSendSyncs;\n","import seedrandom from \"seedrandom\";\nimport { useRef, useState, useEffect, useMemo } from \"react\";\nimport { constructMoves, constructReducer } from \"../shared\";\nimport { useStateStore, useEventLogStore } from \"./stores\";\nimport useGameState from \"./useGameState\";\nimport useConnections from \"./useConnections\";\nimport useMoves from \"./useMoves\";\nimport useSendSyncs from \"./useSendSyncs\";\n\n\nconst usePartyHost = ({ roomId, game, secret }) => {\n  const random = useMemo(() => seedrandom(secret || roomId), [secret, roomId]);\n  const { eventLog, setEventLog } = useEventLogStore(roomId);\n  const { state } = useGameState({ roomId, game, eventLog });\n  const { connections, connectionLogSizeMap } = useConnections({ game, roomId, eventLog, setEventLog, random})\n  const connectionIds = useMemo(() => connections.map(({ peer }) => peer), [connections])\n  const { moves } = useMoves({ roomId, game, setEventLog, random });\n  useSendSyncs({ connections, connectionLogSizeMap, eventLog });\n  return { state, moves, connections: connectionIds }\n}\n\nexport default usePartyHost;\n","export const logSizeToIndex = logSize => {\n  const index = logSize - 1;\n  return (index < 0) ? null : index;\n};\n","import { useEffect } from \"react\";\nimport { logSizeToIndex } from \"./funcs\";\n\nexport const ack = ({ conn, logSize }) => {\n  conn.current.send({ index: logSizeToIndex(logSize) })\n}\n\nconst useAck = ({ connected, conn, logSize }) => {\n  useEffect(() => {\n    if (!conn.current || !connected) return;\n    ack({ conn, logSize })\n  }, [connected, conn.current, logSize]);\n}\n\nexport default useAck;\n","import { useEffect } from \"react\";\nimport { constructReducer } from \"../shared\";\n\nconst sync = ({ setState, setCache, roomId, game, events }) => {\n  const reducer = constructReducer({ game, roomId, events })\n  setState(({ state }) => {\n    const newState = reducer(state);\n    return { state: newState, cache: newState }\n  });\n}\n\nconst updateLogSize = ({ setLogSize, events }) => {\n  setLogSize(events[events.length - 1].index + 1);\n}\n\nconst useSync = ({ data, clearData, game, roomId, setState, setLogSize }) => {\n  useEffect(() => {\n    if (!data || !data.length) return;\n    const events = [...data]\n    clearData();\n    updateLogSize({ setLogSize, events });\n    sync({ setState, roomId, game, events })\n  }, [data, clearData, game, roomId, setLogSize, setState])\n}\n\nexport default useSync;\n","import { useEffect, useState } from \"react\";\nimport { constructMoves, constructReducer, isSecretMove } from \"../shared\";\nimport { logSizeToIndex } from \"./funcs\";\n\nexport const emit = ({ conn, logSize, move, args }) => {\n  conn.current.send({ index: logSizeToIndex(logSize), move, args })\n}\n\nexport const preempt = ({ setState, game, move, args, connectionId, roomId }) => {\n  const reducer = constructReducer({ game, roomId, events: [{ move, args, connectionId }] })\n  setState(({ state, cache }) => ({\n    cache: reducer(state),\n    state,\n  }));\n}\n\nexport const constructMovesHandler = ({ conn, connectionId, setMoves, setState, game, logSize, roomId }) => {\n  const handleMove = ({ move, args }) => {\n    if (!isSecretMove({ connectionId, roomId, game, move })) {\n      preempt({ setState, game, move, args, roomId, connectionId })\n    }\n    emit({ conn, move, args, logSize })\n  }\n  setMoves(() => constructMoves({ game, connectionId, roomId, handleMove }));\n}\n\nconst useMoves = ({ connected, conn, id, setState, roomId, game, logSize }) => {\n  const [moves, setMoves] = useState(null);\n  useEffect(() => {\n    if (!connected) return;\n    constructMovesHandler({ conn, connectionId: id, setMoves, setState, roomId, game, logSize })\n  }, [connected, conn.current, id, setMoves, setState, roomId, game, logSize])\n  return { moves };\n}\n\nexport default useMoves;\n","import { useEffect, useRef, useState, useReducer } from \"react\";\nimport usePeer from \"../usePeer\";\n\nexport const connect = ({ roomId, peer, conn }) => {\n  conn.current = peer.connect(roomId,  { serialization: \"json\" });\n}\n\nconst useConnection = ({ id, roomId }) => {\n  const conn = useRef();\n  const { open, peer } = usePeer(id);\n  const [data, setData] = useState([]);\n  const [connected, setConnected] = useState(false);\n  const [attempts, countAttempt] = useReducer(a => a + 1, 0);\n\n  useEffect(() => {\n    if (!open || connected) return;\n\n    connect({ conn, peer, roomId });\n\n    const retry = () => {\n      conn.current = null;\n      setConnected(false);\n      countAttempt();\n    }\n    const timeout = setTimeout(retry, 1000);\n\n    conn.current.on(\"open\", () => {\n      clearTimeout(timeout);\n      setConnected(true); \n    });\n\n    conn.current.on(\"data\", (data) => {\n      setData((stream) => [...stream, ...data]);\n    });\n\n    conn.current.on(\"close\", () => {\n      clearTimeout(timeout);\n      retry();\n    });\n\n    conn.current.on(\"error\", (error) => {\n      console.error(error)\n    });\n\n  }, [attempts, open, connected, roomId]);\n\n  const clearData = () => setData([]);\n  return { connected: open && connected, conn, data, clearData }\n}\n\nexport default useConnection;\n","import useAck from \"./useAck\";\nimport useSync from \"./useSync\";\nimport useMoves from \"./useMoves\";\nimport useConnection from \"./useConnection\";\nimport { useIdStore, useStateStore, useLogSizeStore } from \"./stores\";\n\nconst usePartyGuest = ({ roomId, game }) => {\n  const { id } = useIdStore(roomId);\n  const { cache, setState } = useStateStore(roomId);\n  const { logSize, setLogSize } = useLogSizeStore(roomId);\n  const { connected, conn, data, clearData } = useConnection({ id, roomId })\n  useAck({ connected, conn, logSize });\n  useSync({ data, clearData, game, roomId, setState, setLogSize });\n  const { moves } = useMoves({ connected, conn, id, setState, roomId, game, logSize });\n  return { connectionId: id, connected, state: cache, moves }\n}\n\nexport default usePartyGuest;\n","import usePersist from \"../usePersist\";\nimport { v4 as uuid } from \"uuid\";\n\nexport const useIdStore = (roomId) => {\n  const [id] = usePersist(\n    window.localStorage,\n    `id-${roomId}`,\n    uuid,\n  );\n  return { id };\n}\n\nexport const useStateStore = (roomId) => {\n  const [{ cache }, setState] = usePersist(\n    window.localStorage,\n    `guestState-${roomId}`,\n    { state: {}, cache: {} }\n  );\n  return { cache, setState };\n}\n\nexport const useLogSizeStore = (roomId) => {\n  const [logSize, setLogSize] = usePersist(\n    window.localStorage,\n    `logSize-${roomId}`,\n    0\n  );\n  return { logSize, setLogSize };\n}\n","export const NOUGHTS = 1;\nexport const CROSSES = 2;\n\nconst startGame = ({ state, connectionId, args }) => ({\n  crossesPlayer: args.crossesConnId,\n  noughtsPlayer: args.noughtsConnId,\n  board: Array(9).fill(null),\n});\n\nconst fillSquare = ({ state, connectionId, args }) => {\n  let player = null\n  if (connectionId === state.crossesPlayer) {\n    player = CROSSES;\n  } else if (connectionId === state.noughtsPlayer) {\n    player = NOUGHTS;\n  } else {\n    throw new Error('Connection is not a player');\n  }\n\n  if (state.board[args.position] !== null) {\n    throw new Error('Position filled');\n  }\n\n  const board = [...state.board];\n  board.splice(args.position, 1, player);\n\n  return ({\n    ...state,\n    board,\n  })\n}\n\nconst TicTacToe = {\n  guestMoves: {\n    fillSquare,\n  },\n  \n  hostMoves: {\n    startGame,\n  },\n}\n\nexport default TicTacToe;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { NOUGHTS, CROSSES } from \"@compendium/tic-tac-toe-game\";\nconst Tile = styled.div`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: cyan;\n  border: 2px solid yellow;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\nconst Board = styled.div`\n  width: 30em;\n  height: 30em;\n`;\n\nconst Host = ({\n  state,\n  roomId,\n  moves,\n  connections\n}) => {\n  useEffect(() => {\n    if (!state.board && connections.length >= 2) {\n      const [crossesConnId, noughtsConnId] = connections;\n      moves.startGame({\n        crossesConnId,\n        noughtsConnId\n      });\n    }\n  }, [connections]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, connections.length < 2 && /*#__PURE__*/React.createElement(Link, {\n    to: `/guest/${roomId}`\n  }, window.location.host, \"#/guest/\", roomId), /*#__PURE__*/React.createElement(Board, null, state.board && state.board.map((value, position) => /*#__PURE__*/React.createElement(Tile, {\n    key: position\n  }, value === NOUGHTS ? \"O\" : null, value === CROSSES ? \"X\" : null))));\n};\n\nexport default Host;","import React from \"react\";\nimport styled from \"styled-components\";\nimport { NOUGHTS, CROSSES } from \"@compendium/tic-tac-toe-game\";\nconst Button = styled.button`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\nconst Tile = styled.div`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\nconst Board = styled.div`\n  width: 30em;\n  height: 30em;\n`;\n\nconst TileOrButton = ({\n  value,\n  onClick\n}) => value === null ? /*#__PURE__*/React.createElement(Button, {\n  onClick: onClick\n}) : /*#__PURE__*/React.createElement(Tile, null, value === NOUGHTS ? \"O\" : null, value === CROSSES ? \"X\" : null);\n\nconst Guest = ({\n  connected,\n  state,\n  moves\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, connected ? null : /*#__PURE__*/React.createElement(\"p\", null, \"Disconnected..\"), /*#__PURE__*/React.createElement(Board, null, state.board && state.board.map((value, position) => /*#__PURE__*/React.createElement(TileOrButton, {\n  key: position,\n  value: value,\n  onClick: () => connected && moves.fillSquare({\n    position\n  })\n}))));\n\nexport default Guest;","import game from \"@compendium/tic-tac-toe-game\";\nimport Host from \"@compendium/tic-tac-toe-host\";\nimport Guest from \"@compendium/tic-tac-toe-guest\";\n\nconst name = \"Tic Tac Toe\";\n\nconst TicTacToe = { name, Host, Guest, game };\n\nexport default TicTacToe;\n","const joinAsAPlayer = ({ state, connectionId, args }) => {\n  if (state.players.list.length >= state.players.maxPlayers) {\n    throw new Error(\"The number of players has reached it's maximum\");\n  }\n  const player = { connectionId, name: args.name, emoji: args.emoji };\n  const playerList = [...state.players.list, player];\n  const players = { ...state.players, list: playerList };\n  return { ...state, players };\n}\n\nconst initPlayers = ({ state, args }) => {\n  const players = {\n    maxPlayers: args.maxPlayers,\n    minPlayers: args.minPlayers,\n    everyoneIsIn: false,\n    list: []\n  }\n  return { ...state, players }\n}\n\nconst everyoneIsIn = ({ state }) => {\n  if (state.players.list.length > state.players.maxPlayers) {\n    throw new Error(\"Too many players\");\n  }\n  if (state.players.list.length < state.players.minPlayers) {\n    throw new Error(\"Not enough players\");\n  }\n  return {\n    ...state,\n    players: {\n      ...state.players,\n      everyoneIsIn: true\n    }\n  }\n}\n\nconst game = {\n  guestMoves: {\n    joinAsAPlayer,\n  },\n  \n  hostMoves: {\n    initPlayers,\n    everyoneIsIn,\n  },\n}\n\nexport default game;\n","import playersGame from \"@compendium/players-game\";\n\nconst game = {\n  guestMoves: {\n    ...playersGame.guestMoves,\n  },\n  \n  hostMoves: {\n    ...playersGame.hostMoves,\n  },\n}\n\nexport default game;\n","export default __webpack_public_path__ + \"static/media/AH.1a5ea790.svg\";","export default __webpack_public_path__ + \"static/media/AC.0e3c2151.svg\";","export default __webpack_public_path__ + \"static/media/AD.5c4da062.svg\";","export default __webpack_public_path__ + \"static/media/AS.0beacefa.svg\";","export default __webpack_public_path__ + \"static/media/2H.cb701b97.svg\";","export default __webpack_public_path__ + \"static/media/2C.276c3f69.svg\";","export default __webpack_public_path__ + \"static/media/2D.bc21ec2a.svg\";","export default __webpack_public_path__ + \"static/media/2S.ec187ad2.svg\";","export default __webpack_public_path__ + \"static/media/3H.cba17cfa.svg\";","export default __webpack_public_path__ + \"static/media/3C.4defbcf5.svg\";","export default __webpack_public_path__ + \"static/media/3D.8d12a3fc.svg\";","export default __webpack_public_path__ + \"static/media/3S.ed80cdda.svg\";","export default __webpack_public_path__ + \"static/media/4H.8924ea52.svg\";","export default __webpack_public_path__ + \"static/media/4C.3ebe0e73.svg\";","export default __webpack_public_path__ + \"static/media/4D.433a1ecc.svg\";","export default __webpack_public_path__ + \"static/media/4S.7e474260.svg\";","export default __webpack_public_path__ + \"static/media/5H.04a38bb9.svg\";","export default __webpack_public_path__ + \"static/media/5C.809e552d.svg\";","export default __webpack_public_path__ + \"static/media/5D.03b1a4af.svg\";","export default __webpack_public_path__ + \"static/media/5S.f4e082a6.svg\";","export default __webpack_public_path__ + \"static/media/6H.5380d254.svg\";","export default __webpack_public_path__ + \"static/media/6C.1f69ca79.svg\";","export default __webpack_public_path__ + \"static/media/6D.8c9d26ce.svg\";","export default __webpack_public_path__ + \"static/media/6S.33eb8c1b.svg\";","export default __webpack_public_path__ + \"static/media/7H.156a2f08.svg\";","export default __webpack_public_path__ + \"static/media/7C.cb6a5b5c.svg\";","export default __webpack_public_path__ + \"static/media/7D.bc93fd45.svg\";","export default __webpack_public_path__ + \"static/media/7S.f91490c5.svg\";","export default __webpack_public_path__ + \"static/media/8H.878dbca5.svg\";","export default __webpack_public_path__ + \"static/media/8C.e91af699.svg\";","export default __webpack_public_path__ + \"static/media/8D.ca4420e9.svg\";","export default __webpack_public_path__ + \"static/media/8S.fd5cd6f8.svg\";","export default __webpack_public_path__ + \"static/media/9H.57bfd8e3.svg\";","export default __webpack_public_path__ + \"static/media/9C.c6a841cc.svg\";","export default __webpack_public_path__ + \"static/media/9D.3d612a15.svg\";","export default __webpack_public_path__ + \"static/media/9S.6c7e4615.svg\";","export default __webpack_public_path__ + \"static/media/10H.c8c8e4de.svg\";","export default __webpack_public_path__ + \"static/media/10C.0cc64a48.svg\";","export default __webpack_public_path__ + \"static/media/10D.956683a1.svg\";","export default __webpack_public_path__ + \"static/media/10S.99cb26ab.svg\";","export default __webpack_public_path__ + \"static/media/JH.86f58f4f.svg\";","export default __webpack_public_path__ + \"static/media/JC.b801c5a7.svg\";","export default __webpack_public_path__ + \"static/media/JD.a0e75607.svg\";","export default __webpack_public_path__ + \"static/media/JS.1a6f34e2.svg\";","export default __webpack_public_path__ + \"static/media/QH.f56614ef.svg\";","export default __webpack_public_path__ + \"static/media/QC.3eb5bae0.svg\";","export default __webpack_public_path__ + \"static/media/QD.c20eb8d2.svg\";","export default __webpack_public_path__ + \"static/media/QS.cc68ac97.svg\";","export default __webpack_public_path__ + \"static/media/KH.3d6b1be6.svg\";","export default __webpack_public_path__ + \"static/media/KC.ca193598.svg\";","export default __webpack_public_path__ + \"static/media/KD.32d1a9f8.svg\";","export default __webpack_public_path__ + \"static/media/KS.b54b6bba.svg\";","export default __webpack_public_path__ + \"static/media/JOKER.96be08d3.svg\";","const SUITS = ['H', 'D', 'S', 'C'];\nconst JOKER = 0,\n      ACE = 1,\n      JACK = 11,\n      QUEEN = 12,\n      KING = 13;\nconst VALUES = [ACE, 2, 3, 4, 5, 6, 7, 8, 9, 10, JACK, QUEEN, KING];\nexport { SUITS, VALUES, JOKER, ACE, JACK, QUEEN, KING };","import React from 'react';\nimport styled from \"styled-components\";\nconst Container = styled.div`\n  margin-bottom: -9em;\n  margin-right: -3em;\n\n  ${({\n  order\n}) => order && `order: ${order};`}\n`;\nconst UnSelectable = styled.div`\n  position: relative;\n  margin-top: 2em;\n`;\nconst Selectable = styled(UnSelectable)`\n  &:hover {\n    margin-top: 1em;\n    margin-bottom: 1em;\n    cursor: pointer;\n  }\n\n  ${({\n  isSelected\n}) => isSelected && `\n    margin-top: 0em;\n    margin-bottom: 2em;\n\n    &:hover {\n      margin-top: 0em;\n      margin-bottom: 2em;\n    }\n  `}\n`;\nconst Overlay = styled.div`\n  opacity: 0.4;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 0.5em;\n\n  ${({\n  isSelected,\n  selectColor\n}) => isSelected && selectColor && `\n    background-color: ${selectColor};\n  `}\n`;\nconst FaceImg = styled.img`\n  width: 9em;\n  display: block;\n`;\n\nconst SelectableFace = ({\n  isSelected,\n  selectColor,\n  faceImage,\n  altText,\n  onClick\n}) => /*#__PURE__*/React.createElement(Selectable, {\n  isSelected: isSelected\n}, /*#__PURE__*/React.createElement(FaceImg, {\n  src: faceImage,\n  alt: altText\n}), /*#__PURE__*/React.createElement(Overlay, {\n  isSelected: isSelected,\n  selectColor: selectColor,\n  onClick: onClick\n}));\n\nconst UnSelectableFace = ({\n  faceImage,\n  altText\n}) => /*#__PURE__*/React.createElement(UnSelectable, null, /*#__PURE__*/React.createElement(FaceImg, {\n  src: faceImage,\n  alt: altText\n}));\n\nconst Card = ({\n  order,\n  canBeSelected,\n  isSelected,\n  selectColor,\n  faceImage,\n  altText,\n  onClick\n}) => {\n  const Face = canBeSelected ? SelectableFace : UnSelectableFace;\n  return /*#__PURE__*/React.createElement(Container, {\n    order: order\n  }, /*#__PURE__*/React.createElement(Face, {\n    isSelected: isSelected,\n    selectColor: selectColor,\n    faceImage: faceImage,\n    altText: altText,\n    onClick: onClick\n  }));\n};\n\nexport default Card;","import React from \"react\";\nimport HA from './cards/AH.svg';\nimport CA from './cards/AC.svg';\nimport DA from './cards/AD.svg';\nimport SA from './cards/AS.svg';\nimport H2 from './cards/2H.svg';\nimport C2 from './cards/2C.svg';\nimport D2 from './cards/2D.svg';\nimport S2 from './cards/2S.svg';\nimport H3 from './cards/3H.svg';\nimport C3 from './cards/3C.svg';\nimport D3 from './cards/3D.svg';\nimport S3 from './cards/3S.svg';\nimport H4 from './cards/4H.svg';\nimport C4 from './cards/4C.svg';\nimport D4 from './cards/4D.svg';\nimport S4 from './cards/4S.svg';\nimport H5 from './cards/5H.svg';\nimport C5 from './cards/5C.svg';\nimport D5 from './cards/5D.svg';\nimport S5 from './cards/5S.svg';\nimport H6 from './cards/6H.svg';\nimport C6 from './cards/6C.svg';\nimport D6 from './cards/6D.svg';\nimport S6 from './cards/6S.svg';\nimport H7 from './cards/7H.svg';\nimport C7 from './cards/7C.svg';\nimport D7 from './cards/7D.svg';\nimport S7 from './cards/7S.svg';\nimport H8 from './cards/8H.svg';\nimport C8 from './cards/8C.svg';\nimport D8 from './cards/8D.svg';\nimport S8 from './cards/8S.svg';\nimport H9 from './cards/9H.svg';\nimport C9 from './cards/9C.svg';\nimport D9 from './cards/9D.svg';\nimport S9 from './cards/9S.svg';\nimport H10 from './cards/10H.svg';\nimport C10 from './cards/10C.svg';\nimport D10 from './cards/10D.svg';\nimport S10 from './cards/10S.svg';\nimport HJ from './cards/JH.svg';\nimport CJ from './cards/JC.svg';\nimport DJ from './cards/JD.svg';\nimport SJ from './cards/JS.svg';\nimport HQ from './cards/QH.svg';\nimport CQ from './cards/QC.svg';\nimport DQ from './cards/QD.svg';\nimport SQ from './cards/QS.svg';\nimport HK from './cards/KH.svg';\nimport CK from './cards/KC.svg';\nimport DK from './cards/KD.svg';\nimport SK from './cards/KS.svg';\nimport JKR from './cards/JOKER.svg';\nimport { JOKER, ACE, KING, QUEEN, JACK } from './model';\nimport Card from \"./Card\";\n\nconst getFaceImage = ({\n  suit,\n  value\n}) => {\n  if (value === JOKER) {\n    return JKR;\n  } else if (value === ACE && suit === 'H') {\n    return HA;\n  } else if (value === ACE && suit === 'D') {\n    return DA;\n  } else if (value === ACE && suit === 'S') {\n    return SA;\n  } else if (value === ACE && suit === 'C') {\n    return CA;\n  } else if (value === 2 && suit === 'H') {\n    return H2;\n  } else if (value === 2 && suit === 'D') {\n    return D2;\n  } else if (value === 2 && suit === 'S') {\n    return S2;\n  } else if (value === 2 && suit === 'C') {\n    return C2;\n  } else if (value === 3 && suit === 'H') {\n    return H3;\n  } else if (value === 3 && suit === 'D') {\n    return D3;\n  } else if (value === 3 && suit === 'S') {\n    return S3;\n  } else if (value === 3 && suit === 'C') {\n    return C3;\n  } else if (value === 4 && suit === 'H') {\n    return H4;\n  } else if (value === 4 && suit === 'D') {\n    return D4;\n  } else if (value === 4 && suit === 'S') {\n    return S4;\n  } else if (value === 4 && suit === 'C') {\n    return C4;\n  } else if (value === 5 && suit === 'H') {\n    return H5;\n  } else if (value === 5 && suit === 'D') {\n    return D5;\n  } else if (value === 5 && suit === 'S') {\n    return S5;\n  } else if (value === 5 && suit === 'C') {\n    return C5;\n  } else if (value === 6 && suit === 'H') {\n    return H6;\n  } else if (value === 6 && suit === 'D') {\n    return D6;\n  } else if (value === 6 && suit === 'S') {\n    return S6;\n  } else if (value === 6 && suit === 'C') {\n    return C6;\n  } else if (value === 7 && suit === 'H') {\n    return H7;\n  } else if (value === 7 && suit === 'D') {\n    return D7;\n  } else if (value === 7 && suit === 'S') {\n    return S7;\n  } else if (value === 7 && suit === 'C') {\n    return C7;\n  } else if (value === 8 && suit === 'H') {\n    return H8;\n  } else if (value === 8 && suit === 'D') {\n    return D8;\n  } else if (value === 8 && suit === 'S') {\n    return S8;\n  } else if (value === 8 && suit === 'C') {\n    return C8;\n  } else if (value === 9 && suit === 'H') {\n    return H9;\n  } else if (value === 9 && suit === 'D') {\n    return D9;\n  } else if (value === 9 && suit === 'S') {\n    return S9;\n  } else if (value === 9 && suit === 'C') {\n    return C9;\n  } else if (value === 10 && suit === 'H') {\n    return H10;\n  } else if (value === 10 && suit === 'D') {\n    return D10;\n  } else if (value === 10 && suit === 'S') {\n    return S10;\n  } else if (value === 10 && suit === 'C') {\n    return C10;\n  } else if (value === JACK && suit === 'H') {\n    return HJ;\n  } else if (value === JACK && suit === 'D') {\n    return DJ;\n  } else if (value === JACK && suit === 'S') {\n    return SJ;\n  } else if (value === JACK && suit === 'C') {\n    return CJ;\n  } else if (value === QUEEN && suit === 'H') {\n    return HQ;\n  } else if (value === QUEEN && suit === 'D') {\n    return DQ;\n  } else if (value === QUEEN && suit === 'S') {\n    return SQ;\n  } else if (value === QUEEN && suit === 'C') {\n    return CQ;\n  } else if (value === KING && suit === 'H') {\n    return HK;\n  } else if (value === KING && suit === 'D') {\n    return DK;\n  } else if (value === KING && suit === 'S') {\n    return SK;\n  } else if (value === KING && suit === 'C') {\n    return CK;\n  }\n};\n\nconst getAltText = ({\n  value,\n  suit\n}) => {\n  if (value === JOKER) {\n    return '🃏 Joker';\n  } else if (value === ACE && suit === 'H') {\n    return '🂱 Ace of Hearts';\n  } else if (value === ACE && suit === 'D') {\n    return '🃁 Ace of Diamonds';\n  } else if (value === ACE && suit === 'S') {\n    return '🂡 Ace of Spaces';\n  } else if (value === ACE && suit === 'C') {\n    return '🃑 Ace of Clubs';\n  } else if (value === 2 && suit === 'H') {\n    return '🂲 Two of Hearts';\n  } else if (value === 2 && suit === 'D') {\n    return '🃂 Two of Diamonds';\n  } else if (value === 2 && suit === 'S') {\n    return '🂢 Two of Spades';\n  } else if (value === 2 && suit === 'C') {\n    return '🃒 Two of Clubs';\n  } else if (value === 3 && suit === 'H') {\n    return '🂳 Three of Hearts';\n  } else if (value === 3 && suit === 'D') {\n    return '🃃 Three of Diamonds';\n  } else if (value === 3 && suit === 'S') {\n    return '🂣 Three of Spades';\n  } else if (value === 3 && suit === 'C') {\n    return '🃓 Three of Clubs';\n  } else if (value === 4 && suit === 'H') {\n    return '🂴 Four of Hearts';\n  } else if (value === 4 && suit === 'D') {\n    return '🃄 Four of Diamonds';\n  } else if (value === 4 && suit === 'S') {\n    return '🂤 Four of Spades';\n  } else if (value === 4 && suit === 'C') {\n    return '🃔 Four of Clubs';\n  } else if (value === 5 && suit === 'H') {\n    return '🂵 Five of Hearts';\n  } else if (value === 5 && suit === 'D') {\n    return '🃅 Five of Diamonds';\n  } else if (value === 5 && suit === 'S') {\n    return '🂥 Five of Spades';\n  } else if (value === 5 && suit === 'C') {\n    return '🃕 Five of Clubs';\n  } else if (value === 6 && suit === 'H') {\n    return '🂶 Six of Hearts';\n  } else if (value === 6 && suit === 'D') {\n    return '🃆 Six of Diamomnds';\n  } else if (value === 6 && suit === 'S') {\n    return '🂦 Six of Spades';\n  } else if (value === 6 && suit === 'C') {\n    return '🃖 Six of Clubs';\n  } else if (value === 7 && suit === 'H') {\n    return '🂷 Seven of Hearts';\n  } else if (value === 7 && suit === 'D') {\n    return '🃇 Seven of Diamonds';\n  } else if (value === 7 && suit === 'S') {\n    return '🂧 Seven of Spades';\n  } else if (value === 7 && suit === 'C') {\n    return '🃗 Seven of Clubs';\n  } else if (value === 8 && suit === 'H') {\n    return '🂸 Eight of Hearts';\n  } else if (value === 8 && suit === 'D') {\n    return '🃈 Eight of Diamonds';\n  } else if (value === 8 && suit === 'S') {\n    return '🂨 Eight of Spades';\n  } else if (value === 8 && suit === 'C') {\n    return '🃘 Eight of Clubs';\n  } else if (value === 9 && suit === 'H') {\n    return '🂹 Nine of Hearts';\n  } else if (value === 9 && suit === 'D') {\n    return '🃉 Nine of Diamonds';\n  } else if (value === 9 && suit === 'S') {\n    return '🂩 Nine of Spades';\n  } else if (value === 9 && suit === 'C') {\n    return '🃙 Nine of Clubs';\n  } else if (value === 10 && suit === 'H') {\n    return '🂺 Ten of Hearts';\n  } else if (value === 10 && suit === 'D') {\n    return '🃊 Ten of Diamonds';\n  } else if (value === 10 && suit === 'S') {\n    return '🂪 Ten of Spades';\n  } else if (value === 10 && suit === 'C') {\n    return '🃚 Ten of Clubs';\n  } else if (value === JACK && suit === 'H') {\n    return '🂻 Jack of Hearts';\n  } else if (value === JACK && suit === 'D') {\n    return '🃋 Jack of Diamonds';\n  } else if (value === JACK && suit === 'S') {\n    return '🂫 Jack of Spades';\n  } else if (value === JACK && suit === 'C') {\n    return '🃛 Jack of Clubs';\n  } else if (value === QUEEN && suit === 'H') {\n    return '🂽 Queen of Hearts';\n  } else if (value === QUEEN && suit === 'D') {\n    return '🃍 Queen of Diamonds';\n  } else if (value === QUEEN && suit === 'S') {\n    return '🂭 Queen of Spades';\n  } else if (value === QUEEN && suit === 'C') {\n    return '🃝 Queen of Clubs';\n  } else if (value === KING && suit === 'H') {\n    return '🂾 King of Hearts';\n  } else if (value === KING && suit === 'D') {\n    return '🃞 King of Diamonds';\n  } else if (value === KING && suit === 'S') {\n    return '🂮 King of Spades';\n  } else if (value === KING && suit === 'C') {\n    return '🃞 King of Clubs';\n  }\n};\n\nconst CardFront = ({\n  value,\n  suit,\n  canBeSelected = false,\n  isSelected = false,\n  selectColor = null\n}) => {\n  console.log(\"select\", selectColor);\n  const faceImage = getFaceImage({\n    value,\n    suit\n  });\n  const altText = getAltText({\n    value,\n    suit\n  });\n  return /*#__PURE__*/React.createElement(Card, {\n    faceImage: faceImage,\n    altText: altText,\n    isSelected: isSelected,\n    canBeSelected: canBeSelected,\n    selectColor: selectColor\n  });\n};\n\nexport default CardFront;","export default __webpack_public_path__ + \"static/media/RED_BACK.eea8c6b0.svg\";","export default __webpack_public_path__ + \"static/media/BLUE_BACK.d7aabd90.svg\";","import React from \"react\";\nimport RED_BACK from './cards/RED_BACK.svg';\nimport BLUE_BACK from './cards/BLUE_BACK.svg';\nimport Card from \"./Card\";\n\nconst getFaceImage = ({\n  colour\n}) => {\n  if (colour === 'R') {\n    return RED_BACK;\n  } else if (colour === 'B') {\n    return BLUE_BACK;\n  }\n};\n\nconst CardBack = ({\n  colour,\n  isSelected = false,\n  canBeSelected = false,\n  selectColor = null\n}) => {\n  const faceImage = getFaceImage({\n    colour\n  });\n  return /*#__PURE__*/React.createElement(Card, {\n    faceImage: faceImage,\n    altText: \"\\uD83C\\uDCA0 Card Back\",\n    isSelected: isSelected,\n    canBeSelected: canBeSelected,\n    selectColor: selectColor\n  });\n};\n\nexport default CardBack;","export default __webpack_public_path__ + \"static/media/felt.5b148bae.png\";","import styled from \"styled-components\";\nimport felt from \"./felt.png\";\nconst FeltTable = styled.div`\n  background-color: rgb(10, 80, 20);\n  background-image: url(${felt});\n  height: 100%;\n  padding: 5%;\n`;\nexport default FeltTable;","import styled from \"styled-components\";\nconst Hand = styled.section`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  max-height: 50%;\n\n  padding-right: 3em;\n  padding-bottom: 9em;\n`;\nexport default Hand;","import PlayingCardFront from \"./CardFront\";\nimport PlayingCardBack from \"./CardBack\";\nimport FeltTable from \"./FeltTable\";\nimport Hand from \"./Hand\";\nexport default PlayingCardFront;\nexport { PlayingCardFront, PlayingCardBack, Hand, FeltTable };\nexport * from \"./model\";","import TicTacToe from \"@compendium/tic-tac-toe\";\nimport Whist from \"@compendium/whist\";\n\nconst compendium = [\n  TicTacToe,\n  Whist,\n];\n\nexport default compendium;\n","import game from \"@compendium/whist-game\";\nimport { Host, Guest } from \"@compendium/whist-client\";\n\nconst name = \"Whist\";\n\nconst Whist = { name, Host, Guest, game };\n\nexport default Whist;\n","import React from \"react\";\nimport { withHostPlayers } from \"@compendium/players-client\";\nimport PlayingCard, { PlayingCardBack, FeltTable, Hand } from \"@compendium/playing-card\";\nconst Host = withHostPlayers({\n  maxPlayers: 4,\n  minPlayers: 4\n}, ({\n  state,\n  roomId,\n  moves,\n  connections\n}) => {\n  return /*#__PURE__*/React.createElement(FeltTable, null, /*#__PURE__*/React.createElement(PlayingCardBack, {\n    colour: \"R\"\n  }), /*#__PURE__*/React.createElement(Hand, null, state.discard && state.discard.map(({\n    suit,\n    value\n  }) => /*#__PURE__*/React.createElement(PlayingCard, {\n    suit: suit,\n    value: value\n  }))));\n});\nexport default Host;","import React from \"react\";\nimport { withGuestPlayers } from \"@compendium/players-client\";\nimport PlayingCard, { FeltTable, Hand } from \"@compendium/playing-card\";\nconst Guest = withGuestPlayers(({\n  state,\n  roomId,\n  moves,\n  connectionId\n}) => {\n  return /*#__PURE__*/React.createElement(FeltTable, null, /*#__PURE__*/React.createElement(Hand, null, state.hand && state.hand.map(({\n    suit,\n    value\n  }) => /*#__PURE__*/React.createElement(PlayingCard, {\n    suit: suit,\n    value: value\n  }))));\n});\nexport default Guest;","import randomWords from \"random-words\";\nimport isEqual from \"lodash/isEqual\";\n\nconst permutations = [\n  [0, 1, 2],\n  [0, 2, 1],\n  [1, 0, 2],\n  [2, 0, 1],\n  [2, 1, 0],\n  [1, 2, 0],\n];\n\nexport const createRoomId = (compendiumIndex) => {\n  const order = permutations[compendiumIndex]\n  const words = randomWords({ exactly: 3 }).sort();\n  const orderedWords = order.map(o => words[o])\n  const roomId = orderedWords.join('-')\n  return roomId\n}\n\nexport const decodeCompendiumIndex = (roomId) => {\n  const words = roomId.split('-')\n  const sortedWords = [...words].sort()\n  const permutation = words.map(word => sortedWords.findIndex((w) => word === w))\n  const compendiumIndex = permutations.findIndex((permu) => isEqual(permu, permutation))\n  return compendiumIndex;\n}\n","import { useState, useEffect } from \"react\";\nimport compendium from \"./compendium\";\nimport { decodeCompendiumIndex } from \"./rooms\";\n\nconst getGame = (roomId) => {\n  const compendiumIndex = decodeCompendiumIndex(roomId)\n  const game = compendium[compendiumIndex];\n  return game;\n}\n\nconst useGame = (roomId) => {\n  const [game, setGame] = useState({ name: null, Host: null, Guest: null, game: null });\n  useEffect(() => setGame(getGame(roomId)), [])\n  return game;\n}\n\nexport default useGame;\n","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { createRoomId } from \"./rooms\";\nimport compendium from \"./compendium\";\n\nconst NewGame = ({ onNewGame }) => {\n  const [value, set] = useState(0);\n\n  const onChange = (e) => {\n    set(e.target.value);\n    e.preventDefault();\n  }\n\n  const onSubmit = () => onNewGame(value);\n\n  return (\n    <>\n      <select onChange={onChange} value={value}>\n        {compendium.map(({ name }, index) =>\n          <option value={index} key={index}>{name}</option>)}\n      </select>\n      <button onClick={onSubmit} onKeyPress={onSubmit}>Host New Game</button>\n    </>\n  )\n}\n\nconst JoinGame = ({ onJoinGame }) => {\n  const [value, set] = useState();\n\n  const onChange = (e) => {\n    set(e.target.value);\n    e.preventDefault();\n  }\n\n  const onSubmit = () => onJoinGame(value);\n\n  return (\n    <>\n      <label>\n        Room Password\n        <input onChange={onChange} value={value}/>\n      </label>\n      <button onClick={onSubmit} onKeyPress={onSubmit}>Join Game</button>\n    </>\n  );\n}\n\n\nconst Home = () => {\n  const { push } = useHistory();\n\n  const onNewGame = (compendiumIndex) => {\n    const roomId = createRoomId(compendiumIndex);\n    push(`/host/${roomId}`)\n  }\n\n  const onJoinGame = (roomId) => {\n    push(`/guest/${roomId}`)\n  }\n\n  return (\n    <>\n      <NewGame onNewGame={onNewGame} />\n      <JoinGame onJoinGame={onJoinGame} />\n    </>\n  )\n}\n\n\nexport default Home;\n","import { usePartyHost, usePartyGuest } from \"@compendium/peer-party\";\nimport { HashRouter, Switch, Route, useParams } from \"react-router-dom\";\nimport useGame from \"./useGame\";\nimport Home from \"./Home\";\n\nconst HostRoute = () => {\n  const { roomId } = useParams();\n  const { Host, game } = useGame(roomId);\n  const { state, moves, connections } = usePartyHost({ roomId, game });\n  return (\n    Host && <Host roomId={roomId} state={state} moves={moves} connections={connections} />\n  )\n}\n\nconst GuestRoute = () => {\n  const { roomId } = useParams();\n  const { Guest, game } = useGame(roomId);\n  const { connectionId, connected, state, moves } = usePartyGuest({ roomId, game });\n  return (\n    Guest && <Guest connectionId={connectionId} roomId={roomId} connected={connected} state={state} moves={moves}/>\n  )\n}\n\nconst Router = () =>\n  <HashRouter>\n    <Switch>\n      <Route path=\"/host/:roomId\">\n        <HostRoute/>\n      </Route>\n      <Route path=\"/guest/:roomId\">\n        <GuestRoute/>\n      </Route>\n      <Route exact path=\"/\">\n        <Home/>\n      </Route>\n    </Switch>\n  </HashRouter>\n\nexport default Router;\n","import Router from \"./Router\";\n\nconst App = () =>\n  <Router/>\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Host\", {\n  enumerable: true,\n  get: function get() {\n    return _Host[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"Guest\", {\n  enumerable: true,\n  get: function get() {\n    return _Guest[\"default\"];\n  }\n});\nexports.withHostPlayers = exports.withGuestPlayers = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Host = _interopRequireDefault(require(\"./Host\"));\n\nvar _Guest = _interopRequireDefault(require(\"./Guest\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar withGuestPlayers = function withGuestPlayers(Component) {\n  return function (_ref) {\n    var children = _ref.children,\n        props = _objectWithoutProperties(_ref, [\"children\"]);\n\n    return /*#__PURE__*/_react[\"default\"].createElement(_Guest[\"default\"], props, /*#__PURE__*/_react[\"default\"].createElement(Component, props, children));\n  };\n};\n\nexports.withGuestPlayers = withGuestPlayers;\n\nvar withHostPlayers = function withHostPlayers(options, Component) {\n  return function (_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutProperties(_ref2, [\"children\"]);\n\n    return /*#__PURE__*/_react[\"default\"].createElement(_Host[\"default\"], _extends({}, options, props), /*#__PURE__*/_react[\"default\"].createElement(Component, props, children));\n  };\n};\n\nexports.withHostPlayers = withHostPlayers;","import React, { memo } from 'react';\nimport twemoji from 'twemoji';\nconst Emoji = /*#__PURE__*/memo(({\n  emoji\n}) => /*#__PURE__*/React.createElement(\"span\", {\n  dangerouslySetInnerHTML: {\n    __html: twemoji.parse(emoji, {\n      folder: 'svg',\n      ext: '.svg'\n    })\n  }\n}));\nexport default Emoji;","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Picker } from 'emoji-mart';\nimport 'emoji-mart/css/emoji-mart.css';\nconst Background = styled.div`\n  background-color: rgba(0, 0, 0, 0.8);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nconst Wrapper = styled.div`\n  display: inline-block;\n`;\n\nconst EmojiPicker = ({\n  onSelectEmoji,\n  onHide\n}) => {\n  const onSelect = emoji => {\n    onSelectEmoji(emoji.native);\n  };\n\n  return /*#__PURE__*/React.createElement(Background, {\n    tabIndex: true,\n    onKeyPress: onHide,\n    onClick: onHide\n  }, /*#__PURE__*/React.createElement(Wrapper, {\n    onClick: e => e.stopPropagation()\n  }, /*#__PURE__*/React.createElement(Picker, {\n    onSelect: onSelect,\n    set: \"twitter\"\n  })));\n};\n\nexport default EmojiPicker;","import Emoji from \"./Emoji\";\nimport EmojiPicker from \"./EmojiPicker\";\nexport default Emoji;\nexport { EmojiPicker };","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 87;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _emoji = _interopRequireDefault(require(\"@compendium/emoji\"));\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar Main = _styledComponents[\"default\"].main(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: flex;\\n\"])));\n\nvar Section = _styledComponents[\"default\"].section(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  flex-grow: 1; \\n\"])));\n\nvar Article = _styledComponents[\"default\"].article(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  flex-grow: 3; \\n\"])));\n\nvar Item = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  padding: .4em;\\n  border: solid 1px gray;\\n\"])));\n\nvar Square = _styledComponents[\"default\"].div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  width: 2em;\\n  height: 2em;\\n  padding: 0.3em;\\n  display: inline-block;\\n\"])));\n\nvar Button = _styledComponents[\"default\"].button(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n\\n\"])));\n\nvar checkIfCanStartGame = function checkIfCanStartGame(_ref) {\n  var players = _ref.state.players;\n  return players.list.length >= players.minPlayers;\n};\n\nvar PlayerList = function PlayerList(_ref2) {\n  var children = _ref2.children,\n      players = _ref2.players;\n  return /*#__PURE__*/_react[\"default\"].createElement(Main, null, /*#__PURE__*/_react[\"default\"].createElement(Section, null, players.map(function (_ref3, index) {\n    var name = _ref3.name,\n        emoji = _ref3.emoji;\n    return /*#__PURE__*/_react[\"default\"].createElement(Item, {\n      key: index\n    }, /*#__PURE__*/_react[\"default\"].createElement(Square, null, emoji && /*#__PURE__*/_react[\"default\"].createElement(_emoji[\"default\"], {\n      emoji: emoji\n    })), name);\n  })), /*#__PURE__*/_react[\"default\"].createElement(Article, null, children));\n};\n\nvar HowToJoin = function HowToJoin(_ref4) {\n  var roomId = _ref4.roomId;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"h1\", null, \"Join: \", roomId);\n};\n\nvar Host = function Host(_ref5) {\n  var state = _ref5.state,\n      roomId = _ref5.roomId,\n      moves = _ref5.moves,\n      connections = _ref5.connections,\n      maxPlayers = _ref5.maxPlayers,\n      minPlayers = _ref5.minPlayers,\n      children = _ref5.children;\n  (0, _react.useEffect)(function () {\n    if (!state.players && moves !== null && moves !== void 0 && moves.initPlayers) {\n      moves.initPlayers({\n        maxPlayers: maxPlayers,\n        minPlayers: minPlayers\n      });\n    }\n  }, [state.players, moves]);\n  if (!state.players) return null;\n  if (state.players.everyonesIn) return children;\n  var canStartGame = checkIfCanStartGame({\n    state: state\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(PlayerList, {\n    players: state.players.list\n  }, /*#__PURE__*/_react[\"default\"].createElement(HowToJoin, {\n    roomId: roomId\n  }), canStartGame && /*#__PURE__*/_react[\"default\"].createElement(Button, {\n    onClick: function onClick() {\n      return moves.startGame();\n    },\n    onKeyPress: function onKeyPress() {\n      return moves.startGame();\n    }\n  }, \"Start Game\"));\n};\n\nvar _default = Host;\nexports[\"default\"] = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _emoji = _interopRequireWildcard(require(\"@compendium/emoji\"));\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar Row = _styledComponents[\"default\"].div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"])));\n\nvar Main = _styledComponents[\"default\"].main(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;d\\n\"])));\n\nvar Input = _styledComponents[\"default\"].input(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  border-radius: 0.2em;\\n  border: solid 1px grey;\\n  padding: 0.3em 0.6em;\\n  margin: 0.6em\\n\"])));\n\nvar Button = _styledComponents[\"default\"].button(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  border-radius: 0.2em;\\n  background-color: rgb(10, 50, 200);\\n  color: white;\\n  border: solid 1px grey;\\n  padding: 0.3em 0.6em;\\n  margin: 0.6em\\n\"])));\n\nvar SmallSquare = _styledComponents[\"default\"].div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  width: 10em;\\n  height: 10em;\\n  margin: 0 auto;\\n\"])));\n\nvar JoinScreen = function JoinScreen(_ref) {\n  var onJoin = _ref.onJoin;\n\n  var _useState = (0, _react.useState)(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = (0, _react.useState)('😎'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      emoji = _useState4[0],\n      setEmoji = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pickerIsShown = _useState6[0],\n      setPickerIsShown = _useState6[1];\n\n  var showPicker = function showPicker() {\n    return setPickerIsShown(true);\n  };\n\n  var hidePicker = function hidePicker() {\n    return setPickerIsShown(false);\n  };\n\n  var join = function join() {\n    (name === null || name === void 0 ? void 0 : name.length) && onJoin({\n      name: name,\n      emoji: emoji\n    });\n  };\n\n  var onSelectEmoji = function onSelectEmoji(emoji) {\n    setEmoji(emoji);\n    hidePicker();\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, pickerIsShown && /*#__PURE__*/_react[\"default\"].createElement(_emoji.EmojiPicker, {\n    onHide: hidePicker,\n    onSelectEmoji: onSelectEmoji\n  }), /*#__PURE__*/_react[\"default\"].createElement(Main, null, /*#__PURE__*/_react[\"default\"].createElement(SmallSquare, {\n    tabIndex: 0,\n    onKeyPress: showPicker,\n    onClick: showPicker\n  }, /*#__PURE__*/_react[\"default\"].createElement(_emoji[\"default\"], {\n    emoji: emoji\n  })), /*#__PURE__*/_react[\"default\"].createElement(Row, null, /*#__PURE__*/_react[\"default\"].createElement(\"h1\", null, name)), /*#__PURE__*/_react[\"default\"].createElement(Row, null, /*#__PURE__*/_react[\"default\"].createElement(\"label\", null, \"Nickname\", /*#__PURE__*/_react[\"default\"].createElement(Input, {\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    value: name\n  }))), /*#__PURE__*/_react[\"default\"].createElement(Row, null, /*#__PURE__*/_react[\"default\"].createElement(Button, {\n    type: \"button\",\n    onKeyPress: join,\n    onClick: join\n  }, \"Sit down to Play\"))));\n};\n\nvar Spectator = function Spectator() {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"h1\", null, \"You are a Spectator\");\n};\n\nvar Waiting = function Waiting() {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"h1\", null, \"Be patient, the host is setting up your game.\");\n};\n\nvar findConnectionIsPlayer = function findConnectionIsPlayer(_ref2) {\n  var players = _ref2.players,\n      connectionId = _ref2.connectionId;\n  return players.findIndex(function (player) {\n    return player.connectionId === connectionId;\n  }) > -1;\n};\n\nvar checkIfGameIsFull = function checkIfGameIsFull(_ref3) {\n  var players = _ref3.state.players;\n  return players.list.length > players.maxPlayers;\n};\n\nvar Guest = function Guest(_ref4) {\n  var children = _ref4.children,\n      state = _ref4.state,\n      roomId = _ref4.roomId,\n      moves = _ref4.moves,\n      connectionId = _ref4.connectionId;\n\n  if (!state.players) {\n    return /*#__PURE__*/_react[\"default\"].createElement(Waiting, null);\n  }\n\n  var isPlayer = findConnectionIsPlayer({\n    players: state.players.list,\n    connectionId: connectionId\n  });\n\n  var onJoin = function onJoin(_ref5) {\n    var name = _ref5.name,\n        emoji = _ref5.emoji;\n    moves.joinAsAPlayer({\n      name: name,\n      emoji: emoji\n    });\n  };\n\n  if (state.players.everyonesIn) {\n    return isPlayer ? children : /*#__PURE__*/_react[\"default\"].createElement(Spectator, null);\n  } else {\n    var gameIsFull = checkIfGameIsFull({\n      state: state\n    });\n    return isPlayer || gameIsFull ? /*#__PURE__*/_react[\"default\"].createElement(Waiting, null) : /*#__PURE__*/_react[\"default\"].createElement(JoinScreen, {\n      onJoin: onJoin\n    });\n  }\n};\n\nvar _default = Guest;\nexports[\"default\"] = _default;"],"sourceRoot":""}