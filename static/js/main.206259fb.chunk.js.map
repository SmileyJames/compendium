{"version":3,"sources":["../../.yarn/$$virtual/@compendium-players-client-virtual-4f67b21309/1/components/players/client/dist/Host.js","../../.yarn/$$virtual/@compendium-players-client-virtual-4f67b21309/1/components/players/client/dist/Guest.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/shared.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/usePersist.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useGameState.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/stores.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/funcs.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/usePeer.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useConnections.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useMoves.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/useSendSyncs.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/host/usePartyHost.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/funcs.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useAck.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useSync.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useMoves.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/useConnection.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/usePartyGuest.js","../../.yarn/$$virtual/@compendium-peer-party-virtual-192a67fece/1/peer-party/src/guest/stores.js","../../games/tic-tac-toe/game/index.js","../../.yarn/$$virtual/@compendium-tic-tac-toe-host-virtual-29ab4cb6c2/1/games/tic-tac-toe/host/dist/index.js","../../games/tic-tac-toe/guest/dist/index.js","../../.yarn/$$virtual/@compendium-tic-tac-toe-virtual-ef304ed1c2/1/games/tic-tac-toe/index.js","../../components/players/game/src/index.js","../../games/whist/game/src/index.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/AH.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/AC.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/AD.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/AS.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/2H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/2C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/2D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/2S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/3H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/3C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/3D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/3S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/4H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/4C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/4D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/4S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/5H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/5C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/5D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/5S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/6H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/6C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/6D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/6S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/7H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/7C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/7D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/7S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/8H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/8C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/8D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/8S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/9H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/9C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/9D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/9S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/10H.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/10C.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/10D.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/10S.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JH.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JC.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JD.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JS.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/QH.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/QC.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/QD.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/QS.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/KH.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/KC.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/KD.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/KS.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/JOKER.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/model.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/Card.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/CardFront.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/RED_BACK.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/cards/BLUE_BACK.svg","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/CardBack.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/felt.png","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/FeltTable.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/Hand.js","../../.yarn/$$virtual/@compendium-playing-card-virtual-352a48b143/1/components/playing-card/dist/index.js","compendium.js","../../.yarn/$$virtual/@compendium-whist-virtual-4791b8c2c2/1/games/whist/index.js","../../.yarn/$$virtual/@compendium-whist-client-virtual-37ea395af7/1/games/whist/client/dist/Host.js","../../.yarn/$$virtual/@compendium-whist-client-virtual-37ea395af7/1/games/whist/client/dist/Guest.js","rooms.js","useGame.js","Home.js","theme.js","Router.js","App.js","reportWebVitals.js","index.js","../../.yarn/$$virtual/@compendium-players-client-virtual-4f67b21309/1/components/players/client/dist/index.js","../../.yarn/$$virtual/@compendium-emoji-virtual-4fefafd080/1/components/emoji/dist/Emoji.js","../../.yarn/$$virtual/@compendium-emoji-virtual-4fefafd080/1/components/emoji/dist/EmojiPicker.js","../../.yarn/$$virtual/@compendium-emoji-virtual-4fefafd080/1/components/emoji/dist/index.js","../../.yarn/cache/peerjs-npm-1.3.1-878534ae62-2dc03823ec.zip/node_modules/peerjs/dist sync"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_react","__esModule","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_interopRequireWildcard","require","_styledComponents","_interopRequireDefault","_emoji","WeakMap","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","Main","main","Section","section","Article","article","Item","div","Square","Button","button","PlayerList","_ref2","children","players","createElement","map","_ref3","index","name","emoji","HowToJoin","_ref4","roomId","_default","_ref5","state","moves","maxPlayers","connections","minPlayers","useEffect","initPlayers","everyonesIn","canStartGame","_ref","list","length","checkIfCanStartGame","onClick","startGame","onKeyPress","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","toString","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","Row","Input","input","SmallSquare","JoinScreen","onJoin","_useState2","useState","setName","_useState4","setEmoji","_useState6","pickerIsShown","setPickerIsShown","showPicker","hidePicker","join","Fragment","EmojiPicker","onHide","onSelectEmoji","tabIndex","onChange","e","target","type","Spectator","Waiting","connectionId","isPlayer","findIndex","player","findConnectionIsPlayer","gameIsFull","checkIfGameIsFull","joinAsAPlayer","isSecretMove","game","move","moveFn","getMoveFunction","Function","getMoves","hostMoves","guestMoves","constructReducer","events","reduce","event","output","args","seed","seedrandom","console","error","constructMoves","handleMove","Proxy","receiver","keys","bind","Reflect","usePersist","store","defaultValue","JSON","parse","getItem","setState","item","window","localStorage","setItem","stringify","useGameState","eventLog","logSize","useRef","useStateStore","current","updateState","genSeed","random","logEvent","setEventLog","destructPeer","setPeer","peer","destroy","opts","host","secure","usePeer","id","open","setOpen","useReducer","a","attempts","countAttempt","Peer","retry","timeout","setTimeout","on","clearTimeout","onConnectionClosed","useConnections","setConnections","connectionLogSizeMap","conn","conns","appendConnection","isInteger","size","updateLogSizeMap","validMoves","isString","isObject","m","validateEvent","filter","c","removeConnection","useMoves","setMoves","constructMovesHandler","useSendSyncs","connection","numSent","send","usePartyHost","secret","useMemo","useEventLogStore","connectionIds","logSizeToIndex","useAck","connected","ack","useSync","data","clearData","setLogSize","updateLogSize","setCache","reducer","newState","sync","preempt","emit","useConnection","setData","setConnected","connect","serialization","stream","usePartyGuest","uuid","useIdStore","useLogSizeStore","TicTacToe","fillSquare","crossesPlayer","noughtsPlayer","Error","board","position","splice","crossesConnId","noughtsConnId","fill","Tile","styled","Board","Host","React","Link","to","location","TileOrButton","Guest","playerList","everyoneIsIn","playersGame","JACK","QUEEN","KING","Container","order","UnSelectable","Selectable","isSelected","Overlay","selectColor","FaceImg","img","SelectableFace","faceImage","altText","src","alt","UnSelectableFace","Card","canBeSelected","Face","CardFront","suit","log","JKR","HA","DA","SA","CA","H2","D2","S2","C2","H3","D3","S3","C3","H4","D4","S4","C4","H5","D5","S5","C5","H6","D6","S6","C6","H7","D7","S7","C7","H8","D8","S8","C8","H9","D9","S9","C9","H10","D10","S10","C10","HJ","DJ","SJ","CJ","HQ","DQ","SQ","CQ","HK","DK","SK","CK","getFaceImage","getAltText","CardBack","colour","RED_BACK","BLUE_BACK","FeltTable","felt","Hand","PlayingCardFront","compendium","withHostPlayers","PlayingCardBack","discard","PlayingCard","withGuestPlayers","hand","permutations","getGame","compendiumIndex","words","split","sortedWords","sort","permutation","word","w","permu","isEqual","decodeCompendiumIndex","useGame","setGame","NewGame","onNewGame","onSubmit","my","width","preventDefault","JoinGame","onJoinGame","Home","useHistory","mx","flexDirection","mt","fontSize","color","randomWords","exactly","createRoomId","base","HostRoute","useParams","theme","baseTheme","GuestRoute","Router","path","exact","App","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","enumerable","_Host","_Guest","_extends","assign","arguments","source","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Component","props","options","Emoji","memo","dangerouslySetInnerHTML","__html","twemoji","folder","ext","Background","Wrapper","stopPropagation","Picker","onSelect","native","webpackEmptyContext","req","code","resolve","module"],"mappings":"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CxT,GAA0B,MAATwT,EACnB,6BFnLC,IEoLCxT,GAA0B,MAATwT,EACnB,4BACY,IAAVxT,GAAwB,MAATwT,EACjB,6BACY,IAAVxT,GAAwB,MAATwT,EACjB,+BACY,IAAVxT,GAAwB,MAATwT,EACjB,6BACY,IAAVxT,GAAwB,MAATwT,EACjB,4BACY,IAAVxT,GAAwB,MAATwT,EACjB,+BACY,IAAVxT,GAAwB,MAATwT,EACjB,iCACY,IAAVxT,GAAwB,MAATwT,EACjB,+BACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,gCACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,6BACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,gCACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,6BACY,IAAVxT,GAAwB,MAATwT,EACjB,6BACY,IAAVxT,GAAwB,MAATwT,EACjB,gCACY,IAAVxT,GAAwB,MAATwT,EACjB,6BACY,IAAVxT,GAAwB,MAATwT,EACjB,4BACY,IAAVxT,GAAwB,MAATwT,EACjB,+BACY,IAAVxT,GAAwB,MAATwT,EACjB,iCACY,IAAVxT,GAAwB,MAATwT,EACjB,+BACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,+BACY,IAAVxT,GAAwB,MAATwT,EACjB,iCACY,IAAVxT,GAAwB,MAATwT,EACjB,+BACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,gCACY,IAAVxT,GAAwB,MAATwT,EACjB,8BACY,IAAVxT,GAAwB,MAATwT,EACjB,6BACY,KAAVxT,GAAyB,MAATwT,EAClB,6BACY,KAAVxT,GAAyB,MAATwT,EAClB,+BACY,KAAVxT,GAAyB,MAATwT,EAClB,6BACY,KAAVxT,GAAyB,MAAT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","file":"static/js/main.206259fb.chunk.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _emoji = _interopRequireDefault(require(\"@compendium/emoji\"));\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar Main = _styledComponents[\"default\"].main(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: flex;\\n\"])));\n\nvar Section = _styledComponents[\"default\"].section(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  flex-grow: 1; \\n\"])));\n\nvar Article = _styledComponents[\"default\"].article(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  flex-grow: 3; \\n\"])));\n\nvar Item = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  padding: .4em;\\n  border: solid 1px gray;\\n\"])));\n\nvar Square = _styledComponents[\"default\"].div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  width: 2em;\\n  height: 2em;\\n  padding: 0.3em;\\n  display: inline-block;\\n\"])));\n\nvar Button = _styledComponents[\"default\"].button(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n\\n\"])));\n\nvar checkIfCanStartGame = function checkIfCanStartGame(_ref) {\n  var players = _ref.state.players;\n  return players.list.length >= players.minPlayers;\n};\n\nvar PlayerList = function PlayerList(_ref2) {\n  var children = _ref2.children,\n      players = _ref2.players;\n  return /*#__PURE__*/_react[\"default\"].createElement(Main, null, /*#__PURE__*/_react[\"default\"].createElement(Section, null, players.map(function (_ref3, index) {\n    var name = _ref3.name,\n        emoji = _ref3.emoji;\n    return /*#__PURE__*/_react[\"default\"].createElement(Item, {\n      key: index\n    }, /*#__PURE__*/_react[\"default\"].createElement(Square, null, emoji && /*#__PURE__*/_react[\"default\"].createElement(_emoji[\"default\"], {\n      emoji: emoji\n    })), name);\n  })), /*#__PURE__*/_react[\"default\"].createElement(Article, null, children));\n};\n\nvar HowToJoin = function HowToJoin(_ref4) {\n  var roomId = _ref4.roomId;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"h1\", null, \"Join: \", roomId);\n};\n\nvar Host = function Host(_ref5) {\n  var state = _ref5.state,\n      roomId = _ref5.roomId,\n      moves = _ref5.moves,\n      connections = _ref5.connections,\n      maxPlayers = _ref5.maxPlayers,\n      minPlayers = _ref5.minPlayers,\n      children = _ref5.children;\n  (0, _react.useEffect)(function () {\n    if (!state.players && moves !== null && moves !== void 0 && moves.initPlayers) {\n      moves.initPlayers({\n        maxPlayers: maxPlayers,\n        minPlayers: minPlayers\n      });\n    }\n  }, [state.players, moves]);\n  if (!state.players) return null;\n  if (state.players.everyonesIn) return children;\n  var canStartGame = checkIfCanStartGame({\n    state: state\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(PlayerList, {\n    players: state.players.list\n  }, /*#__PURE__*/_react[\"default\"].createElement(HowToJoin, {\n    roomId: roomId\n  }), canStartGame && /*#__PURE__*/_react[\"default\"].createElement(Button, {\n    onClick: function onClick() {\n      return moves.startGame();\n    },\n    onKeyPress: function onKeyPress() {\n      return moves.startGame();\n    }\n  }, \"Start Game\"));\n};\n\nvar _default = Host;\nexports[\"default\"] = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _emoji = _interopRequireWildcard(require(\"@compendium/emoji\"));\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar Row = _styledComponents[\"default\"].div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"])));\n\nvar Main = _styledComponents[\"default\"].main(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;d\\n\"])));\n\nvar Input = _styledComponents[\"default\"].input(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  border-radius: 0.2em;\\n  border: solid 1px grey;\\n  padding: 0.3em 0.6em;\\n  margin: 0.6em\\n\"])));\n\nvar Button = _styledComponents[\"default\"].button(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  border-radius: 0.2em;\\n  background-color: rgb(10, 50, 200);\\n  color: white;\\n  border: solid 1px grey;\\n  padding: 0.3em 0.6em;\\n  margin: 0.6em\\n\"])));\n\nvar SmallSquare = _styledComponents[\"default\"].div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  width: 10em;\\n  height: 10em;\\n  margin: 0 auto;\\n\"])));\n\nvar JoinScreen = function JoinScreen(_ref) {\n  var onJoin = _ref.onJoin;\n\n  var _useState = (0, _react.useState)(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = (0, _react.useState)('😎'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      emoji = _useState4[0],\n      setEmoji = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pickerIsShown = _useState6[0],\n      setPickerIsShown = _useState6[1];\n\n  var showPicker = function showPicker() {\n    return setPickerIsShown(true);\n  };\n\n  var hidePicker = function hidePicker() {\n    return setPickerIsShown(false);\n  };\n\n  var join = function join() {\n    (name === null || name === void 0 ? void 0 : name.length) && onJoin({\n      name: name,\n      emoji: emoji\n    });\n  };\n\n  var onSelectEmoji = function onSelectEmoji(emoji) {\n    setEmoji(emoji);\n    hidePicker();\n  };\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, pickerIsShown && /*#__PURE__*/_react[\"default\"].createElement(_emoji.EmojiPicker, {\n    onHide: hidePicker,\n    onSelectEmoji: onSelectEmoji\n  }), /*#__PURE__*/_react[\"default\"].createElement(Main, null, /*#__PURE__*/_react[\"default\"].createElement(SmallSquare, {\n    tabIndex: 0,\n    onKeyPress: showPicker,\n    onClick: showPicker\n  }, /*#__PURE__*/_react[\"default\"].createElement(_emoji[\"default\"], {\n    emoji: emoji\n  })), /*#__PURE__*/_react[\"default\"].createElement(Row, null, /*#__PURE__*/_react[\"default\"].createElement(\"h1\", null, name)), /*#__PURE__*/_react[\"default\"].createElement(Row, null, /*#__PURE__*/_react[\"default\"].createElement(\"label\", null, \"Nickname\", /*#__PURE__*/_react[\"default\"].createElement(Input, {\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    value: name\n  }))), /*#__PURE__*/_react[\"default\"].createElement(Row, null, /*#__PURE__*/_react[\"default\"].createElement(Button, {\n    type: \"button\",\n    onKeyPress: join,\n    onClick: join\n  }, \"Sit down to Play\"))));\n};\n\nvar Spectator = function Spectator() {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"h1\", null, \"You are a Spectator\");\n};\n\nvar Waiting = function Waiting() {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"h1\", null, \"Be patient, the host is setting up your game.\");\n};\n\nvar findConnectionIsPlayer = function findConnectionIsPlayer(_ref2) {\n  var players = _ref2.players,\n      connectionId = _ref2.connectionId;\n  return players.findIndex(function (player) {\n    return player.connectionId === connectionId;\n  }) > -1;\n};\n\nvar checkIfGameIsFull = function checkIfGameIsFull(_ref3) {\n  var players = _ref3.state.players;\n  return players.list.length > players.maxPlayers;\n};\n\nvar Guest = function Guest(_ref4) {\n  var children = _ref4.children,\n      state = _ref4.state,\n      roomId = _ref4.roomId,\n      moves = _ref4.moves,\n      connectionId = _ref4.connectionId;\n\n  if (!state.players) {\n    return /*#__PURE__*/_react[\"default\"].createElement(Waiting, null);\n  }\n\n  var isPlayer = findConnectionIsPlayer({\n    players: state.players.list,\n    connectionId: connectionId\n  });\n\n  var onJoin = function onJoin(_ref5) {\n    var name = _ref5.name,\n        emoji = _ref5.emoji;\n    moves.joinAsAPlayer({\n      name: name,\n      emoji: emoji\n    });\n  };\n\n  if (state.players.everyonesIn) {\n    return isPlayer ? children : /*#__PURE__*/_react[\"default\"].createElement(Spectator, null);\n  } else {\n    var gameIsFull = checkIfGameIsFull({\n      state: state\n    });\n    return isPlayer || gameIsFull ? /*#__PURE__*/_react[\"default\"].createElement(Waiting, null) : /*#__PURE__*/_react[\"default\"].createElement(JoinScreen, {\n      onJoin: onJoin\n    });\n  }\n};\n\nvar _default = Guest;\nexports[\"default\"] = _default;","import seedrandom from \"seedrandom\";\n\nexport const isSecretMove = ({ connectionId, roomId, game, move }) => {\n  const moveFn = getMoveFunction({ connectionId, roomId, game, move });\n  try {\n    return (moveFn({}) instanceof Function);\n  } catch (e) {\n    return false;\n  }\n}\n\nconst getMoves = ({ connectionId, roomId, game }) => (\n  connectionId === roomId ? game.hostMoves : game.guestMoves\n);\n\nconst getMoveFunction = ({ connectionId, roomId, game, move }) => (\n  getMoves({ connectionId, roomId, game })[move]\n)\n\nexport const constructReducer = ({ game, events, roomId }) => (state) => {\n  try {\n    return events.reduce(\n      (o, event) => {\n        const moveFn = getMoveFunction({ connectionId: event.connectionId, roomId, game, move: event.move })\n        let output = moveFn({ state: o, connectionId: event.connectionId, args: event.args });\n        if (output instanceof Function && event.seed) {\n          const rng = seedrandom(event.seed);\n          output = output(rng);\n        }\n        return output;\n      },\n      state\n    );\n  } catch (e) {\n    console.error(e);\n    return state;\n  }\n}\n\nexport const constructMoves = ({ game, connectionId, roomId, handleMove }) => {\n  return new Proxy({}, {\n    get: (target, key, receiver) => {\n      const moves = getMoves({ connectionId, roomId, game });\n      if (moves.hasOwnProperty(key)) {\n        return (args) => handleMove({ move: key, args });\n      } else if (key === Symbol.iterator && moves) {\n        return moves.keys().bind(target)[Symbol.iterator]\n      } else {\n        return Reflect.get(target, key, receiver);\n      }\n    }\n  });\n}\n","import { useState, useEffect } from \"react\";\n\nconst usePersist = (store, key, defaultValue) => {\n  const [state, setState] = useState(\n    () => (\n      JSON.parse(store.getItem(key)) || \n      ((defaultValue instanceof Function) ? defaultValue() : defaultValue)\n    )\n  );\n\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : defaultValue;\n    } catch (error) {\n      console.error(error);\n      return defaultValue;\n    }\n  });\n\n  useEffect(() => {\n    store.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n}\n\nexport default usePersist;\n","import { useRef, useEffect } from \"react\";\nimport { useStateStore } from \"./stores\";\nimport { constructReducer } from \"../shared\";\n\nconst updateState = ({ roomId, setState, game, events }) => {\n  const reducer = constructReducer({ game, roomId, events })\n  setState(reducer);\n}\n\nconst useGameState = ({ roomId, game, eventLog }) => {\n  const logSize = useRef();\n  const { state, setState } = useStateStore(roomId);\n  useEffect(() => {\n    const events = eventLog.slice(logSize.current || 0);\n    if (!roomId || !game || !events.length) return;\n    updateState({ roomId, setState, game, events });\n    logSize.current = eventLog.length;\n  }, [setState, roomId, game, eventLog, logSize])\n  return { state };\n}\n\nexport default useGameState\n","import usePersist from '../usePersist';\n\nexport const useStateStore = (roomId) => {\n  const [state, setState]  = usePersist(\n    window.localStorage,\n    `hostState-${roomId}`,\n    {}\n  );\n  return { state, setState }\n}\n\nexport const useEventLogStore = (roomId) => {\n  const [eventLog, setEventLog] = usePersist(\n    window.localStorage,\n    `eventLog-${roomId}`,\n    []\n  );\n  return { eventLog, setEventLog };\n}\n","import { isSecretMove } from \"../shared\";\n\nconst genSeed = (random) => random()\n\nexport const logEvent = ({ setEventLog, event, connectionId, roomId, game, random }) => {\n  const e = (\n    (isSecretMove({ connectionId, roomId, game, move: event.move }))\n      ? { ...event, connectionId, seed: genSeed(random) }\n      : { ...event, connectionId }\n  )\n  setEventLog(events => [...events, e]);\n}\n\n","import { useEffect, useRef, useState, useReducer } from \"react\";\nimport Peer from \"peerjs\";\n\nconst destructPeer = ({ setPeer }) => {\n  setPeer(peer => {\n    peer && peer.destroy();\n    return null\n  })\n};\n\nconst opts = { host: \"peerjs.92k.de\", secure: true };\n\nconst usePeer = (id) => {\n  const [peer, setPeer] = useState();\n  const [open, setOpen] = useState(false);\n  const [attempts, countAttempt] = useReducer(a => a + 1, 0);\n\n  useEffect(() => {\n    if (open) return;\n\n    const peer = new Peer(id, opts);\n    setPeer(peer);\n\n    const retry = () => {\n      setOpen(false);\n      destructPeer({ setPeer });\n      countAttempt();\n    };\n\n    let timeout = setTimeout(retry, 1000);\n\n    peer.on(\"open\", () => {\n      clearTimeout(timeout);\n      setOpen(true);\n    });\n\n    const onConnectionClosed = () => {\n      clearTimeout(timeout);\n      timeout = setTimeout(retry, 1000);\n    }\n    peer.on(\"close\", onConnectionClosed);\n    peer.on(\"disconnected\", onConnectionClosed);\n    peer.on(\"error\", onConnectionClosed);\n\n    return () => {\n      destructPeer({ setPeer });\n      clearTimeout(timeout);\n    }\n  }, [attempts, id])\n\n  return { open, peer }\n}\n\nexport default usePeer;\n","import { useRef, useState, useEffect, useMemo } from \"react\";\nimport { isString, isObject, isInteger } from \"lodash\";\nimport { logEvent } from \"./funcs\";\nimport usePeer from \"../usePeer\";\n\nconst validateEvent = (event, validMoves) => (\n  event &&\n  isString(event.move) && \n  isObject(event.args) &&\n  validMoves.findIndex((m) => m === event.move) > -1\n)\n\nconst appendConnection = ({ setConnections, conn }) => {\n  setConnections((conns) => [...conns, conn]);\n}\n\nconst removeConnection = ({ setConnections, conn }) => {\n  setConnections((conns) => conns.filter(c => c !== conn))\n}\n\nconst updateLogSizeMap = ({ conn, connectionLogSizeMap, size = 0 }) => {\n  connectionLogSizeMap.current[conn.peer] = size\n}\n\nconst useConnections = ({ game, roomId, eventLog, setEventLog, random }) => {\n  const { peer } = usePeer(roomId);\n  const [connections, setConnections] = useState([]);\n  const connectionLogSizeMap = useRef({});\n\n  useEffect(() => {\n    if (!peer) return;\n    peer.on(\"connection\", (conn) => {\n      conn.on(\"open\", () => {\n        appendConnection({ setConnections, conn });\n      });\n\n      conn.on(\"data\", ({ index, ...event }) => {\n        if (isInteger(index)) {\n          updateLogSizeMap({ conn, connectionLogSizeMap, size: index + 1 });\n        }\n        \n        if (\n          (isInteger(index) || index === null) &&\n          validateEvent(event, Object.keys(game.guestMoves))\n        ) {\n          logEvent({ setEventLog, event, connectionId: conn.peer, roomId, game, random });\n        }\n      })\n\n      conn.on(\"close\", () => {\n        removeConnection({ setConnections, conn });\n      });\n\n      conn.on(\"error\", (error) => {\n        console.error(conn.peer, error)\n      });\n    })\n\n  }, [peer, game, roomId])\n\n  return { connections, connectionLogSizeMap }\n}\n\nexport default useConnections;\n","import { useEffect, useState } from \"react\";\nimport { constructMoves } from \"../shared\";\nimport { logEvent } from \"./funcs\";\n\nconst constructMovesHandler = ({ setMoves, game, roomId, setEventLog, random }) => {\n  const handleMove = ({ move, args }) => {\n    logEvent({ setEventLog, event: { move, args }, connectionId: roomId, roomId, game, random })\n  };\n  setMoves(() => constructMoves({ game, connectionId: roomId, roomId, handleMove }))\n}\n\nconst useMoves = ({ roomId, game, setEventLog, random }) => {\n  const [moves, setMoves] = useState(null);\n\n  useEffect(() => {\n    if (!game) return;\n    constructMovesHandler({ setMoves, game, roomId, setEventLog, random });\n  }, [roomId, game, setEventLog]);\n\n  return { moves, setMoves }\n}\n\nexport default useMoves;\n","import { useEffect } from \"react\";\n\nconst useSendSyncs = ({ connections, connectionLogSizeMap, eventLog }) => {\n  useEffect(() => {\n    for (const connection of connections) {\n      const numSent = connectionLogSizeMap.current[connection.peer] || 0;\n      if (eventLog.length > numSent) {\n        const events = eventLog.slice(numSent)\n          .map((e, i) => ({ ...e, index: numSent + i }));\n        connection.send(events);\n      }\n    }\n  }, [connections, connectionLogSizeMap, eventLog]);\n};\n\nexport default useSendSyncs;\n","import seedrandom from \"seedrandom\";\nimport { useRef, useState, useEffect, useMemo } from \"react\";\nimport { constructMoves, constructReducer } from \"../shared\";\nimport { useStateStore, useEventLogStore } from \"./stores\";\nimport useGameState from \"./useGameState\";\nimport useConnections from \"./useConnections\";\nimport useMoves from \"./useMoves\";\nimport useSendSyncs from \"./useSendSyncs\";\n\n\nconst usePartyHost = ({ roomId, game, secret }) => {\n  const random = useMemo(() => seedrandom(secret || roomId), [secret, roomId]);\n  const { eventLog, setEventLog } = useEventLogStore(roomId);\n  const { state } = useGameState({ roomId, game, eventLog });\n  const { connections, connectionLogSizeMap } = useConnections({ game, roomId, eventLog, setEventLog, random})\n  const connectionIds = useMemo(() => connections.map(({ peer }) => peer), [connections])\n  const { moves } = useMoves({ roomId, game, setEventLog, random });\n  useSendSyncs({ connections, connectionLogSizeMap, eventLog });\n  return { state, moves, connections: connectionIds }\n}\n\nexport default usePartyHost;\n","export const logSizeToIndex = logSize => {\n  const index = logSize - 1;\n  return (index < 0) ? null : index;\n};\n","import { useEffect } from \"react\";\nimport { logSizeToIndex } from \"./funcs\";\n\nexport const ack = ({ conn, logSize }) => {\n  conn.current.send({ index: logSizeToIndex(logSize) })\n}\n\nconst useAck = ({ connected, conn, logSize }) => {\n  useEffect(() => {\n    if (!conn.current || !connected) return;\n    ack({ conn, logSize })\n  }, [connected, conn.current, logSize]);\n}\n\nexport default useAck;\n","import { useEffect } from \"react\";\nimport { constructReducer } from \"../shared\";\n\nconst sync = ({ setState, setCache, roomId, game, events }) => {\n  const reducer = constructReducer({ game, roomId, events })\n  setState(({ state }) => {\n    const newState = reducer(state);\n    return { state: newState, cache: newState }\n  });\n}\n\nconst updateLogSize = ({ setLogSize, events }) => {\n  setLogSize(events[events.length - 1].index + 1);\n}\n\nconst useSync = ({ data, clearData, game, roomId, setState, setLogSize }) => {\n  useEffect(() => {\n    if (!data || !data.length) return;\n    const events = [...data]\n    clearData();\n    updateLogSize({ setLogSize, events });\n    sync({ setState, roomId, game, events })\n  }, [data, clearData, game, roomId, setLogSize, setState])\n}\n\nexport default useSync;\n","import { useEffect, useState } from \"react\";\nimport { constructMoves, constructReducer, isSecretMove } from \"../shared\";\nimport { logSizeToIndex } from \"./funcs\";\n\nexport const emit = ({ conn, logSize, move, args }) => {\n  conn.current.send({ index: logSizeToIndex(logSize), move, args })\n}\n\nexport const preempt = ({ setState, game, move, args, connectionId, roomId }) => {\n  const reducer = constructReducer({ game, roomId, events: [{ move, args, connectionId }] })\n  setState(({ state, cache }) => ({\n    cache: reducer(state),\n    state,\n  }));\n}\n\nexport const constructMovesHandler = ({ conn, connectionId, setMoves, setState, game, logSize, roomId }) => {\n  const handleMove = ({ move, args }) => {\n    if (!isSecretMove({ connectionId, roomId, game, move })) {\n      preempt({ setState, game, move, args, roomId, connectionId })\n    }\n    emit({ conn, move, args, logSize })\n  }\n  setMoves(() => constructMoves({ game, connectionId, roomId, handleMove }));\n}\n\nconst useMoves = ({ connected, conn, id, setState, roomId, game, logSize }) => {\n  const [moves, setMoves] = useState(null);\n  useEffect(() => {\n    if (!connected) return;\n    constructMovesHandler({ conn, connectionId: id, setMoves, setState, roomId, game, logSize })\n  }, [connected, conn.current, id, setMoves, setState, roomId, game, logSize])\n  return { moves };\n}\n\nexport default useMoves;\n","import { useEffect, useRef, useState, useReducer } from \"react\";\nimport usePeer from \"../usePeer\";\n\nexport const connect = ({ roomId, peer, conn }) => {\n  conn.current = peer.connect(roomId,  { serialization: \"json\" });\n}\n\nconst useConnection = ({ id, roomId }) => {\n  const conn = useRef();\n  const { open, peer } = usePeer(id);\n  const [data, setData] = useState([]);\n  const [connected, setConnected] = useState(false);\n  const [attempts, countAttempt] = useReducer(a => a + 1, 0);\n\n  useEffect(() => {\n    if (!open || connected) return;\n\n    connect({ conn, peer, roomId });\n\n    const retry = () => {\n      conn.current = null;\n      setConnected(false);\n      countAttempt();\n    }\n    const timeout = setTimeout(retry, 1000);\n\n    conn.current.on(\"open\", () => {\n      clearTimeout(timeout);\n      setConnected(true); \n    });\n\n    conn.current.on(\"data\", (data) => {\n      setData((stream) => [...stream, ...data]);\n    });\n\n    conn.current.on(\"close\", () => {\n      clearTimeout(timeout);\n      retry();\n    });\n\n    conn.current.on(\"error\", (error) => {\n      console.error(error)\n    });\n\n  }, [attempts, open, connected, roomId]);\n\n  const clearData = () => setData([]);\n  return { connected: open && connected, conn, data, clearData }\n}\n\nexport default useConnection;\n","import useAck from \"./useAck\";\nimport useSync from \"./useSync\";\nimport useMoves from \"./useMoves\";\nimport useConnection from \"./useConnection\";\nimport { useIdStore, useStateStore, useLogSizeStore } from \"./stores\";\n\nconst usePartyGuest = ({ roomId, game }) => {\n  const { id } = useIdStore(roomId);\n  const { cache, setState } = useStateStore(roomId);\n  const { logSize, setLogSize } = useLogSizeStore(roomId);\n  const { connected, conn, data, clearData } = useConnection({ id, roomId })\n  useAck({ connected, conn, logSize });\n  useSync({ data, clearData, game, roomId, setState, setLogSize });\n  const { moves } = useMoves({ connected, conn, id, setState, roomId, game, logSize });\n  return { connectionId: id, connected, state: cache, moves }\n}\n\nexport default usePartyGuest;\n","import usePersist from \"../usePersist\";\nimport { v4 as uuid } from \"uuid\";\n\nexport const useIdStore = (roomId) => {\n  const [id] = usePersist(\n    window.localStorage,\n    `id-${roomId}`,\n    uuid,\n  );\n  return { id };\n}\n\nexport const useStateStore = (roomId) => {\n  const [{ cache }, setState] = usePersist(\n    window.localStorage,\n    `guestState-${roomId}`,\n    { state: {}, cache: {} }\n  );\n  return { cache, setState };\n}\n\nexport const useLogSizeStore = (roomId) => {\n  const [logSize, setLogSize] = usePersist(\n    window.localStorage,\n    `logSize-${roomId}`,\n    0\n  );\n  return { logSize, setLogSize };\n}\n","export const NOUGHTS = 1;\nexport const CROSSES = 2;\n\nconst startGame = ({ state, connectionId, args }) => ({\n  crossesPlayer: args.crossesConnId,\n  noughtsPlayer: args.noughtsConnId,\n  board: Array(9).fill(null),\n});\n\nconst fillSquare = ({ state, connectionId, args }) => {\n  let player = null\n  if (connectionId === state.crossesPlayer) {\n    player = CROSSES;\n  } else if (connectionId === state.noughtsPlayer) {\n    player = NOUGHTS;\n  } else {\n    throw new Error('Connection is not a player');\n  }\n\n  if (state.board[args.position] !== null) {\n    throw new Error('Position filled');\n  }\n\n  const board = [...state.board];\n  board.splice(args.position, 1, player);\n\n  return ({\n    ...state,\n    board,\n  })\n}\n\nconst TicTacToe = {\n  guestMoves: {\n    fillSquare,\n  },\n  \n  hostMoves: {\n    startGame,\n  },\n}\n\nexport default TicTacToe;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { NOUGHTS, CROSSES } from \"@compendium/tic-tac-toe-game\";\nconst Tile = styled.div`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: cyan;\n  border: 2px solid yellow;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\nconst Board = styled.div`\n  width: 30em;\n  height: 30em;\n`;\n\nconst Host = ({\n  state,\n  roomId,\n  moves,\n  connections\n}) => {\n  useEffect(() => {\n    if (!state.board && connections.length >= 2) {\n      const [crossesConnId, noughtsConnId] = connections;\n      moves.startGame({\n        crossesConnId,\n        noughtsConnId\n      });\n    }\n  }, [connections]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, connections.length < 2 && /*#__PURE__*/React.createElement(Link, {\n    to: `/guest/${roomId}`\n  }, window.location.host, \"#/guest/\", roomId), /*#__PURE__*/React.createElement(Board, null, state.board && state.board.map((value, position) => /*#__PURE__*/React.createElement(Tile, {\n    key: position\n  }, value === NOUGHTS ? \"O\" : null, value === CROSSES ? \"X\" : null))));\n};\n\nexport default Host;","import React from \"react\";\nimport styled from \"styled-components\";\nimport { NOUGHTS, CROSSES } from \"@compendium/tic-tac-toe-game\";\nconst Button = styled.button`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\nconst Tile = styled.div`\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n`;\nconst Board = styled.div`\n  width: 30em;\n  height: 30em;\n`;\n\nconst TileOrButton = ({\n  value,\n  onClick\n}) => value === null ? /*#__PURE__*/React.createElement(Button, {\n  onClick: onClick\n}) : /*#__PURE__*/React.createElement(Tile, null, value === NOUGHTS ? \"O\" : null, value === CROSSES ? \"X\" : null);\n\nconst Guest = ({\n  connected,\n  state,\n  moves\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, connected ? null : /*#__PURE__*/React.createElement(\"p\", null, \"Disconnected..\"), /*#__PURE__*/React.createElement(Board, null, state.board && state.board.map((value, position) => /*#__PURE__*/React.createElement(TileOrButton, {\n  key: position,\n  value: value,\n  onClick: () => connected && moves.fillSquare({\n    position\n  })\n}))));\n\nexport default Guest;","import game from \"@compendium/tic-tac-toe-game\";\nimport Host from \"@compendium/tic-tac-toe-host\";\nimport Guest from \"@compendium/tic-tac-toe-guest\";\n\nconst name = \"Tic Tac Toe\";\n\nconst TicTacToe = { name, Host, Guest, game };\n\nexport default TicTacToe;\n","const joinAsAPlayer = ({ state, connectionId, args }) => {\n  if (state.players.list.length >= state.players.maxPlayers) {\n    throw new Error(\"The number of players has reached it's maximum\");\n  }\n  const player = { connectionId, name: args.name, emoji: args.emoji };\n  const playerList = [...state.players.list, player];\n  const players = { ...state.players, list: playerList };\n  return { ...state, players };\n}\n\nconst initPlayers = ({ state, args }) => {\n  const players = {\n    maxPlayers: args.maxPlayers,\n    minPlayers: args.minPlayers,\n    everyoneIsIn: false,\n    list: []\n  }\n  return { ...state, players }\n}\n\nconst everyoneIsIn = ({ state }) => {\n  if (state.players.list.length > state.players.maxPlayers) {\n    throw new Error(\"Too many players\");\n  }\n  if (state.players.list.length < state.players.minPlayers) {\n    throw new Error(\"Not enough players\");\n  }\n  return {\n    ...state,\n    players: {\n      ...state.players,\n      everyoneIsIn: true\n    }\n  }\n}\n\nconst game = {\n  guestMoves: {\n    joinAsAPlayer,\n  },\n  \n  hostMoves: {\n    initPlayers,\n    everyoneIsIn,\n  },\n}\n\nexport default game;\n","import playersGame from \"@compendium/players-game\";\n\nconst game = {\n  guestMoves: {\n    ...playersGame.guestMoves,\n  },\n  \n  hostMoves: {\n    ...playersGame.hostMoves,\n  },\n}\n\nexport default game;\n","export default __webpack_public_path__ + \"static/media/AH.1a5ea790.svg\";","export default __webpack_public_path__ + \"static/media/AC.0e3c2151.svg\";","export default __webpack_public_path__ + \"static/media/AD.5c4da062.svg\";","export default __webpack_public_path__ + \"static/media/AS.0beacefa.svg\";","export default __webpack_public_path__ + \"static/media/2H.cb701b97.svg\";","export default __webpack_public_path__ + \"static/media/2C.276c3f69.svg\";","export default __webpack_public_path__ + \"static/media/2D.bc21ec2a.svg\";","export default __webpack_public_path__ + \"static/media/2S.ec187ad2.svg\";","export default __webpack_public_path__ + \"static/media/3H.cba17cfa.svg\";","export default __webpack_public_path__ + \"static/media/3C.4defbcf5.svg\";","export default __webpack_public_path__ + \"static/media/3D.8d12a3fc.svg\";","export default __webpack_public_path__ + \"static/media/3S.ed80cdda.svg\";","export default __webpack_public_path__ + \"static/media/4H.8924ea52.svg\";","export default __webpack_public_path__ + \"static/media/4C.3ebe0e73.svg\";","export default __webpack_public_path__ + \"static/media/4D.433a1ecc.svg\";","export default __webpack_public_path__ + \"static/media/4S.7e474260.svg\";","export default __webpack_public_path__ + \"static/media/5H.04a38bb9.svg\";","export default __webpack_public_path__ + \"static/media/5C.809e552d.svg\";","export default __webpack_public_path__ + \"static/media/5D.03b1a4af.svg\";","export default __webpack_public_path__ + \"static/media/5S.f4e082a6.svg\";","export default __webpack_public_path__ + \"static/media/6H.5380d254.svg\";","export default __webpack_public_path__ + \"static/media/6C.1f69ca79.svg\";","export default __webpack_public_path__ + \"static/media/6D.8c9d26ce.svg\";","export default __webpack_public_path__ + \"static/media/6S.33eb8c1b.svg\";","export default __webpack_public_path__ + \"static/media/7H.156a2f08.svg\";","export default __webpack_public_path__ + \"static/media/7C.cb6a5b5c.svg\";","export default __webpack_public_path__ + \"static/media/7D.bc93fd45.svg\";","export default __webpack_public_path__ + \"static/media/7S.f91490c5.svg\";","export default __webpack_public_path__ + \"static/media/8H.878dbca5.svg\";","export default __webpack_public_path__ + \"static/media/8C.e91af699.svg\";","export default __webpack_public_path__ + \"static/media/8D.ca4420e9.svg\";","export default __webpack_public_path__ + \"static/media/8S.fd5cd6f8.svg\";","export default __webpack_public_path__ + \"static/media/9H.57bfd8e3.svg\";","export default __webpack_public_path__ + \"static/media/9C.c6a841cc.svg\";","export default __webpack_public_path__ + \"static/media/9D.3d612a15.svg\";","export default __webpack_public_path__ + \"static/media/9S.6c7e4615.svg\";","export default __webpack_public_path__ + \"static/media/10H.c8c8e4de.svg\";","export default __webpack_public_path__ + \"static/media/10C.0cc64a48.svg\";","export default __webpack_public_path__ + \"static/media/10D.956683a1.svg\";","export default __webpack_public_path__ + \"static/media/10S.99cb26ab.svg\";","export default __webpack_public_path__ + \"static/media/JH.86f58f4f.svg\";","export default __webpack_public_path__ + \"static/media/JC.b801c5a7.svg\";","export default __webpack_public_path__ + \"static/media/JD.a0e75607.svg\";","export default __webpack_public_path__ + \"static/media/JS.1a6f34e2.svg\";","export default __webpack_public_path__ + \"static/media/QH.f56614ef.svg\";","export default __webpack_public_path__ + \"static/media/QC.3eb5bae0.svg\";","export default __webpack_public_path__ + \"static/media/QD.c20eb8d2.svg\";","export default __webpack_public_path__ + \"static/media/QS.cc68ac97.svg\";","export default __webpack_public_path__ + \"static/media/KH.3d6b1be6.svg\";","export default __webpack_public_path__ + \"static/media/KC.ca193598.svg\";","export default __webpack_public_path__ + \"static/media/KD.32d1a9f8.svg\";","export default __webpack_public_path__ + \"static/media/KS.b54b6bba.svg\";","export default __webpack_public_path__ + \"static/media/JOKER.96be08d3.svg\";","const SUITS = ['H', 'D', 'S', 'C'];\nconst JOKER = 0,\n      ACE = 1,\n      JACK = 11,\n      QUEEN = 12,\n      KING = 13;\nconst VALUES = [ACE, 2, 3, 4, 5, 6, 7, 8, 9, 10, JACK, QUEEN, KING];\nexport { SUITS, VALUES, JOKER, ACE, JACK, QUEEN, KING };","import React from 'react';\nimport styled from \"styled-components\";\nconst Container = styled.div`\n  margin-bottom: -9em;\n  margin-right: -3em;\n\n  ${({\n  order\n}) => order && `order: ${order};`}\n`;\nconst UnSelectable = styled.div`\n  position: relative;\n  margin-top: 2em;\n`;\nconst Selectable = styled(UnSelectable)`\n  &:hover {\n    margin-top: 1em;\n    margin-bottom: 1em;\n    cursor: pointer;\n  }\n\n  ${({\n  isSelected\n}) => isSelected && `\n    margin-top: 0em;\n    margin-bottom: 2em;\n\n    &:hover {\n      margin-top: 0em;\n      margin-bottom: 2em;\n    }\n  `}\n`;\nconst Overlay = styled.div`\n  opacity: 0.4;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 0.5em;\n\n  ${({\n  isSelected,\n  selectColor\n}) => isSelected && selectColor && `\n    background-color: ${selectColor};\n  `}\n`;\nconst FaceImg = styled.img`\n  width: 9em;\n  display: block;\n`;\n\nconst SelectableFace = ({\n  isSelected,\n  selectColor,\n  faceImage,\n  altText,\n  onClick\n}) => /*#__PURE__*/React.createElement(Selectable, {\n  isSelected: isSelected\n}, /*#__PURE__*/React.createElement(FaceImg, {\n  src: faceImage,\n  alt: altText\n}), /*#__PURE__*/React.createElement(Overlay, {\n  isSelected: isSelected,\n  selectColor: selectColor,\n  onClick: onClick\n}));\n\nconst UnSelectableFace = ({\n  faceImage,\n  altText\n}) => /*#__PURE__*/React.createElement(UnSelectable, null, /*#__PURE__*/React.createElement(FaceImg, {\n  src: faceImage,\n  alt: altText\n}));\n\nconst Card = ({\n  order,\n  canBeSelected,\n  isSelected,\n  selectColor,\n  faceImage,\n  altText,\n  onClick\n}) => {\n  const Face = canBeSelected ? SelectableFace : UnSelectableFace;\n  return /*#__PURE__*/React.createElement(Container, {\n    order: order\n  }, /*#__PURE__*/React.createElement(Face, {\n    isSelected: isSelected,\n    selectColor: selectColor,\n    faceImage: faceImage,\n    altText: altText,\n    onClick: onClick\n  }));\n};\n\nexport default Card;","import React from \"react\";\nimport HA from './cards/AH.svg';\nimport CA from './cards/AC.svg';\nimport DA from './cards/AD.svg';\nimport SA from './cards/AS.svg';\nimport H2 from './cards/2H.svg';\nimport C2 from './cards/2C.svg';\nimport D2 from './cards/2D.svg';\nimport S2 from './cards/2S.svg';\nimport H3 from './cards/3H.svg';\nimport C3 from './cards/3C.svg';\nimport D3 from './cards/3D.svg';\nimport S3 from './cards/3S.svg';\nimport H4 from './cards/4H.svg';\nimport C4 from './cards/4C.svg';\nimport D4 from './cards/4D.svg';\nimport S4 from './cards/4S.svg';\nimport H5 from './cards/5H.svg';\nimport C5 from './cards/5C.svg';\nimport D5 from './cards/5D.svg';\nimport S5 from './cards/5S.svg';\nimport H6 from './cards/6H.svg';\nimport C6 from './cards/6C.svg';\nimport D6 from './cards/6D.svg';\nimport S6 from './cards/6S.svg';\nimport H7 from './cards/7H.svg';\nimport C7 from './cards/7C.svg';\nimport D7 from './cards/7D.svg';\nimport S7 from './cards/7S.svg';\nimport H8 from './cards/8H.svg';\nimport C8 from './cards/8C.svg';\nimport D8 from './cards/8D.svg';\nimport S8 from './cards/8S.svg';\nimport H9 from './cards/9H.svg';\nimport C9 from './cards/9C.svg';\nimport D9 from './cards/9D.svg';\nimport S9 from './cards/9S.svg';\nimport H10 from './cards/10H.svg';\nimport C10 from './cards/10C.svg';\nimport D10 from './cards/10D.svg';\nimport S10 from './cards/10S.svg';\nimport HJ from './cards/JH.svg';\nimport CJ from './cards/JC.svg';\nimport DJ from './cards/JD.svg';\nimport SJ from './cards/JS.svg';\nimport HQ from './cards/QH.svg';\nimport CQ from './cards/QC.svg';\nimport DQ from './cards/QD.svg';\nimport SQ from './cards/QS.svg';\nimport HK from './cards/KH.svg';\nimport CK from './cards/KC.svg';\nimport DK from './cards/KD.svg';\nimport SK from './cards/KS.svg';\nimport JKR from './cards/JOKER.svg';\nimport { JOKER, ACE, KING, QUEEN, JACK } from './model';\nimport Card from \"./Card\";\n\nconst getFaceImage = ({\n  suit,\n  value\n}) => {\n  if (value === JOKER) {\n    return JKR;\n  } else if (value === ACE && suit === 'H') {\n    return HA;\n  } else if (value === ACE && suit === 'D') {\n    return DA;\n  } else if (value === ACE && suit === 'S') {\n    return SA;\n  } else if (value === ACE && suit === 'C') {\n    return CA;\n  } else if (value === 2 && suit === 'H') {\n    return H2;\n  } else if (value === 2 && suit === 'D') {\n    return D2;\n  } else if (value === 2 && suit === 'S') {\n    return S2;\n  } else if (value === 2 && suit === 'C') {\n    return C2;\n  } else if (value === 3 && suit === 'H') {\n    return H3;\n  } else if (value === 3 && suit === 'D') {\n    return D3;\n  } else if (value === 3 && suit === 'S') {\n    return S3;\n  } else if (value === 3 && suit === 'C') {\n    return C3;\n  } else if (value === 4 && suit === 'H') {\n    return H4;\n  } else if (value === 4 && suit === 'D') {\n    return D4;\n  } else if (value === 4 && suit === 'S') {\n    return S4;\n  } else if (value === 4 && suit === 'C') {\n    return C4;\n  } else if (value === 5 && suit === 'H') {\n    return H5;\n  } else if (value === 5 && suit === 'D') {\n    return D5;\n  } else if (value === 5 && suit === 'S') {\n    return S5;\n  } else if (value === 5 && suit === 'C') {\n    return C5;\n  } else if (value === 6 && suit === 'H') {\n    return H6;\n  } else if (value === 6 && suit === 'D') {\n    return D6;\n  } else if (value === 6 && suit === 'S') {\n    return S6;\n  } else if (value === 6 && suit === 'C') {\n    return C6;\n  } else if (value === 7 && suit === 'H') {\n    return H7;\n  } else if (value === 7 && suit === 'D') {\n    return D7;\n  } else if (value === 7 && suit === 'S') {\n    return S7;\n  } else if (value === 7 && suit === 'C') {\n    return C7;\n  } else if (value === 8 && suit === 'H') {\n    return H8;\n  } else if (value === 8 && suit === 'D') {\n    return D8;\n  } else if (value === 8 && suit === 'S') {\n    return S8;\n  } else if (value === 8 && suit === 'C') {\n    return C8;\n  } else if (value === 9 && suit === 'H') {\n    return H9;\n  } else if (value === 9 && suit === 'D') {\n    return D9;\n  } else if (value === 9 && suit === 'S') {\n    return S9;\n  } else if (value === 9 && suit === 'C') {\n    return C9;\n  } else if (value === 10 && suit === 'H') {\n    return H10;\n  } else if (value === 10 && suit === 'D') {\n    return D10;\n  } else if (value === 10 && suit === 'S') {\n    return S10;\n  } else if (value === 10 && suit === 'C') {\n    return C10;\n  } else if (value === JACK && suit === 'H') {\n    return HJ;\n  } else if (value === JACK && suit === 'D') {\n    return DJ;\n  } else if (value === JACK && suit === 'S') {\n    return SJ;\n  } else if (value === JACK && suit === 'C') {\n    return CJ;\n  } else if (value === QUEEN && suit === 'H') {\n    return HQ;\n  } else if (value === QUEEN && suit === 'D') {\n    return DQ;\n  } else if (value === QUEEN && suit === 'S') {\n    return SQ;\n  } else if (value === QUEEN && suit === 'C') {\n    return CQ;\n  } else if (value === KING && suit === 'H') {\n    return HK;\n  } else if (value === KING && suit === 'D') {\n    return DK;\n  } else if (value === KING && suit === 'S') {\n    return SK;\n  } else if (value === KING && suit === 'C') {\n    return CK;\n  }\n};\n\nconst getAltText = ({\n  value,\n  suit\n}) => {\n  if (value === JOKER) {\n    return '🃏 Joker';\n  } else if (value === ACE && suit === 'H') {\n    return '🂱 Ace of Hearts';\n  } else if (value === ACE && suit === 'D') {\n    return '🃁 Ace of Diamonds';\n  } else if (value === ACE && suit === 'S') {\n    return '🂡 Ace of Spaces';\n  } else if (value === ACE && suit === 'C') {\n    return '🃑 Ace of Clubs';\n  } else if (value === 2 && suit === 'H') {\n    return '🂲 Two of Hearts';\n  } else if (value === 2 && suit === 'D') {\n    return '🃂 Two of Diamonds';\n  } else if (value === 2 && suit === 'S') {\n    return '🂢 Two of Spades';\n  } else if (value === 2 && suit === 'C') {\n    return '🃒 Two of Clubs';\n  } else if (value === 3 && suit === 'H') {\n    return '🂳 Three of Hearts';\n  } else if (value === 3 && suit === 'D') {\n    return '🃃 Three of Diamonds';\n  } else if (value === 3 && suit === 'S') {\n    return '🂣 Three of Spades';\n  } else if (value === 3 && suit === 'C') {\n    return '🃓 Three of Clubs';\n  } else if (value === 4 && suit === 'H') {\n    return '🂴 Four of Hearts';\n  } else if (value === 4 && suit === 'D') {\n    return '🃄 Four of Diamonds';\n  } else if (value === 4 && suit === 'S') {\n    return '🂤 Four of Spades';\n  } else if (value === 4 && suit === 'C') {\n    return '🃔 Four of Clubs';\n  } else if (value === 5 && suit === 'H') {\n    return '🂵 Five of Hearts';\n  } else if (value === 5 && suit === 'D') {\n    return '🃅 Five of Diamonds';\n  } else if (value === 5 && suit === 'S') {\n    return '🂥 Five of Spades';\n  } else if (value === 5 && suit === 'C') {\n    return '🃕 Five of Clubs';\n  } else if (value === 6 && suit === 'H') {\n    return '🂶 Six of Hearts';\n  } else if (value === 6 && suit === 'D') {\n    return '🃆 Six of Diamomnds';\n  } else if (value === 6 && suit === 'S') {\n    return '🂦 Six of Spades';\n  } else if (value === 6 && suit === 'C') {\n    return '🃖 Six of Clubs';\n  } else if (value === 7 && suit === 'H') {\n    return '🂷 Seven of Hearts';\n  } else if (value === 7 && suit === 'D') {\n    return '🃇 Seven of Diamonds';\n  } else if (value === 7 && suit === 'S') {\n    return '🂧 Seven of Spades';\n  } else if (value === 7 && suit === 'C') {\n    return '🃗 Seven of Clubs';\n  } else if (value === 8 && suit === 'H') {\n    return '🂸 Eight of Hearts';\n  } else if (value === 8 && suit === 'D') {\n    return '🃈 Eight of Diamonds';\n  } else if (value === 8 && suit === 'S') {\n    return '🂨 Eight of Spades';\n  } else if (value === 8 && suit === 'C') {\n    return '🃘 Eight of Clubs';\n  } else if (value === 9 && suit === 'H') {\n    return '🂹 Nine of Hearts';\n  } else if (value === 9 && suit === 'D') {\n    return '🃉 Nine of Diamonds';\n  } else if (value === 9 && suit === 'S') {\n    return '🂩 Nine of Spades';\n  } else if (value === 9 && suit === 'C') {\n    return '🃙 Nine of Clubs';\n  } else if (value === 10 && suit === 'H') {\n    return '🂺 Ten of Hearts';\n  } else if (value === 10 && suit === 'D') {\n    return '🃊 Ten of Diamonds';\n  } else if (value === 10 && suit === 'S') {\n    return '🂪 Ten of Spades';\n  } else if (value === 10 && suit === 'C') {\n    return '🃚 Ten of Clubs';\n  } else if (value === JACK && suit === 'H') {\n    return '🂻 Jack of Hearts';\n  } else if (value === JACK && suit === 'D') {\n    return '🃋 Jack of Diamonds';\n  } else if (value === JACK && suit === 'S') {\n    return '🂫 Jack of Spades';\n  } else if (value === JACK && suit === 'C') {\n    return '🃛 Jack of Clubs';\n  } else if (value === QUEEN && suit === 'H') {\n    return '🂽 Queen of Hearts';\n  } else if (value === QUEEN && suit === 'D') {\n    return '🃍 Queen of Diamonds';\n  } else if (value === QUEEN && suit === 'S') {\n    return '🂭 Queen of Spades';\n  } else if (value === QUEEN && suit === 'C') {\n    return '🃝 Queen of Clubs';\n  } else if (value === KING && suit === 'H') {\n    return '🂾 King of Hearts';\n  } else if (value === KING && suit === 'D') {\n    return '🃞 King of Diamonds';\n  } else if (value === KING && suit === 'S') {\n    return '🂮 King of Spades';\n  } else if (value === KING && suit === 'C') {\n    return '🃞 King of Clubs';\n  }\n};\n\nconst CardFront = ({\n  value,\n  suit,\n  canBeSelected = false,\n  isSelected = false,\n  selectColor = null\n}) => {\n  console.log(\"select\", selectColor);\n  const faceImage = getFaceImage({\n    value,\n    suit\n  });\n  const altText = getAltText({\n    value,\n    suit\n  });\n  return /*#__PURE__*/React.createElement(Card, {\n    faceImage: faceImage,\n    altText: altText,\n    isSelected: isSelected,\n    canBeSelected: canBeSelected,\n    selectColor: selectColor\n  });\n};\n\nexport default CardFront;","export default __webpack_public_path__ + \"static/media/RED_BACK.eea8c6b0.svg\";","export default __webpack_public_path__ + \"static/media/BLUE_BACK.d7aabd90.svg\";","import React from \"react\";\nimport RED_BACK from './cards/RED_BACK.svg';\nimport BLUE_BACK from './cards/BLUE_BACK.svg';\nimport Card from \"./Card\";\n\nconst getFaceImage = ({\n  colour\n}) => {\n  if (colour === 'R') {\n    return RED_BACK;\n  } else if (colour === 'B') {\n    return BLUE_BACK;\n  }\n};\n\nconst CardBack = ({\n  colour,\n  isSelected = false,\n  canBeSelected = false,\n  selectColor = null\n}) => {\n  const faceImage = getFaceImage({\n    colour\n  });\n  return /*#__PURE__*/React.createElement(Card, {\n    faceImage: faceImage,\n    altText: \"\\uD83C\\uDCA0 Card Back\",\n    isSelected: isSelected,\n    canBeSelected: canBeSelected,\n    selectColor: selectColor\n  });\n};\n\nexport default CardBack;","export default __webpack_public_path__ + \"static/media/felt.5b148bae.png\";","import styled from \"styled-components\";\nimport felt from \"./felt.png\";\nconst FeltTable = styled.div`\n  background-color: rgb(10, 80, 20);\n  background-image: url(${felt});\n  height: 100%;\n  padding: 5%;\n`;\nexport default FeltTable;","import styled from \"styled-components\";\nconst Hand = styled.section`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  max-height: 50%;\n\n  padding-right: 3em;\n  padding-bottom: 9em;\n`;\nexport default Hand;","import PlayingCardFront from \"./CardFront\";\nimport PlayingCardBack from \"./CardBack\";\nimport FeltTable from \"./FeltTable\";\nimport Hand from \"./Hand\";\nexport default PlayingCardFront;\nexport { PlayingCardFront, PlayingCardBack, Hand, FeltTable };\nexport * from \"./model\";","import TicTacToe from \"@compendium/tic-tac-toe\";\nimport Whist from \"@compendium/whist\";\n\nconst compendium = [\n  TicTacToe,\n  Whist,\n];\n\nexport default compendium;\n","import game from \"@compendium/whist-game\";\nimport { Host, Guest } from \"@compendium/whist-client\";\n\nconst name = \"Whist\";\n\nconst Whist = { name, Host, Guest, game };\n\nexport default Whist;\n","import React from \"react\";\nimport { withHostPlayers } from \"@compendium/players-client\";\nimport PlayingCard, { PlayingCardBack, FeltTable, Hand } from \"@compendium/playing-card\";\nconst Host = withHostPlayers({\n  maxPlayers: 4,\n  minPlayers: 4\n}, ({\n  state,\n  roomId,\n  moves,\n  connections\n}) => {\n  return /*#__PURE__*/React.createElement(FeltTable, null, /*#__PURE__*/React.createElement(PlayingCardBack, {\n    colour: \"R\"\n  }), /*#__PURE__*/React.createElement(Hand, null, state.discard && state.discard.map(({\n    suit,\n    value\n  }) => /*#__PURE__*/React.createElement(PlayingCard, {\n    suit: suit,\n    value: value\n  }))));\n});\nexport default Host;","import React from \"react\";\nimport { withGuestPlayers } from \"@compendium/players-client\";\nimport PlayingCard, { FeltTable, Hand } from \"@compendium/playing-card\";\nconst Guest = withGuestPlayers(({\n  state,\n  roomId,\n  moves,\n  connectionId\n}) => {\n  return /*#__PURE__*/React.createElement(FeltTable, null, /*#__PURE__*/React.createElement(Hand, null, state.hand && state.hand.map(({\n    suit,\n    value\n  }) => /*#__PURE__*/React.createElement(PlayingCard, {\n    suit: suit,\n    value: value\n  }))));\n});\nexport default Guest;","import randomWords from \"random-words\";\nimport isEqual from \"lodash/isEqual\";\n\nconst permutations = [\n  [0, 1, 2],\n  [0, 2, 1],\n  [1, 0, 2],\n  [2, 0, 1],\n  [2, 1, 0],\n  [1, 2, 0],\n];\n\nexport const createRoomId = (compendiumIndex) => {\n  const order = permutations[compendiumIndex]\n  const words = randomWords({ exactly: 3 }).sort();\n  const orderedWords = order.map(o => words[o])\n  const roomId = orderedWords.join('-')\n  return roomId\n}\n\nexport const decodeCompendiumIndex = (roomId) => {\n  const words = roomId.split('-')\n  const sortedWords = [...words].sort()\n  const permutation = words.map(word => sortedWords.findIndex((w) => word === w))\n  const compendiumIndex = permutations.findIndex((permu) => isEqual(permu, permutation))\n  return compendiumIndex;\n}\n","import { useState, useEffect } from \"react\";\nimport compendium from \"./compendium\";\nimport { decodeCompendiumIndex } from \"./rooms\";\n\nconst getGame = (roomId) => {\n  const compendiumIndex = decodeCompendiumIndex(roomId)\n  const game = compendium[compendiumIndex];\n  return game;\n}\n\nconst useGame = (roomId) => {\n  const [game, setGame] = useState({ name: null, Host: null, Guest: null, game: null });\n  useEffect(() => setGame(getGame(roomId)), [])\n  return game;\n}\n\nexport default useGame;\n","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { createRoomId } from \"./rooms\";\nimport compendium from \"./compendium\";\nimport { Heading, Flex, Box, Button } from \"rebass/styled-components\";\nimport { Select, Input, Label } from \"@rebass/forms/styled-components\";\n\n\nconst NewGame = ({ onNewGame }) => {\n  const [value, set] = useState(0);\n\n  const onChange = (e) => {\n    set(e.target.value);\n    e.preventDefault();\n  }\n\n  const onSubmit = () => onNewGame(value);\n\n  return (\n    <Box my={4} width={['100%', '80%', '35em']}>\n      <Select m={1} onChange={onChange} value={value}>\n        {compendium.map(({ name }, index) =>\n          <option value={index} key={index}>{name}</option>)}\n      </Select>\n      <Button m={1} onClick={onSubmit} onKeyPress={onSubmit}>Host New Game</Button>\n    </Box>\n  )\n}\n\nconst JoinGame = ({ onJoinGame }) => {\n  const [value, set] = useState();\n\n  const onChange = (e) => {\n    set(e.target.value);\n    e.preventDefault();\n  }\n\n  const onSubmit = () => onJoinGame(value);\n\n  return (\n    <Box my={4} width={['100%', '80%', '35em']}>\n      <Box>\n        <Label>\n          Room Password\n        </Label>\n        <Input onChange={onChange} value={value}/>\n      </Box>\n      <Button m={1} onClick={onSubmit} onKeyPress={onSubmit}>Join Game</Button>\n    </Box>\n  );\n}\n\n\nconst Home = () => {\n  const { push } = useHistory();\n\n  const onNewGame = (compendiumIndex) => {\n    const roomId = createRoomId(compendiumIndex);\n    push(`/host/${roomId}`)\n  }\n\n  const onJoinGame = (roomId) => {\n    push(`/guest/${roomId}`)\n  }\n\n  return (\n    <Flex mx={['2em', '15%', '20%']} flexDirection=\"column\">\n      <Heading mt={4} fontSize={[ 5, 6 ]} color='primary'>\n        Compendium Games\n      </Heading>\n      <NewGame onNewGame={onNewGame} />\n      <JoinGame onJoinGame={onJoinGame} />\n    </Flex>\n  )\n}\n\n\nexport default Home;\n","import base from '@rebass/preset'\nexport default base;\n","import { ThemeProvider } from \"styled-components\";\nimport { usePartyHost, usePartyGuest } from \"@compendium/peer-party\";\nimport { HashRouter, Switch, Route, useParams } from \"react-router-dom\";\nimport useGame from \"./useGame\";\nimport Home from \"./Home\";\nimport baseTheme from \"./theme\"\n\nconst HostRoute = () => {\n  const { roomId } = useParams();\n  const { theme, Host, game } = useGame(roomId);\n  const { state, moves, connections } = usePartyHost({ roomId, game });\n  return (\n    <ThemeProvider theme={theme || baseTheme}>\n      {Host && <Host roomId={roomId} state={state} moves={moves} connections={connections} />}\n    </ThemeProvider>\n  )\n}\n\nconst GuestRoute = () => {\n  const { roomId } = useParams();\n  const { theme,  Guest, game } = useGame(roomId);\n  const { connectionId, connected, state, moves } = usePartyGuest({ roomId, game });\n  return (\n    <ThemeProvider theme={theme || baseTheme}>\n      {Guest && <Guest connectionId={connectionId} roomId={roomId} connected={connected} state={state} moves={moves}/>}\n    </ThemeProvider>\n  )\n}\n\nconst Router = () =>\n  <HashRouter>\n    <Switch>\n      <Route path=\"/host/:roomId\">\n        <HostRoute/>\n      </Route>\n      <Route path=\"/guest/:roomId\">\n        <GuestRoute/>\n      </Route>\n      <Route exact path=\"/\">\n        <ThemeProvider theme={baseTheme}>\n          <Home/>\n        </ThemeProvider>\n      </Route>\n    </Switch>\n  </HashRouter>\n\nexport default Router;\n","import Router from \"./Router\";\n\nconst App = () =>\n  <Router/>\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Host\", {\n  enumerable: true,\n  get: function get() {\n    return _Host[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"Guest\", {\n  enumerable: true,\n  get: function get() {\n    return _Guest[\"default\"];\n  }\n});\nexports.withHostPlayers = exports.withGuestPlayers = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Host = _interopRequireDefault(require(\"./Host\"));\n\nvar _Guest = _interopRequireDefault(require(\"./Guest\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar withGuestPlayers = function withGuestPlayers(Component) {\n  return function (_ref) {\n    var children = _ref.children,\n        props = _objectWithoutProperties(_ref, [\"children\"]);\n\n    return /*#__PURE__*/_react[\"default\"].createElement(_Guest[\"default\"], props, /*#__PURE__*/_react[\"default\"].createElement(Component, props, children));\n  };\n};\n\nexports.withGuestPlayers = withGuestPlayers;\n\nvar withHostPlayers = function withHostPlayers(options, Component) {\n  return function (_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutProperties(_ref2, [\"children\"]);\n\n    return /*#__PURE__*/_react[\"default\"].createElement(_Host[\"default\"], _extends({}, options, props), /*#__PURE__*/_react[\"default\"].createElement(Component, props, children));\n  };\n};\n\nexports.withHostPlayers = withHostPlayers;","import React, { memo } from 'react';\nimport twemoji from 'twemoji';\nconst Emoji = /*#__PURE__*/memo(({\n  emoji\n}) => /*#__PURE__*/React.createElement(\"span\", {\n  dangerouslySetInnerHTML: {\n    __html: twemoji.parse(emoji, {\n      folder: 'svg',\n      ext: '.svg'\n    })\n  }\n}));\nexport default Emoji;","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Picker } from 'emoji-mart';\nimport 'emoji-mart/css/emoji-mart.css';\nconst Background = styled.div`\n  background-color: rgba(0, 0, 0, 0.8);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nconst Wrapper = styled.div`\n  display: inline-block;\n`;\n\nconst EmojiPicker = ({\n  onSelectEmoji,\n  onHide\n}) => {\n  const onSelect = emoji => {\n    onSelectEmoji(emoji.native);\n  };\n\n  return /*#__PURE__*/React.createElement(Background, {\n    tabIndex: true,\n    onKeyPress: onHide,\n    onClick: onHide\n  }, /*#__PURE__*/React.createElement(Wrapper, {\n    onClick: e => e.stopPropagation()\n  }, /*#__PURE__*/React.createElement(Picker, {\n    onSelect: onSelect,\n    set: \"twitter\"\n  })));\n};\n\nexport default EmojiPicker;","import Emoji from \"./Emoji\";\nimport EmojiPicker from \"./EmojiPicker\";\nexport default Emoji;\nexport { EmojiPicker };","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 96;"],"sourceRoot":""}