{"version":3,"sources":["components/how-to-join/HowToJoin.js","components/how-to-join/index.js","../../.yarn/cache/peerjs-npm-1.3.2-8966839def-8766e61cf9.zip/node_modules/peerjs/dist sync","../../src/usePersist.ts","../../src/random.ts","../../src/secret.ts","../../src/host/funcs.ts","../../src/host/useGameState.ts","../../src/host/stores.ts","../../src/usePeer.ts","../../src/host/useConnections.ts","../../src/shared.ts","../../src/host/usePartyHost.ts","../../src/host/useRandom.ts","../../src/host/useMoves.ts","../../src/host/useInputBuffer.ts","../../src/host/useSendSyncs.ts","../../src/guest/funcs.ts","../../src/guest/useSync.ts","../../src/guest/useMoves.ts","../../src/guest/usePartyGuest.ts","../../src/guest/stores.ts","../../src/guest/useConnection.ts","../../src/guest/useAck.ts","games/tic-tac-toe/client/index.js","games/tic-tac-toe/index.js","games/tic-tac-toe/tic-tac-toe.jpg","components/players/game/index.js","components/players/client/Host.js","components/players/client/Guest.js","components/players/index.js","components/players/client/index.js","games/whist/game/index.js","games/whist/client/index.js","games/whist/index.js","games/whist/whist.jpg","games/hot-potato/game/index.js","games/hot-potato/client/index.js","games/hot-potato/index.js","games/hot-potato/hot-potato.jpg","games/chess/game/index.js","games/chess/client/index.js","games/chess/chess.jpg","compendium.js","games/chess/index.js","rooms.js","useGame.js","components/input/Input.js","components/input/index.js","components/join-form/index.js","components/join-form/JoinForm.js","components/dropdown/Dropdown.js","components/dropdown/index.js","components/host-form/index.js","components/host-form/HostForm.js","components/navbar/NavBar.js","components/navbar/index.js","components/typed-banner/TypedBanner.js","components/typed-banner/index.js","components/cta-card/CallToActionCard.js","components/cta-card/index.js","Home.js","theme.js","Router.js","App.js","reportWebVitals.js","index.js","components/paragraph/Paragraph.js","components/paragraph/index.js","components/emoji/Emoji.js","components/emoji/EmojiPicker.js","components/emoji/index.js","components/heading/Heading.js","components/heading/index.js","games/tic-tac-toe/game/index.js","components/playing-card/client/cards/AH.svg","components/playing-card/client/cards/AC.svg","components/playing-card/client/cards/AD.svg","components/playing-card/client/cards/AS.svg","components/playing-card/client/cards/2H.svg","components/playing-card/client/cards/2C.svg","components/playing-card/client/cards/2D.svg","components/playing-card/client/cards/2S.svg","components/playing-card/client/cards/3H.svg","components/playing-card/client/cards/3C.svg","components/playing-card/client/cards/3D.svg","components/playing-card/client/cards/3S.svg","components/playing-card/client/cards/4H.svg","components/playing-card/client/cards/4C.svg","components/playing-card/client/cards/4D.svg","components/playing-card/client/cards/4S.svg","components/playing-card/client/cards/5H.svg","components/playing-card/client/cards/5C.svg","components/playing-card/client/cards/5D.svg","components/playing-card/client/cards/5S.svg","components/playing-card/client/cards/6H.svg","components/playing-card/client/cards/6C.svg","components/playing-card/client/cards/6D.svg","components/playing-card/client/cards/6S.svg","components/playing-card/client/cards/7H.svg","components/playing-card/client/cards/7C.svg","components/playing-card/client/cards/7D.svg","components/playing-card/client/cards/7S.svg","components/playing-card/client/cards/8H.svg","components/playing-card/client/cards/8C.svg","components/playing-card/client/cards/8D.svg","components/playing-card/client/cards/8S.svg","components/playing-card/client/cards/9H.svg","components/playing-card/client/cards/9C.svg","components/playing-card/client/cards/9D.svg","components/playing-card/client/cards/9S.svg","components/playing-card/client/cards/10H.svg","components/playing-card/client/cards/10C.svg","components/playing-card/client/cards/10D.svg","components/playing-card/client/cards/10S.svg","components/playing-card/client/cards/JH.svg","components/playing-card/client/cards/JC.svg","components/playing-card/client/cards/JD.svg","components/playing-card/client/cards/JS.svg","components/playing-card/client/cards/QH.svg","components/playing-card/client/cards/QC.svg","components/playing-card/client/cards/QD.svg","components/playing-card/client/cards/QS.svg","components/playing-card/client/cards/KH.svg","components/playing-card/client/cards/KC.svg","components/playing-card/client/cards/KD.svg","components/playing-card/client/cards/KS.svg","components/playing-card/client/cards/JOKER.svg","components/playing-card/game/model.js","components/playing-card/game/constructDeckOfCards.js","components/playing-card/client/Card.js","components/playing-card/client/CardFront.js","components/playing-card/client/cards/RED_BACK.svg","components/playing-card/client/cards/BLUE_BACK.svg","components/playing-card/client/CardBack.js","components/playing-card/client/felt.png","components/playing-card/client/FeltTable.js","components/playing-card/client/Hand.js","components/playing-card/index.js"],"names":["roomCodeToUrl","roomCode","window","location","host","roomCodeToHref","protocol","TextRoomCode","py","ScanRoomCode","m","value","LinkRoomCode","my","href","FullWidthColumn","children","flexDirection","justifyContent","alignItems","width","HalfWidthColumn","HowToJoin","flexWrap","webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","usePersist","useState","item","store","JSON","defaultValue","state","setState","useEffect","key","withRandom","moveFn","isRandomMove","withSecret","isSecretMove","applyActions","actions","contextId","controller","seed","initialState","reducer","action","event","index","isRandom","isSecret","simpleMoveArgs","hostId","callerId","args","randomMixin","random","seedrandom","secretMixin","revealSecret","newState","diff","accumulator","eventLog","error","console","useInputCallback","params","useCallback","move","actionUsesRandomMove","result","connectionId","useGameState","roomId","game","connectionIds","eventLogs","logEvent","states","setStates","useStatesStore","useMemo","fn","newConnection","useNewConnectionEffect","input","destructPeer","peer","setPeer","opts","secure","usePeer","open","setOpen","useReducer","a","attempts","countAttempt","retry","timeout","setTimeout","clearTimeout","onConnectionClosed","useConnections","connections","setConnections","connectionLogSizeMap","useRef","addConnectionId","onGuestEvent","setOnGuestEvent","conn","appendConnection","isInteger","size","updateLogSizeMap","isString","validMoves","validateEvent","Object","conns","c","removeConnection","constructMoves","handleMove","Proxy","get","has","Symbol","Reflect","usePartyHost","secret","useRandom","setEventLogs","logs","useEventLogStore","onEvent","setOnHostEvent","moves","useMoves","inputBuffer","setInputBuffer","pushInput","inputItem","head","tail","useInputBuffer","connection","numSent","events","i","useSendSyncs","logSizeToIndex","logSize","constructReducer","patch","o","moveArgs","useSync","data","clearData","setLogSize","updateLogSize","cache","sync","constructMovesHandler","setMoves","preempt","emit","usePartyGuest","useIdStore","useStateStore","useLogSizeStore","setData","connected","setConnected","serialization","connect","useConnection","ack","useAck","withSuspense","Component","props","fallback","Host","lazy","Guest","TicTacToe","name","description","image","alt","src","initPlayers","players","maxPlayers","minPlayers","everyoneIsIn","list","length","joinAsAPlayer","player","emoji","playerList","PlayerList","flexGrow","map","px","height","mx","canStartGame","checkIfCanStartGame","onClick","onKeyPress","JoinScreen","onJoin","setName","setEmoji","pickerIsShown","setPickerIsShown","showPicker","hidePicker","join","onHide","onSelectEmoji","fontSize","fontWeight","color","htmlFor","onChange","target","variant","Spectator","Waiting","as","isPlayer","findIndex","findConnectionIsPlayer","gameIsFull","checkIfGameIsFull","withPlayers","options","OriginalHost","OriginalGuest","originalGame","rest","NewGuest","NewHost","withHostPlayers","newGame","contextIsHosts","startGame","discard","deck","constructDeckOfCards","hand","deal","shuffledDeck","Math","array","lastIndex","rand","shuffle","s","playerIndex","filter","_","Whist","passPotato","hotPotato","numPlayers","floor","setBackgroundColour","backgroundColour","throwPotato","stopMusic","hotPotatoPlayer","find","loser","HotPotato","theme","presetTheme","chessMove","chess","Chess","board","fen","compendium","thumbnail","permutations","getGame","compendiumIndex","words","split","sortedWords","sort","permutation","word","w","permu","isEqual","decodeCompendiumIndex","useGame","setGame","LabelledInput","Input","label","placeholder","uniqueId","fontFamily","JoinForm","onJoinGame","set","onSubmit","minWidth","preventDefault","Dropdown","option","HostForm","onNewGame","NavHeading","NavLink","prepareHandler","handler","MenuItem","Nav","p","backgroundColor","NavMenu","hidden","NavBar","leftButtonLabel","leftButtonHandler","title","onMenuToggle","menuIsHidden","menuItems","toPairs","constructor","String","ReactTyped","TypedBanner","typedSentences","stopped","sx","userSelect","strings","typeSpeed","backSpeed","backDelay","loop","smartBackspace","leftWidthVariants","primary","secondary","rightWidthVariants","CallToActionCard","imageSrc","imageAlt","headingText","bodyText","onAction","buttonLabel","leftWidth","rightWidth","display","pt","mt","Home","push","useHistory","hideMenu","toggleMenu","order","randomWords","exactly","createRoomId","GitHub","Documentation","Storybook","merge","base","fonts","heading","body","HostRoute","useParams","baseTheme","GuestRoute","Router","path","exact","NormaliseStyles","createGlobalStyle","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","Paragraph","Emoji","memo","dangerouslySetInnerHTML","__html","twemoji","parse","folder","ext","Background","styled","div","Wrapper","EmojiPicker","tabIndex","stopPropagation","onSelect","native","fontSizeVariants","asVariants","Header","Heading","NOUGHTS","CROSSES","fillSquare","crossesPlayer","noughtsPlayer","position","splice","crossesConnId","noughtsConnId","Array","fill","SUITS","JACK","QUEEN","KING","VALUES","jokers","cards","suit","Container","UnSelectable","Selectable","isSelected","Overlay","selectColor","FaceImg","img","SelectableFace","faceImage","altText","UnSelectableFace","Card","canBeSelected","Face","CardFront","log","JKR","HA","DA","SA","CA","H2","D2","S2","C2","H3","D3","S3","C3","H4","D4","S4","C4","H5","D5","S5","C5","H6","D6","S6","C6","H7","D7","S7","C7","H8","D8","S8","C8","H9","D9","S9","C9","H10","D10","S10","C10","HJ","DJ","SJ","CJ","HQ","DQ","SQ","CQ","HK","DK","SK","CK","getFaceImage","getAltText","CardBack","colour","RED_BACK","BLUE_BACK","FeltTable","felt","Hand","section","PlayingCardFront"],"mappings":"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Y,IAAVlc,GAAwB,MAATkc,EACjB,4BACY,IAAVlc,GAAwB,MAATkc,EACjB,+BACY,IAAVlc,GAAwB,MAATkc,EACjB,iCACY,IAAVlc,GAAwB,MAATkc,EACjB,+BACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,gCACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,6BACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,gCACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,6BACY,IAAVlc,GAAwB,MAATkc,EACjB,6BACY,IAAVlc,GAAwB,MAATkc,EACjB,gCACY,IAAVlc,GAAwB,MAATkc,EACjB,6BACY,IAAVlc,GAAwB,MAATkc,EACjB,4BACY,IAAVlc,GAAwB,MAATkc,EACjB,+BACY,IAAVlc,GAAwB,MAATkc,EACjB,iCACY,IAAVlc,GAAwB,MAATkc,EACjB,+BACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,+BACY,IAAVlc,GAAwB,MAATkc,EACjB,iCACY,IAAVlc,GAAwB,MAATkc,EACjB,+BACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,gCACY,IAAVlc,GAAwB,MAATkc,EACjB,8BACY,IAAVlc,GAAwB,MAATkc,EACjB,6BACY,KAAVlc,GAAyB,MAATkc,EAClB,6BACY,KAAVlc,GAAyB,MAATkc,EAClB,+BACY,KAAVlc,GAAyB,MAATkc,EAClB,6BACY,KAAVlc,GAAyB,MAATkc,EAClB,4BACElc,IAAU4b,IAAiB,MAATM,EACpB,8BACElc,IAAU4b,IAAiB,MAATM,EACpB,gCACElc,IAAU4b,IAAiB,MAATM,EACpB,8BACElc,IAAU4b,IAAiB,MAATM,EACpB,6BACElc,IAAU6b,IAAkB,MAATK,EACrB,+BACElc,IAAU6b,IAAkB,MAATK,EACrB,iCACElc,IAAU6b,IAAkB,MAATK,EACrB,+BACElc,IAAU6b,IAAkB,MAATK,EACrB,8BACElc,IAAU8b,IAAiB,MAATI,EACpB,8BACElc,IAAU8b,IAAiB,MAATI,EACpB,gCACElc,IAAU8b,IAAiB,MAATI,EACpB,8BACElc,IAAU8b,IAAiB,MAATI,EACpB,kCADF,EAQSwE,CAAW,CAAE1gB,QAAOkc,SACpC,OACE,eAAC,GAAD,CAAMU,UAAWA,EAAWC,QAASA,GAASP,WAAYA,EAAYU,cAAeA,EAAeR,YAAaA,KC1RtG,OAA0B,qCCA1B,OAA0B,sCCoB1BmE,GAPE,SAAC,GAA+E,IAA7EC,EAA4E,EAA5EA,OAA4E,IAApEtE,kBAAoE,aAAhDU,qBAAgD,aAAzBR,mBAAyB,MAAX,KAAW,EACxFI,EATa,SAAC,GAAgB,IAAdgE,EAAa,EAAbA,OACtB,MAAe,MAAXA,EACKC,GACa,MAAXD,EACFE,QADF,EAMWL,CAAa,CAAEG,WACjC,OACE,eAAC,GAAD,CAAMhE,UAAWA,EAAWC,QAAQ,yBAAeP,WAAYA,EAAYU,cAAeA,EAAeR,YAAaA,KChB3G,OAA0B,iCCU1BuE,GAPG3G,WAAOC,IAAV,kIAEW2G,ICOXC,GAVF7G,WAAO8G,QAAV,0KCCKC,S","file":"static/js/main.86dd608c.chunk.js","sourcesContent":["import Heading from \"components/heading\";\nimport Paragraph from \"components/paragraph\";\nimport { Flex, Box, Link } from \"rebass/styled-components\";\nimport QRCode from \"qrcode.react\";\n\nconst roomCodeToUrl = (roomCode) => (\n  `${window.location.host}/#/guest/${roomCode}`\n);\n\nconst roomCodeToHref = (roomCode) => (\n  `${window.location.protocol}//${roomCodeToUrl(roomCode)}`\n);\n\nconst TextRoomCode = ({ roomCode }) => (\n  <>\n    <Heading py={3}>{roomCode}</Heading>\n    <Paragraph>Enter this room code</Paragraph>\n  </>\n)\n\nconst ScanRoomCode = ({ roomCode }) => (\n  <>\n    <Box m={1}>\n      <QRCode value={roomCodeToHref(roomCode)}/>\n    </Box>\n    <Paragraph>Scan this QR code</Paragraph>\n  </>\n)\n\nconst LinkRoomCode = ({ roomCode }) => (\n  <>\n    <Paragraph my={2}>\n      <Link href={roomCodeToHref(roomCode)}>{roomCodeToUrl(roomCode)}</Link>\n    </Paragraph>\n    <Paragraph>\n      Follow this link\n    </Paragraph>\n  </>\n);\n\nconst FullWidthColumn = ({ children }) => (\n  <Flex my={3} flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" width={1}>\n    {children}\n  </Flex>\n);\n\nconst HalfWidthColumn = ({ children }) => (\n  <Flex py={2} flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" width={[1, 1/2]}>\n    {children}\n  </Flex>\n);\n\nfunction HowToJoin({ roomCode, ...props }) {\n  return (\n    <Flex flexWrap=\"wrap\">\n      <HalfWidthColumn>\n        <TextRoomCode roomCode={roomCode}/>\n      </HalfWidthColumn>\n      <HalfWidthColumn>\n        <ScanRoomCode roomCode={roomCode}/>\n      </HalfWidthColumn>\n      <FullWidthColumn>\n        <LinkRoomCode roomCode={roomCode}/>\n      </FullWidthColumn>\n    </Flex>\n  );\n}\n\nexport default HowToJoin;","import HowToJoin from \"./HowToJoin\";\nexport default HowToJoin;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 169;","import { useState, useEffect, Dispatch, SetStateAction } from 'react'\n\nfunction usePersist<T>(\n  store: Storage,\n  key: string,\n  defaultValue: T | (() => T)\n): [T, Dispatch<SetStateAction<T>>] {\n  const [state, setState] = useState<T>(() => {\n    const item = store.getItem(key)\n    if (item) {\n      return JSON.parse(item ?? '')\n    } else {\n      return defaultValue instanceof Function ? defaultValue() : defaultValue\n    }\n  })\n\n  useEffect(() => {\n    store.setItem(key, JSON.stringify(state))\n  }, [key, state, store])\n\n  return [state, setState]\n}\n\nexport default usePersist\n","import { RandomNumberGenerator, Move, RandomMove, RandomSecretMove } from '.'\nimport { Seed } from './types'\n\n/**\n * A higher order function to provide `random`, a random number generator, to a move defintion.\n * ```js\n * withRandom(({ random, state }) => {\n *   const isHeads = random() > 0.5;\n *   return ({ ...state, isHeads })\n * })\n * ```\n * @param moveFn A game move definition, which will require randomness\n * @return A random move definition\n */\nexport function withRandom(moveFn: Move): RandomMove | RandomSecretMove {\n  moveFn._isRandom = true\n  return moveFn as RandomMove | RandomSecretMove\n}\n\nexport const isRandomMove = (moveFn: Move) => moveFn._isRandom\n\nexport const shuffle = ({\n  random = Math.random,\n  array\n}: {\n  random: RandomNumberGenerator\n  array: any[]\n}) => {\n  const length = array == null ? 0 : array.length\n  if (!length) {\n    return []\n  }\n  let index = -1\n  const lastIndex = length - 1\n  const result = [...array]\n  while (++index < length) {\n    const rand = index + Math.floor(random() * (lastIndex - index + 1))\n    const value = result[rand]\n    result[rand] = result[index]\n    result[index] = value\n  }\n  return result\n}\n\nexport function genSeed(random: RandomNumberGenerator): Seed {\n  return random().toString()\n}\n","import { Move, SecretMove, RandomSecretMove } from '.'\n\n/**\n * A higher order function to provide `contextId` and `revealASecret`, enabling the move\n * to return a different state for different peers.\n * ```js\n * withSecret(({ contextId, hostId, revealSecret, state }) => {\n *   const isHostContext = hostId === contextId\n *   if (isHostContext) {\n *     return ({ ...state, deck: state.deck.slice(1) })\n *   } else {\n *     const topCardOfDeck = revealSecret(hostId, s => s.deck[0])\n *     return ({ ...state, revealedCard: topCardOfDeck })\n *   }\n * })\n * ```\n * @param moveFn A move defition that needs to be secretive\n * @return A move defintion with context awareness and access to secret state\n */\nexport function withSecret(moveFn: Move): SecretMove | RandomSecretMove {\n  moveFn._isSecret = true\n  return moveFn as SecretMove | RandomSecretMove\n}\n\nexport const isSecretMove = (moveFn: Move) => moveFn._isSecret\n","import { diff } from 'jsondiffpatch'\nimport seedrandom from 'seedrandom'\nimport { isRandomMove } from '../random'\nimport { isSecretMove } from '../secret'\nimport {\n  State,\n  PeerId,\n  RandomNumberGenerator,\n  RevealSecretFunction,\n  Game,\n  RandomMove,\n  SecretMove,\n  SimpleMove,\n  RandomArgsMixin,\n  SecretArgsMixin,\n  RandomSecretMove\n} from '..'\nimport { EventItem, EventList, Seed } from '../types'\nimport { Action } from '.'\n\nexport interface Controller {\n  roomId: PeerId\n  game: Game\n  random: RandomNumberGenerator\n  revealSecret: RevealSecretFunction\n}\n\ninterface ReducerParameters {\n  state: State\n  contextId: PeerId\n  action: Action\n  controller: Controller\n  seed?: Seed\n}\n\ninterface ReducerReturn {\n  state: State\n  event: EventItem\n}\n\nexport function reducer({\n  state,\n  contextId,\n  action,\n  controller,\n  seed\n}: ReducerParameters): ReducerReturn {\n  const moveFn = controller.game[action.move]\n  const event: EventItem = { index: null, ...action }\n\n  let newState: State\n\n  const isRandom = isRandomMove(moveFn)\n  const isSecret = isSecretMove(moveFn)\n\n  if (isRandom && seed) {\n    event.seed = seed\n  }\n\n  const simpleMoveArgs = {\n    state,\n    hostId: controller.roomId,\n    callerId: action.connectionId,\n    args: action.args\n  }\n  const randomMixin: RandomArgsMixin | null = isRandom\n    ? { random: seedrandom(event.seed) }\n    : null\n  const secretMixin: SecretArgsMixin | null = isSecret\n    ? { contextId, revealSecret: controller.revealSecret }\n    : null\n\n  if (randomMixin && !isSecret) {\n    const randomMoveFn = moveFn as RandomMove\n    newState = randomMoveFn({ ...simpleMoveArgs, ...randomMixin })\n    return { state: newState, event }\n  }\n\n  if (secretMixin) {\n    if (!isRandom) {\n      const secretMoveFn = moveFn as SecretMove\n      newState = secretMoveFn({ ...simpleMoveArgs, ...secretMixin })\n    }\n\n    if (randomMixin) {\n      const randomSecretMoveFn = moveFn as RandomSecretMove\n      newState = randomSecretMoveFn({\n        ...simpleMoveArgs,\n        ...secretMixin,\n        ...randomMixin\n      })\n    }\n\n    event.patch = diff(state, newState)\n    return { state: newState, event }\n  }\n\n  const simpleMoveFn = moveFn as SimpleMove\n  newState = simpleMoveFn(simpleMoveArgs)\n  return { state: newState, event }\n}\n\ntype Result = { state: State; eventLog: EventList }\n\ninterface ApplyActionsParameters {\n  actions: Action[]\n  contextId: PeerId\n  controller: Controller\n  initialState?: State\n  initialEventLog?: EventList\n  seed?: Seed\n}\n\nexport function applyActions({\n  actions,\n  contextId,\n  controller,\n  seed,\n  initialState = {}\n}: ApplyActionsParameters): Result {\n  const result = actions.reduce(\n    (accumulator, action) => {\n      try {\n        const { state, event }: { state: State; event: EventItem } = reducer({\n          state: accumulator.state,\n          contextId,\n          action,\n          controller,\n          seed\n        })\n        const eventLog: EventList = [...accumulator.eventLog, event]\n        return { state, eventLog }\n      } catch (error) {\n        console.error('Invalid Event', error)\n        return accumulator\n      }\n    },\n    { state: initialState, eventLog: [] as EventList }\n  )\n  return result\n}","import { useCallback, useEffect, useMemo } from 'react'\nimport { StateStoreSetter, useStatesStore } from './stores'\nimport { EventLogs, EventLogger, Inputer, Action, States } from '.'\nimport { State, PeerId, RandomNumberGenerator, Game } from '..'\nimport { applyActions, Controller } from './funcs'\nimport { genSeed, isRandomMove } from '../random'\n\ninterface UseGameStateParameters {\n  roomId: PeerId\n  game: Game\n  random: RandomNumberGenerator\n  connectionIds: PeerId[]\n  eventLogs: EventLogs\n  logEvent: EventLogger\n}\n\ninterface UseGameStateReturn {\n  state: State\n  input: Inputer\n}\n\ninterface InternalGameStateHookParameters {\n  setState: StateStoreSetter\n  connectionIds: PeerId[]\n  controller: Controller\n  states: States\n  eventLogs: EventLogs\n  logEvent: EventLogger\n}\n\nconst actionUsesRandomMove = (action: Action, controller: Controller) => {\n  const move = controller.game[action.move]\n  return isRandomMove(move)\n}\n\nfunction useInputCallback(params: InternalGameStateHookParameters): Inputer {\n  return useCallback(\n    (action: Action) => {\n      let seed\n      if (actionUsesRandomMove(action, params.controller)) {\n        seed = genSeed(params.controller.random)\n      }\n      const contextIds = [...params.connectionIds, params.controller.roomId]\n      for (const contextId of contextIds) {\n        const result = applyActions({\n          initialState: params.states[contextId],\n          actions: [action],\n          controller: params.controller,\n          contextId,\n          seed\n        })\n\n        result.eventLog.forEach((event) =>\n          params.logEvent({ connectionId: contextId, event })\n        )\n        params.setState({ contextId, state: result.state })\n      }\n    },\n    [params]\n  )\n}\n\nfunction useNewConnectionEffect(params: InternalGameStateHookParameters): void {\n  useEffect(() => {\n    const [newConnection] = params.connectionIds.filter(\n      (peer) => !params.states[peer] && !params.eventLogs[peer]?.length\n    )\n    if (!newConnection) return\n\n    const hostEvents =\n      params.eventLogs[params.controller.roomId] ?? ([] as Action[])\n\n    const result = applyActions({\n      actions: hostEvents as Action[],\n      controller: params.controller,\n      contextId: newConnection\n    })\n\n    result.eventLog.forEach((event) =>\n      params.logEvent({ connectionId: newConnection, event })\n    )\n    params.setState({ contextId: newConnection, state: result.state })\n  }, [params])\n}\n\nfunction useGameState({\n  roomId,\n  game,\n  random,\n  connectionIds,\n  eventLogs,\n  logEvent\n}: UseGameStateParameters): UseGameStateReturn {\n  const { states, setState } = useStatesStore(roomId)\n\n  const params = useMemo(() => {\n    const revealSecret = (id: PeerId, fn: (s: State) => State) => fn(states[id])\n    const controller = { roomId, game, random, revealSecret }\n    return { logEvent, setState, connectionIds, controller, states, eventLogs }\n  }, [\n    states,\n    eventLogs,\n    roomId,\n    game,\n    random,\n    logEvent,\n    setState,\n    connectionIds\n  ])\n\n  useNewConnectionEffect(params)\n  const input = useInputCallback(params)\n  const hostState = useMemo(() => states[roomId] || {}, [roomId, states])\n\n  return { state: hostState, input }\n}\n\nexport default useGameState\n","import usePersist from '../usePersist'\nimport { useCallback, Dispatch, SetStateAction } from 'react'\nimport { PeerId, State } from '..'\nimport { EventItem } from '../types'\nimport { States, EventLogs, EventLogger } from '.'\n\nexport type StateStoreSetter = Dispatch<SetStateAction<State>>\n\nexport function useStatesStore(\n  roomId: PeerId\n): { states: States; setState: StateStoreSetter } {\n  const [states, setStates] = usePersist<States>(\n    window.localStorage,\n    `hostState-${roomId}`,\n    {}\n  )\n\n  const setState = useCallback(\n    ({ contextId, state }: { contextId: PeerId; state: State }) => {\n      setStates((states) => ({ ...states, [contextId]: state }))\n    },\n    [setStates]\n  )\n\n  return { states, setState }\n}\n\nexport function useEventLogStore(\n  roomId: PeerId\n): { eventLogs: EventLogs; logEvent: EventLogger } {\n  const [eventLogs, setEventLogs] = usePersist<EventLogs>(\n    window.localStorage,\n    `eventLog-${roomId}`,\n    {}\n  )\n  const logEvent = useCallback(\n    ({ connectionId, event }: { connectionId: PeerId; event: EventItem }) => {\n      setEventLogs((eventLogs) => {\n        const logs = eventLogs[connectionId] || []\n        return { ...eventLogs, [connectionId]: [...logs, event] }\n      })\n    },\n    [setEventLogs]\n  )\n  return { eventLogs, logEvent }\n}\n","import {\n  useEffect,\n  useState,\n  useReducer,\n  Dispatch,\n  SetStateAction\n} from 'react'\nimport Peer from 'peerjs'\nimport { ConnectionStatus, PeerId } from '.'\n\ntype PeerSetter = Dispatch<SetStateAction<Peer | null>>\nconst destructPeer = ({\n  peer,\n  setPeer\n}: {\n  peer: Peer\n  setPeer: PeerSetter\n}) => {\n  peer && peer.destroy()\n  setPeer(null)\n}\n\nconst opts = { host: 'signalling.compendium.games', secure: true }\n\nfunction usePeer(id: PeerId): { open: ConnectionStatus; peer: Peer | null } {\n  const [peer, setPeer] = useState<Peer | null>(null)\n  const [open, setOpen] = useState(false)\n  const [attempts, countAttempt] = useReducer((a: number) => a + 1, 0)\n\n  useEffect(() => {\n    if (open) return\n\n    const peer = new Peer(id, opts)\n    setPeer(peer)\n\n    const retry = () => {\n      setOpen(false)\n      destructPeer({ peer, setPeer })\n      countAttempt()\n    }\n\n    let timeout = setTimeout(retry, 1000)\n\n    peer.on('open', () => {\n      clearTimeout(timeout)\n      setOpen(true)\n    })\n\n    const onConnectionClosed = () => {\n      clearTimeout(timeout)\n      timeout = setTimeout(retry, 1000)\n    }\n    peer.on('close', onConnectionClosed)\n    peer.on('disconnected', onConnectionClosed)\n    peer.on('error', onConnectionClosed)\n\n    return () => {\n      destructPeer({ peer, setPeer })\n      clearTimeout(timeout)\n    }\n  }, [attempts, id])\n\n  return { open, peer }\n}\n\nexport default usePeer\n","import {\n  useRef,\n  useState,\n  useEffect,\n  useReducer,\n  MutableRefObject,\n  Dispatch,\n  SetStateAction\n} from 'react'\nimport { isString, isInteger } from 'lodash'\nimport usePeer from '../usePeer'\nimport { PeerId, Game } from '..'\nimport { LogSize, ConnectionList, Connection } from '../types'\nimport { PeerAcks, InputerSetter, Action, Inputer } from '.'\n\n// TODO: refactor, event is now action, validMoves should be game probably..\nconst validateEvent = (event: Action, validMoves: string[]) =>\n  event &&\n  isString(event.move) &&\n  validMoves.findIndex((m) => m === event.move) > -1\n\ntype ConnectionArgs = {\n  setConnections: Dispatch<SetStateAction<ConnectionList>>\n  conn: Connection\n}\n\nconst appendConnection = ({ setConnections, conn }: ConnectionArgs) => {\n  setConnections((conns: ConnectionList) => [...conns, conn])\n}\n\nconst removeConnection = ({ setConnections, conn }: ConnectionArgs) => {\n  setConnections((conns: ConnectionList) =>\n    conns.filter((c: Connection) => c !== conn)\n  )\n}\n\ntype UpdateLogSizeMapArgs = {\n  conn: Connection\n  connectionLogSizeMap: MutableRefObject<PeerAcks>\n  size: LogSize\n}\nconst updateLogSizeMap = ({\n  conn,\n  connectionLogSizeMap,\n  size = 0\n}: UpdateLogSizeMapArgs) => {\n  connectionLogSizeMap.current[conn.peer] = size\n}\n\ntype UseConnectionsArgs = { game: Game; roomId: PeerId }\ntype UseConnectionsReturn = {\n  connections: ConnectionList\n  connectionIds: PeerId[]\n  connectionLogSizeMap: MutableRefObject<PeerAcks>\n  setOnGuestEvent: InputerSetter\n}\nfunction useConnections({\n  game,\n  roomId\n}: UseConnectionsArgs): UseConnectionsReturn {\n  const { peer } = usePeer(roomId)\n  const [connections, setConnections] = useState<ConnectionList>([])\n  const connectionLogSizeMap = useRef<PeerAcks>({})\n  const [connectionIds, addConnectionId] = useReducer(\n    (state: PeerId[], connId: PeerId) => [...state, connId],\n    []\n  )\n  const [onGuestEvent, setOnGuestEvent] = useState<Inputer>(() => () => {})\n\n  useEffect(() => {\n    if (!peer || !onGuestEvent) return\n\n    peer.on('connection', (conn) => {\n      conn.on('open', () => {\n        appendConnection({ setConnections, conn })\n        addConnectionId(conn.peer)\n      })\n\n      conn.on('data', ({ index, ...event } = {}) => {\n        if (isInteger(index)) {\n          updateLogSizeMap({ conn, connectionLogSizeMap, size: index + 1 })\n        }\n\n        if (\n          (isInteger(index) || index === null) &&\n          validateEvent(event, Object.keys(game))\n        ) {\n          onGuestEvent({ ...event, connectionId: conn.peer })\n        }\n      })\n\n      conn.on('close', () => {\n        removeConnection({ setConnections, conn })\n      })\n\n      conn.on('error', (error) => {\n        console.error(conn.peer, error)\n      })\n    })\n  }, [peer, game, roomId, onGuestEvent])\n\n  return { connections, connectionIds, connectionLogSizeMap, setOnGuestEvent }\n}\n\nexport default useConnections\n","import has from 'lodash/has'\nimport { Game, Args, Moves } from '.'\nimport { MoveHandler } from './types'\n\ninterface ConstructMovesArgs {\n  game: Game\n  handleMove: MoveHandler\n}\n\nexport function constructMoves({\n  game,\n  handleMove\n}: ConstructMovesArgs): Moves {\n  return new Proxy(\n    {},\n    {\n      get: (target, key, receiver) => {\n        if (has(game, key)) {\n          return (args: Args) => handleMove({ move: key.toString(), args })\n        } else if (key === Symbol.iterator && game) {\n          return Object.keys(game)[Symbol.iterator].bind(target)\n        } else {\n          return Reflect.get(target, key, receiver)\n        }\n      }\n    }\n  )\n}\n","import { useMemo } from 'react'\nimport uniq from 'lodash/uniq'\nimport { useEventLogStore } from './stores'\nimport useGameState from './useGameState'\nimport useConnections from './useConnections'\nimport useMoves from './useMoves'\nimport useSendSyncs from './useSendSyncs'\nimport useInputBuffer from './useInputBuffer'\nimport useRandom from './useRandom'\nimport { Connection } from '../types'\nimport { UsePartyHostArgs, UsePartyHostReturn } from '..'\n\n/**\n * A React hook that, provided the game rules and a shared room identifier,\n * returns the host's state representation and an object with moves\n * to call on the host's user action.\n */\nfunction usePartyHost({\n  roomId,\n  game,\n  secret\n}: UsePartyHostArgs): UsePartyHostReturn {\n  // The host will need to make some random decisions\n  const random = useRandom({ secret, roomId })\n\n  // The event log will store validated events, so we can sync guests.\n  const { eventLogs, logEvent } = useEventLogStore(roomId)\n\n  // Guests connect and send (not trusted) events.\n  // The host remembers the last event a guest has acknowledged receiving a sync for.\n  const {\n    setOnGuestEvent,\n    connections,\n    connectionIds,\n    connectionLogSizeMap\n  } = useConnections({ game, roomId })\n\n  // The host creates events also\n  const { setOnHostEvent, moves } = useMoves({ roomId, game })\n\n  // When an event takes places, applies it to a state for each connection, to check it is a valid move.\n  // If no error is thrown it is a valid move, then the state is updated and the valid event is logged.\n  const { state, input } = useGameState({\n    roomId,\n    game,\n    logEvent,\n    random,\n    connectionIds,\n    eventLogs\n  })\n\n  // Connect yet-to-be-validated guest and host events to the event handler\n  useInputBuffer({ setOnHostEvent, setOnGuestEvent, input })\n\n  // Update active connections with valid events in the log they have yet to acknowledge.\n  useSendSyncs({ connections, connectionLogSizeMap, eventLogs })\n\n  const activeConnectionIds = useMemo(\n    () => uniq(connections.map((conn: Connection) => conn.peer)).sort(),\n    [connections]\n  )\n\n  return { state, moves, connections: activeConnectionIds }\n}\n\nexport default usePartyHost\n","import { useMemo } from 'react'\nimport seedrandom from 'seedrandom'\nimport { PeerId, RandomNumberGenerator, Secret } from '..'\n\nfunction useRandom({\n  secret,\n  roomId\n}: {\n  secret?: Secret\n  roomId: PeerId\n}): RandomNumberGenerator {\n  const random = useMemo<RandomNumberGenerator>(\n    () => seedrandom(secret || roomId),\n    [secret, roomId]\n  )\n  return random\n}\n\nexport default useRandom\n","import { useState, useMemo, useCallback } from 'react'\nimport { constructMoves } from '../shared'\nimport { PeerId, Game, Moves } from '..'\nimport { InputerSetter, Inputer } from '.'\n\ntype UseMovesArgs = { roomId: PeerId; game: Game }\n\ntype UseMovesReturn = { moves: Moves; setOnHostEvent: InputerSetter }\n\nfunction useMoves({ roomId, game }: UseMovesArgs): UseMovesReturn {\n  const [onEvent, setOnHostEvent] = useState<Inputer>(() => () => null)\n\n  const handleMove = useCallback(\n    (event) => {\n      onEvent({ ...event, connectionId: roomId })\n    },\n    [roomId, onEvent]\n  )\n\n  const moves = useMemo(() => {\n    if (!handleMove || !game) return {}\n    return constructMoves({ game, handleMove })\n  }, [game, handleMove])\n\n  return { moves, setOnHostEvent }\n}\n\nexport default useMoves\n","import { useEffect, useState } from 'react'\nimport { InputerSetter, Inputer, ActionList, Action } from '.'\n\ntype UseInputBufferArgs = {\n  setOnGuestEvent: InputerSetter\n  setOnHostEvent: InputerSetter\n  input: Inputer\n}\n\nfunction useInputBuffer({\n  setOnGuestEvent,\n  setOnHostEvent,\n  input\n}: UseInputBufferArgs) {\n  const [inputBuffer, setInputBuffer] = useState<ActionList>([])\n\n  useEffect(() => {\n    const pushInput = (inputItem: Action) => {\n      setInputBuffer((buffer: ActionList) => [...buffer, inputItem])\n    }\n    setOnGuestEvent(() => pushInput)\n    setOnHostEvent(() => pushInput)\n  }, [setOnGuestEvent, setOnHostEvent, setInputBuffer])\n\n  useEffect(() => {\n    if (!inputBuffer.length || !input) return\n    setInputBuffer(([head, ...tail]) => {\n      input(head)\n      console.info('INPUT ACTION', head)\n      return tail\n    })\n  }, [inputBuffer, input, setInputBuffer])\n}\n\nexport default useInputBuffer\n","import { useEffect, MutableRefObject } from 'react'\nimport { ConnectionList, EventItem } from '../types'\nimport { EventLogs, PeerAcks } from '.'\n\ntype UseSendSyncArgs = {\n  connections: ConnectionList\n  connectionLogSizeMap: MutableRefObject<PeerAcks>\n  eventLogs: EventLogs\n}\nfunction useSendSyncs({\n  connections,\n  connectionLogSizeMap,\n  eventLogs\n}: UseSendSyncArgs): void {\n  useEffect(() => {\n    if (eventLogs == null) return\n    for (const connection of connections) {\n      const eventLog = eventLogs[connection.peer] || []\n      const numSent = connectionLogSizeMap.current[connection.peer] || 0\n      if (eventLog.length > numSent) {\n        const events = eventLog\n          .slice(numSent)\n          .map((e: EventItem, i: number) => ({ ...e, index: numSent + i }))\n        connection.send(events)\n      }\n    }\n  }, [connections, connectionLogSizeMap, eventLogs])\n}\n\nexport default useSendSyncs\n","import seedrandom, { State } from 'seedrandom'\nimport { patch } from 'jsondiffpatch'\nimport { isRandomMove } from '../random'\nimport { isSecretMove } from '../secret'\nimport { Game, SimpleMoveArgs, RandomMove, SimpleMove, PeerId } from '..'\nimport { EventList, LogSize, Index } from '../types'\n\nexport function logSizeToIndex(logSize: LogSize): Index {\n  const index = logSize - 1\n  return index < 0 ? null : index\n}\n\nexport const constructReducer = ({\n  game,\n  events,\n  roomId\n}: {\n  game: Game\n  events: EventList\n  roomId: PeerId\n}) => (state: State) => {\n  try {\n    return events.reduce((o, event) => {\n      const moveFn = game[event.move]\n\n      if (isSecretMove(moveFn)) {\n        if (event.patch != null) {\n          patch(o, event.patch)\n        }\n        return o\n      }\n\n      const moveArgs: SimpleMoveArgs = {\n        state: o,\n        hostId: roomId,\n        callerId: event.connectionId,\n        args: event.args\n      }\n\n      if (isRandomMove(moveFn)) {\n        if (event.seed == null) {\n          throw new Error('Random moves require a seed from the host')\n        }\n        const random = seedrandom(event.seed)\n        const randomMoveFn = moveFn as RandomMove\n        return randomMoveFn({ ...moveArgs, random })\n      }\n\n      const simpleMoveFn = moveFn as SimpleMove\n      return simpleMoveFn(moveArgs)\n    }, state)\n  } catch (e) {\n    console.error(e)\n    return state\n  }\n}\n","import { useEffect } from 'react'\nimport { constructReducer } from './funcs'\nimport { Game, PeerId } from '..'\nimport { EventList } from '../types'\nimport { CacheAndStateSetter, LogSizeSetter } from '.'\n\ntype SyncArgs = {\n  setState: CacheAndStateSetter\n  roomId: PeerId\n  game: Game\n  events: EventList\n}\nconst sync = ({ setState, roomId, game, events }: SyncArgs) => {\n  const reducer = constructReducer({ game, roomId, events })\n  setState(({ state }) => {\n    const newState = reducer(state)\n    return { state: newState, cache: newState }\n  })\n}\n\ntype UpdateLogSizeArgs = { setLogSize: LogSizeSetter; events: EventList }\nconst updateLogSize = ({ setLogSize, events }: UpdateLogSizeArgs) => {\n  setLogSize((events[events.length - 1].index ?? 0) + 1)\n}\n\ntype UseSyncArgs = {\n  data: EventList\n  clearData: () => void\n  game: Game\n  roomId: PeerId\n  setState: CacheAndStateSetter\n  setLogSize: LogSizeSetter\n}\nfunction useSync({\n  data,\n  clearData,\n  game,\n  roomId,\n  setState,\n  setLogSize\n}: UseSyncArgs): void {\n  useEffect(() => {\n    if (!data || !data.length) return\n    console.info('SYNC', data)\n    const events = [...data]\n    clearData()\n    updateLogSize({ setLogSize, events })\n    sync({ setState, roomId, game, events })\n  }, [data, clearData, game, roomId, setLogSize, setState])\n}\n\nexport default useSync\n","import { useEffect, useState, Dispatch, SetStateAction } from 'react'\nimport { constructMoves } from '../shared'\nimport { logSizeToIndex, constructReducer } from './funcs'\nimport { isRandomMove } from '../random'\nimport { isSecretMove } from '../secret'\nimport { Moves, PeerId, Game, Args, ConnectionStatus } from '..'\nimport { LogSize, Emit } from '../types'\nimport { CacheAndStateSetter, DataConnectionRef } from '.'\n\nconst emit = ({ conn, emit }: { emit: Emit; conn: DataConnectionRef }) => {\n  console.info('EMIT', emit)\n  conn.current?.send(emit)\n}\n\ntype PreemptArgs = {\n  game: Game\n  setState: CacheAndStateSetter\n  move: string\n  args: Args\n  connectionId: PeerId\n  roomId: PeerId\n}\nconst preempt = ({\n  setState,\n  game,\n  move,\n  args,\n  connectionId,\n  roomId\n}: PreemptArgs) => {\n  const reducer = constructReducer({\n    game,\n    roomId,\n    events: [{ index: null, move, args, connectionId }]\n  })\n  setState(({ state, cache }) => ({\n    cache: reducer(cache),\n    state\n  }))\n}\n\ntype ConstructMovesHandlerArgs = {\n  conn: DataConnectionRef\n  connectionId: PeerId\n  logSize: LogSize\n  roomId: PeerId\n  game: Game\n  setState: CacheAndStateSetter\n  setMoves: Dispatch<SetStateAction<Moves | null>>\n}\nfunction constructMovesHandler({\n  conn,\n  connectionId,\n  setMoves,\n  setState,\n  game,\n  logSize,\n  roomId\n}: ConstructMovesHandlerArgs): void {\n  const handleMove = ({ move, args }: { move: string; args: Args }) => {\n    const moveFn = game[move]\n    if (!isRandomMove(moveFn) && !isSecretMove(moveFn)) {\n      preempt({ setState, game, move, args, roomId, connectionId })\n    }\n    const index = logSizeToIndex(logSize)\n    emit({ conn, emit: { move, args, index } })\n  }\n  setMoves(() => constructMoves({ game, handleMove }))\n}\n\ntype UseMovesArgs = {\n  connected: ConnectionStatus\n  conn: DataConnectionRef\n  id: PeerId\n  setState: CacheAndStateSetter\n  roomId: PeerId\n  game: Game\n  logSize: LogSize\n}\ntype UseMovesReturn = { moves: Moves | null }\nfunction useMoves({\n  connected,\n  conn,\n  id,\n  setState,\n  roomId,\n  game,\n  logSize\n}: UseMovesArgs): UseMovesReturn {\n  const [moves, setMoves] = useState<Moves | null>(null)\n  useEffect(() => {\n    if (!connected) return\n    constructMovesHandler({\n      conn,\n      connectionId: id,\n      setMoves,\n      setState,\n      roomId,\n      game,\n      logSize\n    })\n  }, [connected, conn, id, setMoves, setState, roomId, game, logSize])\n  return { moves }\n}\n\nexport default useMoves\n","import useAck from './useAck'\nimport useSync from './useSync'\nimport useMoves from './useMoves'\nimport useConnection from './useConnection'\nimport { useIdStore, useStateStore, useLogSizeStore } from './stores'\nimport { UsePartyGuestArgs, UsePartyGuestReturn } from '..'\n\n/**\n * A React hook that, provided the game rules and a shared room identifier,\n * returns the guest's state representation and an object with moves\n * to call on the guest's user action.\n */\nfunction usePartyGuest({\n  roomId,\n  game\n}: UsePartyGuestArgs): UsePartyGuestReturn {\n  const { id } = useIdStore(roomId)\n  const { cache, setState } = useStateStore(roomId)\n  const { logSize, setLogSize } = useLogSizeStore(roomId)\n  const { connected, conn, data, clearData } = useConnection({ id, roomId })\n  useAck({ connected, conn, logSize })\n  useSync({ data, clearData, game, roomId, setState, setLogSize })\n  const { moves } = useMoves({\n    connected,\n    conn,\n    id,\n    setState,\n    roomId,\n    game,\n    logSize\n  })\n  return { connectionId: id, connected, state: cache, moves }\n}\n\nexport default usePartyGuest\n","import usePersist from '../usePersist'\nimport { v4 as uuid } from 'uuid'\nimport { PeerId, State } from '..'\nimport { LogSize } from '../types'\nimport { CacheAndState, CacheAndStateSetter } from '.'\n\nimport { Dispatch, SetStateAction } from 'react'\n\nexport function useIdStore(roomId: PeerId): { id: PeerId } {\n  const [id] = usePersist<PeerId>(window.localStorage, `id-${roomId}`, uuid)\n  return { id }\n}\n\ntype UseStateStoreReturn = { cache: State; setState: CacheAndStateSetter }\nexport function useStateStore(roomId: PeerId): UseStateStoreReturn {\n  const [{ cache }, setState] = usePersist<CacheAndState>(\n    window.localStorage,\n    `guestState-${roomId}`,\n    { state: {}, cache: {} }\n  )\n  return { cache, setState }\n}\n\ntype UseLogSizeStoreReturn = {\n  logSize: LogSize\n  setLogSize: Dispatch<SetStateAction<LogSize>>\n}\nexport function useLogSizeStore(roomId: PeerId): UseLogSizeStoreReturn {\n  const [logSize, setLogSize] = usePersist<number>(\n    window.localStorage,\n    `logSize-${roomId}`,\n    0\n  )\n  return { logSize, setLogSize }\n}\n","import { useEffect, useRef, useState, useReducer } from 'react'\nimport usePeer from '../usePeer'\nimport { DataConnectionRef } from '.'\nimport Peer, { DataConnection } from 'peerjs'\nimport { PeerId } from '..'\nimport { EventList } from '../types'\n\nfunction connect({\n  roomId,\n  peer\n}: {\n  roomId: PeerId\n  peer: Peer\n}): DataConnection {\n  return peer.connect(roomId, { serialization: 'json' })\n}\n\ntype UseConnectionArgs = { id: PeerId; roomId: PeerId }\ntype UseConnectionReturn = {\n  connected: boolean\n  conn: DataConnectionRef\n  data: EventList\n  clearData: () => void\n}\nfunction useConnection({ id, roomId }: UseConnectionArgs): UseConnectionReturn {\n  const conn = useRef<DataConnection | null>(null)\n  const { open, peer } = usePeer(id)\n  const [data, setData] = useState<EventList>([])\n  const [connected, setConnected] = useState<boolean>(false)\n  const [attempts, countAttempt] = useReducer((a: number) => a + 1, 0)\n\n  useEffect(() => {\n    if (!peer || !open || connected) return\n\n    conn.current = connect({ peer, roomId })\n\n    const retry = () => {\n      conn.current = null\n      setConnected(false)\n      countAttempt()\n    }\n    const timeout = setTimeout(retry, 1000)\n\n    conn.current.on('open', () => {\n      clearTimeout(timeout)\n      setConnected(true)\n    })\n\n    conn.current.on('data', (data) => {\n      setData((stream) => [...stream, ...data])\n    })\n\n    conn.current.on('close', () => {\n      clearTimeout(timeout)\n      retry()\n    })\n\n    conn.current.on('error', (error) => {\n      console.error(error)\n    })\n  }, [attempts, open, connected, roomId, peer])\n\n  const clearData = () => {\n    setData([])\n  }\n  return { connected: open && connected, conn, data, clearData }\n}\n\nexport default useConnection\n","import { useEffect } from 'react'\nimport { logSizeToIndex } from './funcs'\nimport { DataConnectionRef } from '.'\nimport { Index } from '../types'\n\nconst ack = ({ conn, index }: { conn: DataConnectionRef; index: Index }) => {\n  conn.current?.send({ index })\n}\n\ntype UseAckArgs = {\n  connected: boolean\n  conn: DataConnectionRef\n  logSize: number\n}\nfunction useAck({ connected, conn, logSize }: UseAckArgs): void {\n  useEffect(() => {\n    if (!conn.current || !connected) return\n    const index = logSizeToIndex(logSize)\n    ack({ conn, index })\n  }, [connected, conn, logSize])\n}\n\nexport default useAck\n","import { Suspense, lazy } from \"react\";\n\nconst withSuspense = (Component) => (props) => (\n  <Suspense fallback=\"Loading...\">\n    <Component {...props}/>\n  </Suspense>\n)\n\nconst Host = withSuspense(lazy(() => import(\"./Host\")))\nconst Guest = withSuspense(lazy(() => import(\"./Guest\")))\n\nexport { Host, Guest }\n","import game from \"./game\";\nimport { Host, Guest } from \"./client\";\nimport thumbnail from \"./tic-tac-toe.jpg\";\n\nconst name = \"Tic Tac Toe\";\nconst description = \"a paper-and-pencil game for two players, X and O, who take turns marking the spaces in a 3×3 grid.\"\nconst image = { alt: \"tic tac toe\", src: thumbnail }\n\nconst TicTacToe = { name, description, image, Host, Guest, game };\n\nexport default TicTacToe;\n","export default __webpack_public_path__ + \"static/media/tic-tac-toe.3795d447.jpg\";","const joinAsAPlayer = ({ state, callerId, args }) => {\n  if (state.players.list.length >= state.players.maxPlayers) {\n    throw new Error(\"The number of players has reached it's maximum\");\n  }\n  const player = { connectionId: callerId, name: args.name, emoji: args.emoji };\n  const playerList = [...state.players.list, player];\n  const players = { ...state.players, list: playerList };\n  return { ...state, players };\n}\n\nconst initPlayers = ({ state, args }) => {\n  const players = {\n    maxPlayers: args.maxPlayers,\n    minPlayers: args.minPlayers,\n    everyoneIsIn: false,\n    list: []\n  }\n  return { ...state, players }\n}\n\nconst everyoneIsIn = ({ state }) => {\n  if (state.players.list.length > state.players.maxPlayers) {\n    throw new Error(\"Too many players\");\n  }\n  if (state.players.list.length < state.players.minPlayers) {\n    throw new Error(\"Not enough players\");\n  }\n  return {\n    ...state,\n    players: {\n      ...state.players,\n      everyoneIsIn: true\n    }\n  }\n}\n\nconst game = {\n  initPlayers,\n  everyoneIsIn,\n  joinAsAPlayer,\n}\n\nexport default game;\n","import React, { useEffect } from \"react\";\nimport Emoji from \"components/emoji\";\nimport { Flex, Box, Button } from \"rebass/styled-components\";\nimport HowToJoin from \"components/how-to-join\";\nimport Paragraph from \"components/paragraph\";\n\nconst checkIfCanStartGame = ({ state: { players } }) => (\n  players.list.length >= players.minPlayers\n);\n\nconst PlayerList = ({ children, players }) => {\n  return (\n    <Flex flexWrap=\"wrap\">\n      <Flex flexGrow={2} flexDirection=\"column\">\n        {players.map(({ name, emoji }, index) => (\n          <Flex alignItems=\"center\" key={index} px={2}>\n            <Box width=\"2em\" height=\"2em\" my={2} mx={3}>\n              {emoji && <Emoji emoji={emoji}/>}\n            </Box>\n            <Paragraph>\n              {name}\n            </Paragraph>\n          </Flex>\n        ))}\n      </Flex>\n      <Flex flexGrow={1}>\n        {children}\n      </Flex>\n    </Flex>\n  );\n}\n\nconst Host = ({ state, roomId, moves, connections, maxPlayers, minPlayers, children }) => {\n  useEffect(() => {\n    if (!state.players && moves?.initPlayers) {\n      moves.initPlayers({ maxPlayers, minPlayers });\n    }\n  }, [state.players, moves]);\n\n  if (!state.players) return null;\n  if (state.players.everyoneIsIn) return children;\n  const canStartGame = checkIfCanStartGame({ state });\n  return (\n    <PlayerList players={state.players.list}>\n      <Flex flexDirection=\"column\" alignItems=\"center\">\n        {canStartGame && (\n          <Button\n            my={2}\n            onClick={() => moves.everyoneIsIn()}\n            onKeyPress={() => moves.everyoneIsIn()}\n          >\n            Start Game\n          </Button>\n        )}\n        <HowToJoin roomCode={roomId}/>\n      </Flex>\n    </PlayerList>\n  )\n};\n\nexport default Host;\n","import React, { useState } from \"react\";\nimport Emoji, { EmojiPicker } from \"components/emoji\";\nimport { Flex, Box, Button, Text } from \"rebass/styled-components\";\nimport { Input, Label } from \"@rebass/forms/styled-components\";\n\nconst JoinScreen = ({ onJoin }) => {\n  const [name, setName] = useState(\"\");\n  const [emoji, setEmoji] = useState('😎');\n  const [pickerIsShown, setPickerIsShown] = useState(false);\n  const showPicker = () => setPickerIsShown(true);\n  const hidePicker = () => setPickerIsShown(false);\n\n  const join = () => {\n    name?.length && onJoin({ name, emoji })\n  }\n\n  const onSelectEmoji = (emoji) => {\n    setEmoji(emoji);\n    hidePicker();\n  }\n\n  return (\n    <>\n      {pickerIsShown && <EmojiPicker onHide={hidePicker} onSelectEmoji={onSelectEmoji} />}\n      <Flex my={5} alignItems=\"center\" flexDirection=\"column\">\n        <Box width={'10em'} height={'10em'} onKeyPress={showPicker} onClick={showPicker}>\n          <Emoji emoji={emoji}/>\n        </Box>\n        <Box my={2}>\n          <Text fontSize={[ 3, 4, 5 ]} fontWeight='bold' color='primary'>\n            {name}\n          </Text>\n        </Box>\n        <Box>\n          <Label htmlFor=\"nickname\">Nickname</Label>\n          <Input id=\"nickname\" onChange={(e) => setName(e.target.value)} value={name}/>\n        </Box>\n        <Box my={3}>\n          <Button variant=\"primary\" onKeyPress={join} onClick={join}>\n            Sit down to Play\n          </Button>\n        </Box>\n      </Flex>\n    </>\n  );\n}\n\nconst Spectator = () => (\n  <Flex height=\"100vh\" justifyContent=\"center\" alignItems=\"center\">\n    <Text fontSize={[ 3, 4, 5 ]} fontWeight='bold' color='primary'>\n      You are a Spectator\n    </Text>\n  </Flex>\n)\n\nconst Waiting = () => (\n  <Flex height=\"100vh\" justifyContent=\"center\" alignItems=\"center\">\n    <Text as=\"h1\" fontSize={[ 3, 4, 5 ]} fontWeight='bold' color='primary'>\n      Be patient, the host is setting up your game.\n    </Text>\n  </Flex>\n)\n\nconst findConnectionIsPlayer = ({ players, connectionId }) => (\n  players.findIndex(player => player.connectionId === connectionId) > -1\n)\n\nconst checkIfGameIsFull = ({ state: { players } }) => (\n  players.list.length > players.maxPlayers\n);\n\nconst Guest = ({ children, state, roomId, moves, connectionId }) => {\n  if (!state.players) {\n    return <Waiting/>;\n  }\n\n  const isPlayer = findConnectionIsPlayer({ players: state.players.list, connectionId });\n\n  const onJoin = ({ name, emoji }) => {\n    moves.joinAsAPlayer({ name, emoji });\n  }\n\n  if (state.players.everyoneIsIn) {\n    return isPlayer ? children : <Spectator/>;\n  } else {\n    const gameIsFull = checkIfGameIsFull({ state });\n    return isPlayer || gameIsFull ? <Waiting/> : <JoinScreen onJoin={onJoin}/>;\n  }\n}\n\nexport default Guest;\n","import game from \"./game\";\nimport { Host, Guest, withGuestPlayers, withHostPlayers } from \"./client\";\n\nconst Players = { Host, Guest, game };\n\nexport const withPlayers = (options, { Host: OriginalHost, Guest: OriginalGuest, game: originalGame, ...rest }) => {\n    const NewGuest = withGuestPlayers(OriginalGuest)\n    const NewHost = withHostPlayers(options, OriginalHost)\n    const newGame = { ...game, ...originalGame }\n    return { Guest: NewGuest, Host: NewHost, game: newGame, ...rest  }\n}\n\nexport default Players;\n","import React from \"react\";\nimport Host from \"./Host\";\nimport Guest from \"./Guest\";\n\nconst withGuestPlayers = (Component) => ({ children, ...props }) => (\n    <Guest {...props}>\n        <Component {...props}>\n            {children}\n        </Component>\n    </Guest>\n)\n\nconst withHostPlayers = (options, Component) => ({ children, ...props }) => (\n    <Host {...options} {...props}>\n        <Component {...props}>\n            {children}\n        </Component>\n    </Host>\n)\n\nexport { Host, Guest, withGuestPlayers, withHostPlayers }\n","import { constructDeckOfCards } from \"components/playing-card\";\nimport { withRandom, withSecret, shuffle } from \"@compendium/peer-party\";\n\nconst contextIsHosts = ({ hostId, contextId }) => (\n  hostId === contextId \n);\n\nconst startGame = withSecret(({ state, hostId, contextId }) => {\n  const newState = { ...state, discard: [] };\n  const isHost = contextIsHosts({ hostId, contextId });\n  if (isHost) {\n    newState.deck = constructDeckOfCards();\n  } else {\n    newState.hand = []\n  }\n  return newState;\n})\n\nconst deal = withRandom(withSecret(({ state, random, hostId, contextId, revealSecret }) => {\n  const deck = revealSecret(hostId, s => s.deck)\n  const shuffledDeck = shuffle({ random, array: deck })\n  const isHost = contextIsHosts({ hostId, contextId })\n  if (isHost) {\n    return { ...state, deck: [] }\n  } else {\n    const playerIndex = state.players.list.findIndex(\n      player => player.callerId === contextId\n    )\n    const hand = shuffledDeck.filter(\n      (_, index) => {\n        return (index % state.players.list.length) === playerIndex\n      }\n    )\n    return { ...state, hand }\n  }\n}))\n\nconst game = {\n  startGame,\n  deal,\n}\n\nexport default game;\n","import { Suspense, lazy } from \"react\";\n\nconst withSuspense = (Component) => (props) => (\n  <Suspense fallback=\"Loading...\">\n    <Component {...props}/>\n  </Suspense>\n)\n\nconst Host = withSuspense(lazy(() => import(\"./Host\")))\nconst Guest = withSuspense(lazy(() => import(\"./Guest\")))\n\nexport { Host, Guest }\n","import { withPlayers } from \"components/players\";\nimport game from \"./game\";\nimport { Host, Guest } from \"./client\";\nimport thumbnail from \"./whist.jpg\";\n\nconst name = \"Whist\";\nconst description = \"Whist is a classic English trick-taking card game which was widely played in the 18th and 19th centuries.\"\nconst image = { alt: \"whist game\", src: thumbnail }\n\nconst playersOptions = { minPlayers: 4, maxPlayers: 4 }\n\nconst Whist = withPlayers(playersOptions, { name, description, image, Host, Guest, game });\n\nexport default Whist;\n","export default __webpack_public_path__ + \"static/media/whist.c3db2b56.jpg\";","import { withSecret, withRandom } from \"@compendium/peer-party\";\n\nconst game = {\n  passPotato: withRandom(withSecret(({ callerId, revealSecret, state, random, contextId }) => {\n    if (!revealSecret(callerId, s => s.hotPotato)) {\n      throw new Error(\"Must have potato to throw it\");\n    }\n    const numPlayers = state.players.list.length;\n    const playerIndex = Math.floor(random() * numPlayers);\n    const player = state.players.list[playerIndex];\n    if (player.callerId === contextId) {\n      return { ...state, hotPotato: true }\n    } else {\n      return { ...state, hotPotato: false }\n    }\n  })),\n\n  setBackgroundColour: ({ state, args }) => {\n    return { ...state, backgroundColour: args.backgroundColour };\n  },\n\n  throwPotato: withRandom(withSecret(({ state, random, contextId }) => {\n    const numPlayers = state.players.list.length;\n    const playerIndex = Math.floor(random() * numPlayers);\n    const player = state.players.list[playerIndex];\n    if (player.callerId === contextId) {\n      return { ...state, hotPotato: true }\n    } else {\n      return { ...state, hotPotato: false }\n    }\n  })),\n\n  stopMusic: withSecret(({ state, revealSecret }) => {\n    const hotPotatoPlayer = state.players.list.find(({ callerId  }) => (\n      revealSecret(callerId, s => s.hotPotato)\n    ));\n    return { ...state, loser: hotPotatoPlayer.callerId };\n  }),\n}\n\nexport default game;\n","import { Suspense, lazy } from \"react\";\n\nconst withSuspense = (Component) => (props) => (\n  <Suspense fallback=\"Loading...\">\n    <Component {...props}/>\n  </Suspense>\n)\n\nconst Host = withSuspense(lazy(() => import(\"./Host\")))\nconst Guest = withSuspense(lazy(() => import(\"./Guest\")))\n\nexport { Host, Guest }\n","import game from \"./game\";\nimport { Host, Guest } from \"./client\";\nimport presetTheme from '@rebass/preset'\nimport { withPlayers } from \"components/players\"\nimport thumbnail from \"./hot-potato.jpg\"\n\nconst name = \"Hot Potato\";\nconst theme = presetTheme;\n\nconst description = \"Pass the potato to your friends.\"\nconst image = { alt: \"A potato\", src: thumbnail }\n\nconst HotPotato = withPlayers({ maxPlayers: 16, minPlayers: 2 }, {\n  name,\n  description,\n  image,\n  theme,\n  Host,\n  Guest,\n  game\n})\n\nexport default HotPotato;\n","export default __webpack_public_path__ + \"static/media/hot-potato.1be24716.jpg\";","import Chess from 'chess.js';\n\nconst game = {\n  chessMove: ({ state, args }) => {\n    const chess = new Chess(state.board);\n    if (!chess.move(args.chessMove)) {\n      throw new Error(\"Invalid move\")\n    }\n    return { ...state, board: chess.fen() }\n  }\n}\n\nexport default game;\n","import { Suspense, lazy } from \"react\";\n\nconst withSuspense = (Component) => (props) => (\n  <Suspense fallback=\"Loading...\">\n    <Component {...props}/>\n  </Suspense>\n)\n\nconst Host = withSuspense(lazy(() => import(\"./Host\")))\nconst Guest = withSuspense(lazy(() => import(\"./Guest\")))\n\nexport { Host, Guest }\n","export default __webpack_public_path__ + \"static/media/chess.03b3bcf5.jpg\";","import TicTacToe from \"games/tic-tac-toe\";\nimport Whist from \"games/whist\";\nimport HotPotato from \"games/hot-potato\";\nimport Chess from \"games/chess\";\n\nconst compendium = [\n  Chess,\n  TicTacToe,\n  HotPotato,\n  Whist,\n];\n\nexport default compendium;\n","import game from \"./game\";\nimport { Host, Guest } from \"./client\";\nimport presetTheme from '@rebass/preset'\nimport thumbnail from \"./chess.jpg\"\n\nconst name = \"Chess\";\nconst theme = presetTheme;\n\nconst description = \"Chess is a recreational and competitive board game played between two players.\";\nconst image = { alt: \"A chess board\", src: thumbnail }\n\nconst Chess = { name, theme, image, description, Host, Guest, game };\n\nexport default Chess;\n","import randomWords from \"random-words\";\nimport isEqual from \"lodash/isEqual\";\n\nconst permutations = [\n  [0, 1, 2],\n  [0, 2, 1],\n  [1, 0, 2],\n  [2, 0, 1],\n  [2, 1, 0],\n  [1, 2, 0],\n];\n\nexport const createRoomId = (compendiumIndex) => {\n  const order = permutations[compendiumIndex]\n  const words = randomWords({ exactly: 3 }).sort();\n  const orderedWords = order.map(o => words[o])\n  const roomId = orderedWords.join('-')\n  return roomId\n}\n\nexport const decodeCompendiumIndex = (roomId) => {\n  const words = roomId.split('-')\n  const sortedWords = [...words].sort()\n  const permutation = words.map(word => sortedWords.findIndex((w) => word === w))\n  const compendiumIndex = permutations.findIndex((permu) => isEqual(permu, permutation))\n  return compendiumIndex;\n}\n","import { useState, useEffect } from \"react\";\nimport compendium from \"./compendium\";\nimport { decodeCompendiumIndex } from \"./rooms\";\n\nconst getGame = (roomId) => {\n  const compendiumIndex = decodeCompendiumIndex(roomId)\n  const game = compendium[compendiumIndex];\n  return game;\n}\n\nconst useGame = (roomId) => {\n  const [game, setGame] = useState({ name: null, Host: null, Guest: null, game: null });\n  useEffect(() => setGame(getGame(roomId)), [])\n  return game;\n}\n\nexport default useGame;\n","import { useState } from \"react\";\nimport { Box } from \"rebass/styled-components\";\nimport { Input, Label } from \"@rebass/forms/styled-components\";\nimport uniqueId from 'lodash/uniqueId';\n\nfunction LabelledInput({\n  label,\n  onChange = () => {},\n  value = \"\",\n  placeholder = \"\",\n  ...props\n}) {\n  const [id] = useState(() => uniqueId('input-'))\n  return (\n    <Box>\n      <Label htmlFor={id} color=\"text\" fontFamily=\"body\" my={2}>{label}</Label>\n      <Input id={id} color=\"text\" fontFamily=\"body\" my={2} onChange={onChange} value={value} placeholder={placeholder}/>\n    </Box>\n  );\n}\n\nexport default LabelledInput;","import Input from \"./Input\";\nexport default Input;","import JoinForm from \"./JoinForm\"\nexport default JoinForm;","import React, { useState } from \"react\";\nimport { Box, Button } from \"rebass/styled-components\";\nimport Input from \"components/input\"\n\nconst JoinForm = ({ onJoinGame = () => {} }) => {\n  const [value, set] = useState();\n\n  const onChange = (e) => {\n    set(e.target.value);\n    e.preventDefault();\n  }\n\n  const onSubmit = () => onJoinGame(value);\n\n  return (\n    <Box minWidth=\"10em\" px={2} my={4} width={['60%', '50%', '20em']}>\n      <Input onChange={onChange} value={value} label=\"Enter the code to join a game\"/>\n      <Button my={2} onClick={onSubmit} onKeyPress={onSubmit}>Join Game</Button>\n    </Box>\n  );\n}\n\nexport default JoinForm;","import { useState } from \"react\";\nimport { Box } from \"rebass/styled-components\";\nimport { Label, Select } from \"@rebass/forms/styled-components\";\nimport uniqueId from 'lodash/uniqueId';\n\nfunction Dropdown({ options, onChange, value, label, ...props }) {\n  const [id] = useState(() => uniqueId('input-'))\n  return (\n    <Box>\n      <Label htmlFor={id} color=\"text\" fontFamily=\"body\" my={2}>{label}</Label>\n      <Select id={id} color=\"text\" fontFamily=\"body\" my={2} onChange={onChange} value={value}>\n        {options.map((option, index) =>\n          <option value={index} key={index}>{option}</option>)}\n      </Select>\n    </Box>\n  );\n}\n\nexport default Dropdown;","import Dropdown from \"./Dropdown\";\nexport default Dropdown;","import HostForm from \"./HostForm\";\nexport default HostForm;","import { useState } from \"react\";\nimport { Box, Button } from \"rebass/styled-components\";\nimport Dropdown from \"components/dropdown\";\n\nconst HostForm = ({ compendium = [], onNewGame = () => {} }) => {\n  const [value, set] = useState(0);\n\n  const onChange = (e) => {\n    set(e.target.value);\n    e.preventDefault();\n  }\n\n  const onSubmit = () => onNewGame(value);\n\n  const options = compendium.map(({ name }) => name);\n\n  return (\n    <Box minWidth=\"10em\" px={2} my={4} width={['60%', '50%', '20em']}>\n      <Dropdown options={options} label=\"Choose a game to host...\" onChange={onChange} value={value} />\n      <Button my={2} onClick={onSubmit} onKeyPress={onSubmit}>Host New Game</Button>\n    </Box>\n  )\n}\n\nexport default HostForm;","import toPairs from \"lodash/toPairs\";\nimport { Flex, Heading, Link } from \"rebass/styled-components\";\n\nfunction NavHeading({ children }) {\n  return (\n    <Flex flexGrow={2} justifyContent=\"center\" alignItems=\"center\">\n      <Heading>{children}</Heading>\n    </Flex>\n  ) \n}\n\nfunction NavLink({ children, onKeyPress, onClick, href=\"#\", ...rest }) {\n  const prepareHandler = (handler) => (e) => {\n    e.preventDefault();\n    if (handler) handler();\n    return false;\n  }\n  return (\n    <Flex {...rest} py={2} px={3}>\n      <Link\n        fontFamily=\"heading\"\n        variant=\"nav\"\n        onClick={onClick && prepareHandler(onClick)}\n        onKeyPress={onKeyPress && prepareHandler(onKeyPress)}\n        href={href}\n      >\n        {children}\n      </Link>\n    </Flex>\n  )\n}\n\nfunction MenuItem ({ children, ...rest }) {\n  return (\n    <NavLink flexGrow=\"1\" justifyContent=\"center\" {...rest}>{children}</NavLink>\n  )\n}\n\nfunction Nav ({ children }) {\n  return (\n    <Flex flexWrap=\"wrap\" p={1} backgroundColor={\"muted\"}>\n      {children}\n    </Flex>\n  )\n}\n\nfunction NavMenu ({ children, hidden }) {\n  if (hidden) return null;\n  return (\n    <Flex flexWrap=\"wrap\" p={1} backgroundColor={\"highlight\"}>\n      {children}\n    </Flex>\n  )\n}\n\nfunction NavBar ({\n  leftButtonLabel = \"Home\",\n  leftButtonHandler = () => {},\n  title = \"Compendium Games\",\n  onMenuToggle = () => {},\n  menuIsHidden = false,\n  menuItems = {}\n }) {\n  // const history = useHistory();\n  // const goHome = () => history.push(\"/\")\n  return (\n    <>\n      <Nav>\n        <NavLink onClick={leftButtonHandler} onKeyPress={leftButtonHandler}>{leftButtonLabel}</NavLink>\n        <NavHeading>{title}</NavHeading>\n        <NavLink onClick={onMenuToggle} onKeyPress={onMenuToggle}>\n          {menuIsHidden ? \"Menu\" : \"Close\"}\n        </NavLink>\n      </Nav>\n      <NavMenu hidden={menuIsHidden}>\n        {toPairs(menuItems).map(([label, handler], index) => (\n          handler.constructor === String ? (\n            <MenuItem key={index} href={handler}>{label}</MenuItem>\n          ) : (\n            <MenuItem key={index} onClick={handler} onKeyPress={handler}>{label}</MenuItem>\n          )\n        ))}\n      </NavMenu>\n    </>\n  )\n}\n\nexport default NavBar;","import NavBar from \"./NavBar\";\nexport default NavBar;","import { Suspense, lazy } from \"react\";\nimport { Heading, Flex } from \"rebass/styled-components\";\n\nconst ReactTyped = lazy(() => import(\"react-typed\"));\n\nconst TypedBanner = ({ typedSentences, stopped = false }) => (\n  <Flex px=\"20%\" py={5} my={4} backgroundColor=\"secondary\">\n    <Heading color=\"muted\" sx={{ userSelect: \"none\" }}>\n      <Suspense fallback=\"Loading...\">\n        <ReactTyped\n          strings={typedSentences}\n          typeSpeed={50}\n          backSpeed={50}\n          backDelay={1}\n          loop\n          smartBackspace\n          stopped={stopped}\n        />\n      </Suspense>\n    </Heading>\n  </Flex>\n);\n\nexport default TypedBanner;","import TypedBanner from \"./TypedBanner\";\nexport default TypedBanner;","import Paragraph from \"components/paragraph\";\nimport Heading from \"components/heading\";\nimport { Button, Box, Card, Image, Flex } from \"rebass/styled-components\";\n\nconst leftWidthVariants = {\n  primary: [\"20em\", \"22em\"],\n  secondary: [\"14em\", \"16em\"],\n};\n\nconst rightWidthVariants = {\n  primary: [\"14em\", \"16em\"],\n  secondary: [\"10em\", \"12em\"],\n};\n\nconst CallToActionCard = ({\n  imageSrc,\n  imageAlt,\n  headingText,\n  bodyText,\n  onAction = () => {},\n  buttonLabel,\n  variant = \"primary\",\n}) => {\n  const leftWidth = leftWidthVariants[variant];\n  const rightWidth = rightWidthVariants[variant];\n  return (\n    <Card m={3} display=\"inline-flex\">\n      <Flex flexDirection=\"row\" height=\"100%\">\n        <Flex width={leftWidth} backgroundColor=\"gray\" alignItems=\"center\" justifyContent=\"center\" m={3}>\n          <Image src={imageSrc} alt={imageAlt} />\n        </Flex>\n        <Box width={rightWidth} m={3} pt={2}>\n          <Heading variant={variant}>{headingText}</Heading>\n          <Paragraph>{bodyText}</Paragraph>\n          <Flex justifyContent=\"end\" mt={3}>\n            <Button\n              onClick={onAction}\n              onKeyPress={onAction}\n              variant={variant}\n            >\n              {buttonLabel}\n            </Button>\n          </Flex>\n        </Box>\n      </Flex>\n    </Card>\n  );\n}\n\nexport default CallToActionCard;","import CallToActionCard from \"./CallToActionCard\";\nexport default CallToActionCard;","import { useReducer } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { createRoomId } from \"./rooms\";\nimport compendium from \"./compendium\";\nimport { Flex } from \"rebass/styled-components\";\nimport JoinForm from \"components/join-form\";\nimport HostForm from \"components/host-form\";\nimport NavBar from \"components/navbar\";\nimport TypedBanner from \"components/typed-banner\";\nimport CallToActionCard from \"components/cta-card\"\n\nconst Home = ({ stopped }) => {\n  const { push } = useHistory();\n  const [hideMenu, toggleMenu] = useReducer(o => !o, true)\n\n  const onNewGame = (compendiumIndex) => {\n    const roomId = createRoomId(compendiumIndex);\n    push(`/host/${roomId}`)\n  }\n\n  const onJoinGame = (roomId) => {\n    push(`/guest/${roomId}`)\n  }\n\n  const onGoHome = () => push(\"/\");\n\n  const menuItems = {\n    GitHub: \"https://www.github.com/SmileyJames/compendium\",\n    Documentation: \"/docs\",\n    Storybook: \"/storybook\",\n  }\n\n  const typedSentences = \n    compendium.map(o => o.name).map(name => `Remotely play a game of ${name}!`)\n\n  return (\n    <>\n      <NavBar leftButtonHandler={onGoHome} menuIsHidden={hideMenu} onMenuToggle={toggleMenu} menuItems={menuItems} />\n      <Flex flexWrap=\"wrap\" flexDirection=\"row\" justifyContent=\"space-evenly\">\n        <HostForm compendium={compendium} onNewGame={onNewGame} />\n        <JoinForm onJoinGame={onJoinGame} />\n      </Flex>\n      <TypedBanner stopped={stopped} typedSentences={typedSentences}/>\n      <Flex justifyContent=\"space-around\" flexDirection=\"row\" flexWrap=\"wrap\">\n        {\n          compendium.map(\n            ({ name, image, description }, index) => (\n              <CallToActionCard\n                key={index}\n                variant={index === 0 ? \"primary\" : \"secondary\"}\n                headingText={name}\n                imageSrc={image.src}\n                imageAlt={image.alt}\n                bodyText={description}\n                onAction={() => onNewGame(index)}\n                buttonLabel={`Start ${name}`}\n              />\n            )\n          )\n        }\n      </Flex>\n    </>\n  )\n}\n\nexport default Home;\n","import base from '@rebass/preset'\nimport merge from \"lodash/merge\";\n\nmerge(base, {\n  fonts: {\n    heading: \"'Montserrat', sans-serif\",\n    body: \"'Roboto', sans-serif\",\n  }\n})\nexport default base;\n","import { ThemeProvider } from \"styled-components\";\nimport { usePartyHost, usePartyGuest } from \"@compendium/peer-party\";\nimport { HashRouter, Switch, Route, useParams } from \"react-router-dom\";\nimport useGame from \"./useGame\";\nimport Home from \"./Home\";\nimport baseTheme from \"./theme\"\n\nconst HostRoute = () => {\n  const { roomId } = useParams();\n  const { theme, Host, game } = useGame(roomId);\n  const { state, moves, connections } = usePartyHost({ roomId, game });\n  return (\n    <ThemeProvider theme={theme || baseTheme}>\n      {Host && <Host roomId={roomId} state={state} moves={moves} connections={connections} />}\n    </ThemeProvider>\n  )\n}\n\nconst GuestRoute = () => {\n  const { roomId } = useParams();\n  const { theme,  Guest, game } = useGame(roomId);\n  const { connectionId, connected, state, moves } = usePartyGuest({ roomId, game });\n  return (\n    <ThemeProvider theme={theme || baseTheme}>\n      {Guest && <Guest connectionId={connectionId} roomId={roomId} connected={connected} state={state} moves={moves}/>}\n    </ThemeProvider>\n  )\n}\n\nconst Router = () =>\n  <HashRouter>\n    <Switch>\n      <Route path=\"/host/:roomId\">\n        <HostRoute/>\n      </Route>\n      <Route path=\"/guest/:roomId\">\n        <GuestRoute/>\n      </Route>\n      <Route exact path=\"/\">\n        <ThemeProvider theme={baseTheme}>\n          <Home/>\n        </ThemeProvider>\n      </Route>\n    </Switch>\n  </HashRouter>\n\nexport default Router;\n","import Router from \"./Router\";\nimport { createGlobalStyle } from \"styled-components\"\n\nconst NormaliseStyles = createGlobalStyle`\n  body, html, #root {\n    margin: 0;\n    height: 100%;\n  }\n`\n\nconst App = () =>\n  <>\n    <Router/>\n    <NormaliseStyles/>\n  </>\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { Text } from \"rebass/styled-components\";\n\nfunction Paragraph ({ children, ...props }) {\n  return (\n    <Text {...props} as=\"p\" color=\"text\" fontFamily=\"body\" fontSize={[1,2,3]}>\n      {children}\n    </Text>\n  );\n}\n\nexport default Paragraph;","import Paragraph from \"./Paragraph\";\nexport default Paragraph;","import React, { memo } from 'react'\nimport twemoji from 'twemoji'\n\nconst Emoji = memo(({ emoji }) => (\n  <span\n    dangerouslySetInnerHTML={{\n      __html: twemoji.parse(emoji, { folder: 'svg', ext: '.svg' }),\n    }}\n  />\n));\n\nexport default Emoji;","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Picker } from 'emoji-mart';\nimport 'emoji-mart/css/emoji-mart.css';\n\nconst Background = styled.div`\n  background-color: rgba(0, 0, 0, 0.8);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Wrapper = styled.div`\n  display: inline-block;\n`;\n \nconst EmojiPicker = ({ onSelectEmoji, onHide }) => {\n  const onSelect = (emoji) => {\n    onSelectEmoji(emoji.native);\n  }\n  return (\n    <Background tabIndex onKeyPress={onHide} onClick={onHide}>\n      <Wrapper onClick={(e) => e.stopPropagation()}>\n        <Picker onSelect={onSelect} set=\"twitter\" />\n      </Wrapper>\n    </Background>\n  );\n};\n\nexport default EmojiPicker;","import Emoji from \"./Emoji\";\nimport EmojiPicker from \"./EmojiPicker\";\n\nexport default Emoji;\nexport { EmojiPicker }","import { Heading } from \"rebass/styled-components\";\n\nconst fontSizeVariants = {\n  primary: [4,5,6],\n  secondary: [3,4,5],\n}\n\nconst asVariants = {\n  primary: \"h1\",\n  secondary: \"h2\",\n}\n\nfunction Header({ children, variant = \"primary\", ...props }) {\n  const fontSize = fontSizeVariants[variant];\n  const as = asVariants[variant];\n  return (\n    <Heading color=\"text\" fontFamily=\"heading\" fontSize={fontSize} as={as} {...props}>\n      {children}\n    </Heading>\n  );\n}\n\nexport default Header;","import Heading from \"./Heading\";\nexport default Heading;","export const NOUGHTS = 1;\nexport const CROSSES = 2;\n\nconst startGame = ({ state, callerId, args }) => ({\n  crossesPlayer: args.crossesConnId,\n  noughtsPlayer: args.noughtsConnId,\n  board: Array(9).fill(null),\n});\n\nconst fillSquare = ({ state, callerId, args }) => {\n  let player = null\n  if (callerId === state.crossesPlayer) {\n    player = CROSSES;\n  } else if (callerId === state.noughtsPlayer) {\n    player = NOUGHTS;\n  } else {\n    throw new Error('Connection is not a player');\n  }\n\n  if (state.board[args.position] !== null) {\n    throw new Error('Position filled');\n  }\n\n  const board = [...state.board];\n  board.splice(args.position, 1, player);\n\n  return ({\n    ...state,\n    board,\n  })\n}\n\nconst TicTacToe = {\n  fillSquare,\n  startGame,\n}\n\nexport default TicTacToe;\n","export default __webpack_public_path__ + \"static/media/AH.1a5ea790.svg\";","export default __webpack_public_path__ + \"static/media/AC.0e3c2151.svg\";","export default __webpack_public_path__ + \"static/media/AD.5c4da062.svg\";","export default __webpack_public_path__ + \"static/media/AS.0beacefa.svg\";","export default __webpack_public_path__ + \"static/media/2H.cb701b97.svg\";","export default __webpack_public_path__ + \"static/media/2C.276c3f69.svg\";","export default __webpack_public_path__ + \"static/media/2D.bc21ec2a.svg\";","export default __webpack_public_path__ + \"static/media/2S.ec187ad2.svg\";","export default __webpack_public_path__ + \"static/media/3H.cba17cfa.svg\";","export default __webpack_public_path__ + \"static/media/3C.4defbcf5.svg\";","export default __webpack_public_path__ + \"static/media/3D.8d12a3fc.svg\";","export default __webpack_public_path__ + \"static/media/3S.ed80cdda.svg\";","export default __webpack_public_path__ + \"static/media/4H.8924ea52.svg\";","export default __webpack_public_path__ + \"static/media/4C.3ebe0e73.svg\";","export default __webpack_public_path__ + \"static/media/4D.433a1ecc.svg\";","export default __webpack_public_path__ + \"static/media/4S.7e474260.svg\";","export default __webpack_public_path__ + \"static/media/5H.04a38bb9.svg\";","export default __webpack_public_path__ + \"static/media/5C.809e552d.svg\";","export default __webpack_public_path__ + \"static/media/5D.03b1a4af.svg\";","export default __webpack_public_path__ + \"static/media/5S.f4e082a6.svg\";","export default __webpack_public_path__ + \"static/media/6H.5380d254.svg\";","export default __webpack_public_path__ + \"static/media/6C.1f69ca79.svg\";","export default __webpack_public_path__ + \"static/media/6D.8c9d26ce.svg\";","export default __webpack_public_path__ + \"static/media/6S.33eb8c1b.svg\";","export default __webpack_public_path__ + \"static/media/7H.156a2f08.svg\";","export default __webpack_public_path__ + \"static/media/7C.cb6a5b5c.svg\";","export default __webpack_public_path__ + \"static/media/7D.bc93fd45.svg\";","export default __webpack_public_path__ + \"static/media/7S.f91490c5.svg\";","export default __webpack_public_path__ + \"static/media/8H.878dbca5.svg\";","export default __webpack_public_path__ + \"static/media/8C.e91af699.svg\";","export default __webpack_public_path__ + \"static/media/8D.ca4420e9.svg\";","export default __webpack_public_path__ + \"static/media/8S.fd5cd6f8.svg\";","export default __webpack_public_path__ + \"static/media/9H.57bfd8e3.svg\";","export default __webpack_public_path__ + \"static/media/9C.c6a841cc.svg\";","export default __webpack_public_path__ + \"static/media/9D.3d612a15.svg\";","export default __webpack_public_path__ + \"static/media/9S.6c7e4615.svg\";","export default __webpack_public_path__ + \"static/media/10H.c8c8e4de.svg\";","export default __webpack_public_path__ + \"static/media/10C.0cc64a48.svg\";","export default __webpack_public_path__ + \"static/media/10D.956683a1.svg\";","export default __webpack_public_path__ + \"static/media/10S.99cb26ab.svg\";","export default __webpack_public_path__ + \"static/media/JH.86f58f4f.svg\";","export default __webpack_public_path__ + \"static/media/JC.b801c5a7.svg\";","export default __webpack_public_path__ + \"static/media/JD.a0e75607.svg\";","export default __webpack_public_path__ + \"static/media/JS.1a6f34e2.svg\";","export default __webpack_public_path__ + \"static/media/QH.f56614ef.svg\";","export default __webpack_public_path__ + \"static/media/QC.3eb5bae0.svg\";","export default __webpack_public_path__ + \"static/media/QD.c20eb8d2.svg\";","export default __webpack_public_path__ + \"static/media/QS.cc68ac97.svg\";","export default __webpack_public_path__ + \"static/media/KH.3d6b1be6.svg\";","export default __webpack_public_path__ + \"static/media/KC.ca193598.svg\";","export default __webpack_public_path__ + \"static/media/KD.32d1a9f8.svg\";","export default __webpack_public_path__ + \"static/media/KS.b54b6bba.svg\";","export default __webpack_public_path__ + \"static/media/JOKER.96be08d3.svg\";","const SUITS = ['H', 'D', 'S', 'C'];\nconst JOKER = 0,\n  ACE = 1,\n  JACK = 11,\n  QUEEN = 12,\n  KING = 13;\nconst VALUES = [ACE, 2, 3, 4, 5, 6, 7, 8, 9, 10, JACK, QUEEN, KING];\n\nexport {\n  SUITS,\n  VALUES,\n  JOKER,\n  ACE,\n  JACK,\n  QUEEN,\n  KING,\n}\n","import { JOKER, SUITS, VALUES } from \"./model\";\n\nconst constructDeckOfCards = ({ jokers = 0 } = {}) => {\n  const cards = []\n  for (let suit of SUITS) {\n    for (let value of VALUES) {\n      cards.push({ suit, value });\n    }\n  }\n\n  for (let i = 0; i < jokers; i++) {\n    cards.push({ suit: null, value: JOKER });\n  }\n\n  return cards;\n}\n\n\nexport default constructDeckOfCards;\n","import React from 'react'\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  margin-bottom: -9em;\n  margin-right: -3em;\n\n  ${({ order }) => order && `order: ${order};`}\n`;\n\nconst UnSelectable = styled.div`\n  position: relative;\n  margin-top: 2em;\n`;\n\nconst Selectable = styled(UnSelectable)`\n  &:hover {\n    margin-top: 1em;\n    margin-bottom: 1em;\n    cursor: pointer;\n  }\n\n  ${({ isSelected }) => isSelected && `\n    margin-top: 0em;\n    margin-bottom: 2em;\n\n    &:hover {\n      margin-top: 0em;\n      margin-bottom: 2em;\n    }\n  `}\n`;\n\nconst Overlay = styled.div`\n  opacity: 0.4;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 0.5em;\n\n  ${({ isSelected, selectColor }) => isSelected && selectColor && `\n    background-color: ${selectColor};\n  `}\n`;\n\nconst FaceImg = styled.img`\n  width: 9em;\n  display: block;\n`;\n\nconst SelectableFace = ({ isSelected, selectColor, faceImage, altText, onClick }) => (\n  <Selectable isSelected={isSelected}>\n    <FaceImg src={faceImage} alt={altText} />\n    <Overlay isSelected={isSelected} selectColor={selectColor} onClick={onClick}/>\n  </Selectable>\n);\n\nconst UnSelectableFace = ({ faceImage, altText }) => (\n  <UnSelectable>\n    <FaceImg src={faceImage} alt={altText}/>\n  </UnSelectable>\n);\n\nconst Card = ({ order, canBeSelected, isSelected, selectColor, faceImage, altText, onClick }) => {\n  const Face = canBeSelected ? SelectableFace : UnSelectableFace;\n  return (\n    <Container order={order}>\n      <Face isSelected={isSelected} selectColor={selectColor} faceImage={faceImage} altText={altText} onClick={onClick} />\n    </Container>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport HA from './cards/AH.svg'\nimport CA from './cards/AC.svg'\nimport DA from './cards/AD.svg'\nimport SA from './cards/AS.svg'\nimport H2 from './cards/2H.svg'\nimport C2 from './cards/2C.svg'\nimport D2 from './cards/2D.svg'\nimport S2 from './cards/2S.svg'\nimport H3 from './cards/3H.svg'\nimport C3 from './cards/3C.svg'\nimport D3 from './cards/3D.svg'\nimport S3 from './cards/3S.svg'\nimport H4 from './cards/4H.svg'\nimport C4 from './cards/4C.svg'\nimport D4 from './cards/4D.svg'\nimport S4 from './cards/4S.svg'\nimport H5 from './cards/5H.svg'\nimport C5 from './cards/5C.svg'\nimport D5 from './cards/5D.svg'\nimport S5 from './cards/5S.svg'\nimport H6 from './cards/6H.svg'\nimport C6 from './cards/6C.svg'\nimport D6 from './cards/6D.svg'\nimport S6 from './cards/6S.svg'\nimport H7 from './cards/7H.svg'\nimport C7 from './cards/7C.svg'\nimport D7 from './cards/7D.svg'\nimport S7 from './cards/7S.svg'\nimport H8 from './cards/8H.svg'\nimport C8 from './cards/8C.svg'\nimport D8 from './cards/8D.svg'\nimport S8 from './cards/8S.svg'\nimport H9 from './cards/9H.svg'\nimport C9 from './cards/9C.svg'\nimport D9 from './cards/9D.svg'\nimport S9 from './cards/9S.svg'\nimport H10 from './cards/10H.svg'\nimport C10 from './cards/10C.svg'\nimport D10 from './cards/10D.svg'\nimport S10 from './cards/10S.svg'\nimport HJ from './cards/JH.svg'\nimport CJ from './cards/JC.svg'\nimport DJ from './cards/JD.svg'\nimport SJ from './cards/JS.svg'\nimport HQ from './cards/QH.svg'\nimport CQ from './cards/QC.svg'\nimport DQ from './cards/QD.svg'\nimport SQ from './cards/QS.svg'\nimport HK from './cards/KH.svg'\nimport CK from './cards/KC.svg'\nimport DK from './cards/KD.svg'\nimport SK from './cards/KS.svg'\nimport JKR from './cards/JOKER.svg'\nimport { JOKER, ACE, KING, QUEEN, JACK } from '../game'\nimport Card from \"./Card\";\n\nconst getFaceImage = ({ suit, value }) => {\n  if (value === JOKER) {\n    return JKR\n  } else if (value === ACE && suit === 'H') {\n    return HA\n  } else if (value === ACE && suit === 'D') {\n    return DA\n  } else if (value === ACE && suit === 'S') {\n    return SA\n  } else if (value === ACE && suit === 'C') {\n    return CA\n  } else if (value === 2 && suit === 'H') {\n    return H2\n  } else if (value === 2 && suit === 'D') {\n    return D2\n  } else if (value === 2 && suit === 'S') {\n    return S2\n  } else if (value === 2 && suit === 'C') {\n    return C2\n  } else if (value === 3 && suit === 'H') {\n    return H3\n  } else if (value === 3 && suit === 'D') {\n    return D3\n  } else if (value === 3 && suit === 'S') {\n    return S3\n  } else if (value === 3 && suit === 'C') {\n    return C3\n  } else if (value === 4 && suit === 'H') {\n    return H4\n  } else if (value === 4 && suit === 'D') {\n    return D4\n  } else if (value === 4 && suit === 'S') {\n    return S4\n  } else if (value === 4 && suit === 'C') {\n    return C4\n  } else if (value === 5 && suit === 'H') {\n    return H5\n  } else if (value === 5 && suit === 'D') {\n    return D5\n  } else if (value === 5 && suit === 'S') {\n    return S5\n  } else if (value === 5 && suit === 'C') {\n    return C5\n  } else if (value === 6 && suit === 'H') {\n    return H6\n  } else if (value === 6 && suit === 'D') {\n    return D6\n  } else if (value === 6 && suit === 'S') {\n    return S6\n  } else if (value === 6 && suit === 'C') {\n    return C6\n  } else if (value === 7 && suit === 'H') {\n    return H7\n  } else if (value === 7 && suit === 'D') {\n    return D7\n  } else if (value === 7 && suit === 'S') {\n    return S7\n  } else if (value === 7 && suit === 'C') {\n    return C7\n  } else if (value === 8 && suit === 'H') {\n    return H8\n  } else if (value === 8 && suit === 'D') {\n    return D8\n  } else if (value === 8 && suit === 'S') {\n    return S8\n  } else if (value === 8 && suit === 'C') {\n    return C8\n  } else if (value === 9 && suit === 'H') {\n    return H9\n  } else if (value === 9 && suit === 'D') {\n    return D9\n  } else if (value === 9 && suit === 'S') {\n    return S9\n  } else if (value === 9 && suit === 'C') {\n    return C9\n  } else if (value === 10 && suit === 'H') {\n    return H10\n  } else if (value === 10 && suit === 'D') {\n    return D10\n  } else if (value === 10 && suit === 'S') {\n    return S10\n  } else if (value === 10 && suit === 'C') {\n    return C10\n  } else if (value === JACK && suit === 'H') {\n    return HJ\n  } else if (value === JACK && suit === 'D') {\n    return DJ\n  } else if (value === JACK && suit === 'S') {\n    return SJ\n  } else if (value === JACK && suit === 'C') {\n    return CJ\n  } else if (value === QUEEN && suit === 'H') {\n    return HQ\n  } else if (value === QUEEN && suit === 'D') {\n    return DQ\n  } else if (value === QUEEN && suit === 'S') {\n    return SQ\n  } else if (value === QUEEN && suit === 'C') {\n    return CQ\n  } else if (value === KING && suit === 'H') {\n    return HK\n  } else if (value === KING && suit === 'D') {\n    return DK\n  } else if (value === KING && suit === 'S') {\n    return SK\n  } else if (value === KING && suit === 'C') {\n    return CK\n  }\n}\n\nconst getAltText = ({ value, suit }) => {\n  if (value === JOKER) {\n    return '🃏 Joker'\n  } else if (value === ACE && suit === 'H') {\n    return '🂱 Ace of Hearts'\n  } else if (value === ACE && suit === 'D') {\n    return '🃁 Ace of Diamonds'\n  } else if (value === ACE && suit === 'S') {\n    return '🂡 Ace of Spaces'\n  } else if (value === ACE && suit === 'C') {\n    return '🃑 Ace of Clubs'\n  } else if (value === 2 && suit === 'H') {\n    return '🂲 Two of Hearts'\n  } else if (value === 2 && suit === 'D') {\n    return '🃂 Two of Diamonds'\n  } else if (value === 2 && suit === 'S') {\n    return '🂢 Two of Spades'\n  } else if (value === 2 && suit === 'C') {\n    return '🃒 Two of Clubs'\n  } else if (value === 3 && suit === 'H') {\n    return '🂳 Three of Hearts'\n  } else if (value === 3 && suit === 'D') {\n    return '🃃 Three of Diamonds'\n  } else if (value === 3 && suit === 'S') {\n    return '🂣 Three of Spades'\n  } else if (value === 3 && suit === 'C') {\n    return '🃓 Three of Clubs'\n  } else if (value === 4 && suit === 'H') {\n    return '🂴 Four of Hearts'\n  } else if (value === 4 && suit === 'D') {\n    return '🃄 Four of Diamonds'\n  } else if (value === 4 && suit === 'S') {\n    return '🂤 Four of Spades'\n  } else if (value === 4 && suit === 'C') {\n    return '🃔 Four of Clubs'\n  } else if (value === 5 && suit === 'H') {\n    return '🂵 Five of Hearts'\n  } else if (value === 5 && suit === 'D') {\n    return '🃅 Five of Diamonds'\n  } else if (value === 5 && suit === 'S') {\n    return '🂥 Five of Spades'\n  } else if (value === 5 && suit === 'C') {\n    return '🃕 Five of Clubs'\n  } else if (value === 6 && suit === 'H') {\n    return '🂶 Six of Hearts'\n  } else if (value === 6 && suit === 'D') {\n    return '🃆 Six of Diamomnds'\n  } else if (value === 6 && suit === 'S') {\n    return '🂦 Six of Spades'\n  } else if (value === 6 && suit === 'C') {\n    return '🃖 Six of Clubs'\n  } else if (value === 7 && suit === 'H') {\n    return '🂷 Seven of Hearts'\n  } else if (value === 7 && suit === 'D') {\n    return '🃇 Seven of Diamonds'\n  } else if (value === 7 && suit === 'S') {\n    return '🂧 Seven of Spades'\n  } else if (value === 7 && suit === 'C') {\n    return '🃗 Seven of Clubs'\n  } else if (value === 8 && suit === 'H') {\n    return '🂸 Eight of Hearts'\n  } else if (value === 8 && suit === 'D') {\n    return '🃈 Eight of Diamonds'\n  } else if (value === 8 && suit === 'S') {\n    return '🂨 Eight of Spades'\n  } else if (value === 8 && suit === 'C') {\n    return '🃘 Eight of Clubs'\n  } else if (value === 9 && suit === 'H') {\n    return '🂹 Nine of Hearts'\n  } else if (value === 9 && suit === 'D') {\n    return '🃉 Nine of Diamonds'\n  } else if (value === 9 && suit === 'S') {\n    return '🂩 Nine of Spades'\n  } else if (value === 9 && suit === 'C') {\n    return '🃙 Nine of Clubs'\n  } else if (value === 10 && suit === 'H') {\n    return '🂺 Ten of Hearts'\n  } else if (value === 10 && suit === 'D') {\n    return '🃊 Ten of Diamonds'\n  } else if (value === 10 && suit === 'S') {\n    return '🂪 Ten of Spades'\n  } else if (value === 10 && suit === 'C') {\n    return '🃚 Ten of Clubs'\n  } else if (value === JACK && suit === 'H') {\n    return '🂻 Jack of Hearts'\n  } else if (value === JACK && suit === 'D') {\n    return '🃋 Jack of Diamonds'\n  } else if (value === JACK && suit === 'S') {\n    return '🂫 Jack of Spades'\n  } else if (value === JACK && suit === 'C') {\n    return '🃛 Jack of Clubs'\n  } else if (value === QUEEN && suit === 'H') {\n    return '🂽 Queen of Hearts'\n  } else if (value === QUEEN && suit === 'D') {\n    return '🃍 Queen of Diamonds'\n  } else if (value === QUEEN && suit === 'S') {\n    return '🂭 Queen of Spades'\n  } else if (value === QUEEN && suit === 'C') {\n    return '🃝 Queen of Clubs'\n  } else if (value === KING && suit === 'H') {\n    return '🂾 King of Hearts'\n  } else if (value === KING && suit === 'D') {\n    return '🃞 King of Diamonds'\n  } else if (value === KING && suit === 'S') {\n    return '🂮 King of Spades'\n  } else if (value === KING && suit === 'C') {\n    return '🃞 King of Clubs'\n  }\n}\n\nconst CardFront = ({ value, suit, canBeSelected = false, isSelected = false, selectColor = null }) => {\n  console.log(\"select\", selectColor);\n  const faceImage = getFaceImage({ value, suit });\n  const altText = getAltText({ value, suit });\n  return (\n    <Card faceImage={faceImage} altText={altText} isSelected={isSelected} canBeSelected={canBeSelected} selectColor={selectColor}/>\n  );\n}\n\nexport default CardFront;\n","export default __webpack_public_path__ + \"static/media/RED_BACK.eea8c6b0.svg\";","export default __webpack_public_path__ + \"static/media/BLUE_BACK.d7aabd90.svg\";","import React from \"react\";\nimport RED_BACK from './cards/RED_BACK.svg'\nimport BLUE_BACK from './cards/BLUE_BACK.svg'\nimport Card from \"./Card\";\n\nconst getFaceImage = ({ colour }) => {\n  if (colour === 'R') {\n    return RED_BACK\n  } else if (colour === 'B') {\n    return BLUE_BACK\n  }\n}\n\nconst CardBack = ({ colour, isSelected = false, canBeSelected = false, selectColor = null }) => {\n  const faceImage = getFaceImage({ colour });\n  return (\n    <Card faceImage={faceImage} altText='🂠 Card Back' isSelected={isSelected} canBeSelected={canBeSelected} selectColor={selectColor}/>\n  );\n}\n\nexport default CardBack;\n","export default __webpack_public_path__ + \"static/media/felt.5b148bae.png\";","import styled from \"styled-components\";\nimport felt from \"./felt.png\";\n\nconst FeltTable = styled.div`\n  background-color: rgb(10, 80, 20);\n  background-image: url(${felt});\n  height: 100%;\n  padding: 5%;\n`;\n\nexport default FeltTable;\n","import styled from \"styled-components\";\n\nconst Hand = styled.section`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  max-height: 50%;\n\n  padding-right: 3em;\n  padding-bottom: 9em;\n`;\n\nexport default Hand;\n","import { PlayingCardFront } from \"./client\";\nexport * from \"./client\";\nexport * from \"./game\";\nexport default PlayingCardFront;"],"sourceRoot":""}