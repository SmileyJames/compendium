(this["webpackJsonp@compendium/app"]=this["webpackJsonp@compendium/app"]||[]).push([[0],{143:function(e,t){},144:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=144},202:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(83),a=n.n(c),i=n(9),s=n(6),u=n(84),l=n.n(u),d=n(60),f=n(49),m=n.n(f),j=n(50),b=n(85),v=n.n(b),h=n(86),g=n.n(h),O=n(204);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function S(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function y(e,t,n){var r=Object(o.useState)((function(){var o=e.getItem(t);return o?JSON.parse(null!=o?o:""):n instanceof Function?n():n})),c=r[0],a=r[1];return Object(o.useEffect)((function(){e.setItem(t,JSON.stringify(c))}),[t,c,e]),[c,a]}function I(e){return e._isRandom=!0,e}var C=function(e){return e._isRandom};function w(e){return e._isSecret=!0,e}var H=function(e){return e._isSecret};function k(e){var t=e.actions,n=e.contextId,o=e.controller,r=e.seed,c=e.initialState,a=void 0===c?{}:c;return t.reduce((function(e,t){try{var c=function(e){var t,n=e.state,o=e.contextId,r=e.action,c=e.controller,a=e.seed,i=c.game[r.move],s=p({index:null},r),u=C(i),l=H(i);u&&a&&(s.seed=a);var f={state:n,hostId:c.roomId,callerId:r.connectionId,args:r.args},j=u?{random:m()(s.seed)}:null,b=l?{contextId:o,revealSecret:c.revealSecret}:null;if(j&&!l)return{state:t=i(p({},f,j)),event:s};if(b)return u||(t=i(p({},f,b))),j&&(t=i(p({},f,b,j))),s.patch=Object(d.diff)(n,t),{state:t,event:s};return{state:t=i(f),event:s}}({state:e.state,contextId:n,action:t,controller:o,seed:r}),a=c.state,i=c.event;return{state:a,eventLog:[].concat(e.eventLog,[i])}}catch(s){return console.error("Invalid Event",s),e}}),{state:a,eventLog:[]})}function D(e){return Object(o.useCallback)((function(t){var n,o;(function(e,t){var n=t.game[e.move];return C(n)})(t,e.controller)&&(o=e.controller.random,n=o().toString());for(var r,c=function(){var o=r.value,c=k({initialState:e.states[o],actions:[t],controller:e.controller,contextId:o,seed:n});c.eventLog.forEach((function(t){return e.logEvent({connectionId:o,event:t})})),e.setState({contextId:o,state:c.state})},a=S([].concat(e.connectionIds,[e.controller.roomId]));!(r=a()).done;)c()}),[e])}function P(e){var t=e.roomId,n=e.game,r=e.random,c=e.connectionIds,a=e.eventLogs,i=e.logEvent,s=function(e){var t=y(window.localStorage,"hostState-"+e,{}),n=t[0],r=t[1];return{states:n,setState:Object(o.useCallback)((function(e){var t=e.contextId,n=e.state;r((function(e){var o;return p({},e,((o={})[t]=n,o))}))}),[r])}}(t),u=s.states,l=s.setState,d=Object(o.useMemo)((function(){return{logEvent:i,setState:l,connectionIds:c,controller:{roomId:t,game:n,random:r,revealSecret:function(e,t){return t(u[e])}},states:u,eventLogs:a}}),[u,a,t,n,r,i,l,c]);!function(e){Object(o.useEffect)((function(){var t,n=e.connectionIds.filter((function(t){var n;return!e.states[t]&&!(null!==(n=e.eventLogs[t])&&void 0!==n&&n.length)}))[0];if(n){var o=k({actions:null!=(t=e.eventLogs[e.controller.roomId])?t:[],controller:e.controller,contextId:n});o.eventLog.forEach((function(t){return e.logEvent({connectionId:n,event:t})})),e.setState({contextId:n,state:o.state})}}),[e])}(d);var f=D(d);return{state:Object(o.useMemo)((function(){return u[t]||{}}),[t,u]),input:f}}var T=function(e){var t=e.peer,n=e.setPeer;t&&t.destroy(),n(null)},E={host:"signalling.compendium.games",secure:!0};function F(e){var t=Object(o.useState)(null),n=t[0],r=t[1],c=Object(o.useState)(!1),a=c[0],i=c[1],s=Object(o.useReducer)((function(e){return e+1}),0),u=s[0],l=s[1];return Object(o.useEffect)((function(){if(!a){var t=new v.a(e,E);r(t);var n=function(){i(!1),T({peer:t,setPeer:r}),l()},o=setTimeout(n,1e3);t.on("open",(function(){clearTimeout(o),i(!0)}));var c=function(){clearTimeout(o),o=setTimeout(n,1e3)};return t.on("close",c),t.on("disconnected",c),t.on("error",c),function(){T({peer:t,setPeer:r}),clearTimeout(o)}}}),[u,e]),{open:a,peer:n}}function L(e){var t=e.game,n=e.roomId,r=F(n).peer,c=Object(o.useState)([]),a=c[0],i=c[1],s=Object(o.useRef)({}),u=Object(o.useReducer)((function(e,t){return[].concat(e,[t])}),[]),l=u[0],d=u[1],f=Object(o.useState)((function(){return function(){}})),m=f[0],b=f[1];return Object(o.useEffect)((function(){r&&m&&r.on("connection",(function(e){e.on("open",(function(){!function(e){var t=e.setConnections,n=e.conn;t((function(e){return[].concat(e,[n])}))}({setConnections:i,conn:e}),d(e.peer)})),e.on("data",(function(n){var o=void 0===n?{}:n,r=o.index,c=function(e,t){if(null==e)return{};var n,o,r={},c=Object.keys(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(o,["index"]);Object(j.isInteger)(r)&&function(e){var t=e.conn,n=e.connectionLogSizeMap,o=e.size,r=void 0===o?0:o;n.current[t.peer]=r}({conn:e,connectionLogSizeMap:s,size:r+1}),(Object(j.isInteger)(r)||null===r)&&function(e,t){return e&&Object(j.isString)(e.move)&&t.findIndex((function(t){return t===e.move}))>-1}(c,Object.keys(t))&&m(p({},c,{connectionId:e.peer}))})),e.on("close",(function(){!function(e){var t=e.setConnections,n=e.conn;t((function(e){return e.filter((function(e){return e!==n}))}))}({setConnections:i,conn:e})})),e.on("error",(function(t){console.error(e.peer,t)}))}))}),[r,t,n,m]),{connections:a,connectionIds:l,connectionLogSizeMap:s,setOnGuestEvent:b}}function M(e){var t=e.game,n=e.handleMove;return new Proxy({},{get:function(e,o,r){return g()(t,o)?function(e){return n({move:o.toString(),args:e})}:o===Symbol.iterator&&t?Object.keys(t)[Symbol.iterator].bind(e):Reflect.get(e,o,r)}})}function z(e){var t=e.roomId,n=e.game,r=function(e){var t=e.secret,n=e.roomId;return Object(o.useMemo)((function(){return m()(t||n)}),[t,n])}({secret:e.secret,roomId:t}),c=function(e){var t=y(window.localStorage,"eventLog-"+e,{}),n=t[0],r=t[1];return{eventLogs:n,logEvent:Object(o.useCallback)((function(e){var t=e.connectionId,n=e.event;r((function(e){var o,r=e[t]||[];return p({},e,((o={})[t]=[].concat(r,[n]),o))}))}),[r])}}(t),a=c.eventLogs,i=c.logEvent,s=L({game:n,roomId:t}),u=s.setOnGuestEvent,d=s.connections,f=s.connectionIds,j=s.connectionLogSizeMap,b=function(e){var t=e.roomId,n=e.game,r=Object(o.useState)((function(){return function(){return null}})),c=r[0],a=r[1],i=Object(o.useCallback)((function(e){c(p({},e,{connectionId:t}))}),[t,c]);return{moves:Object(o.useMemo)((function(){return i&&n?M({game:n,handleMove:i}):{}}),[n,i]),setOnHostEvent:a}}({roomId:t,game:n}),v=b.setOnHostEvent,h=b.moves,g=P({roomId:t,game:n,logEvent:i,random:r,connectionIds:f,eventLogs:a}),O=g.state;return function(e){var t=e.setOnGuestEvent,n=e.setOnHostEvent,r=e.input,c=Object(o.useState)([]),a=c[0],i=c[1];Object(o.useEffect)((function(){var e=function(e){i((function(t){return[].concat(t,[e])}))};t((function(){return e})),n((function(){return e}))}),[t,n,i]),Object(o.useEffect)((function(){a.length&&r&&i((function(e){var t=e[0],n=e.slice(1);return r(t),console.info("INPUT ACTION",t),n}))}),[a,r,i])}({setOnHostEvent:v,setOnGuestEvent:u,input:g.input}),function(e){var t=e.connections,n=e.connectionLogSizeMap,r=e.eventLogs;Object(o.useEffect)((function(){if(null!=r)for(var e,o=function(){var t=e.value,o=r[t.peer]||[],c=n.current[t.peer]||0;if(o.length>c){var a=o.slice(c).map((function(e,t){return p({},e,{index:c+t})}));t.send(a)}},c=S(t);!(e=c()).done;)o()}),[t,n,r])}({connections:d,connectionLogSizeMap:j,eventLogs:a}),{state:O,moves:h,connections:Object(o.useMemo)((function(){return l()(d.map((function(e){return e.peer}))).sort()}),[d])}}function B(e){var t=e-1;return t<0?null:t}var G=function(e){var t=e.game,n=e.events,o=e.roomId;return function(e){try{return n.reduce((function(e,n){var r=t[n.move];if(H(r))return null!=n.patch&&Object(d.patch)(e,n.patch),e;var c={state:e,hostId:o,callerId:n.connectionId,args:n.args};if(C(r)){if(null==n.seed)throw new Error("Random moves require a seed from the host");return r(p({},c,{random:m()(n.seed)}))}return r(c)}),e)}catch(r){return console.error(r),e}}};function A(e){var t=e.data,n=e.clearData,r=e.game,c=e.roomId,a=e.setState,i=e.setLogSize;Object(o.useEffect)((function(){if(t&&t.length){console.info("SYNC",t);var e=[].concat(t);n(),function(e){var t,n=e.setLogSize,o=e.events;n((null!=(t=o[o.length-1].index)?t:0)+1)}({setLogSize:i,events:e}),function(e){var t=e.setState,n=e.roomId,o=e.game,r=e.events,c=G({game:o,roomId:n,events:r});t((function(e){var t=e.state,n=c(t);return{state:n,cache:n}}))}({setState:a,roomId:c,game:r,events:e})}}),[t,n,r,c,i,a])}function K(e){var t=e.conn,n=e.connectionId,o=e.setMoves,r=e.setState,c=e.game,a=e.logSize,i=e.roomId,s=function(e){var o=e.move,s=e.args,u=c[o];C(u)||H(u)||function(e){var t=e.setState,n=e.game,o=e.move,r=e.args,c=e.connectionId,a=e.roomId,i=G({game:n,roomId:a,events:[{index:null,move:o,args:r,connectionId:c}]});t((function(e){var t=e.state,n=e.cache;return{cache:i(n),state:t}}))}({setState:r,game:c,move:o,args:s,roomId:i,connectionId:n});var l=B(a);!function(e){var t,n=e.conn,o=e.emit;console.info("EMIT",o),null===(t=n.current)||void 0===t||t.send(o)}({conn:t,emit:{move:o,args:s,index:l}})};o((function(){return M({game:c,handleMove:s})}))}function J(e){var t=e.roomId,n=e.game,r=function(e){return{id:y(window.localStorage,"id-"+e,O.a)[0]}}(t).id,c=function(e){var t=y(window.localStorage,"guestState-"+e,{state:{},cache:{}});return{cache:t[0].cache,setState:t[1]}}(t),a=c.cache,i=c.setState,s=function(e){var t=y(window.localStorage,"logSize-"+e,0);return{logSize:t[0],setLogSize:t[1]}}(t),u=s.logSize,l=s.setLogSize,d=function(e){var t=e.id,n=e.roomId,r=Object(o.useRef)(null),c=F(t),a=c.open,i=c.peer,s=Object(o.useState)([]),u=s[0],l=s[1],d=Object(o.useState)(!1),f=d[0],m=d[1],j=Object(o.useReducer)((function(e){return e+1}),0),b=j[0],v=j[1];return Object(o.useEffect)((function(){if(i&&a&&!f){r.current=function(e){var t=e.roomId;return e.peer.connect(t,{serialization:"json"})}({peer:i,roomId:n});var e=function(){r.current=null,m(!1),v()},t=setTimeout(e,1e3);r.current.on("open",(function(){clearTimeout(t),m(!0)})),r.current.on("data",(function(e){l((function(t){return[].concat(t,e)}))})),r.current.on("close",(function(){clearTimeout(t),e()})),r.current.on("error",(function(e){console.error(e)}))}}),[b,a,f,n,i]),{connected:a&&f,conn:r,data:u,clearData:function(){l([])}}}({id:r,roomId:t}),f=d.connected,m=d.conn,j=d.data,b=d.clearData;return function(e){var t=e.connected,n=e.conn,r=e.logSize;Object(o.useEffect)((function(){if(n.current&&t){var e=B(r);!function(e){var t,n=e.conn,o=e.index;null===(t=n.current)||void 0===t||t.send({index:o})}({conn:n,index:e})}}),[t,n,r])}({connected:f,conn:m,logSize:u}),A({data:j,clearData:b,game:n,roomId:t,setState:i,setLogSize:l}),{connectionId:r,connected:f,state:a,moves:function(e){var t=e.connected,n=e.conn,r=e.id,c=e.setState,a=e.roomId,i=e.game,s=e.logSize,u=Object(o.useState)(null),l=u[0],d=u[1];return Object(o.useEffect)((function(){t&&K({conn:n,connectionId:r,setMoves:d,setState:c,roomId:a,game:i,logSize:s})}),[t,n,r,d,c,a,i,s]),{moves:l}}({connected:f,conn:m,id:r,setState:i,roomId:t,game:n,logSize:u}).moves}}var W,N,_,R,q,Q,U,X,Y,$,V,Z,ee,te,ne=n(10),oe=n(32),re=n(15),ce=n(4),ae=n(36),ie={fillSquare:function(e){var t=e.state,n=e.callerId,o=e.args,r=null;if(n===t.crossesPlayer)r=2;else{if(n!==t.noughtsPlayer)throw new Error("Connection is not a player");r=1}if(null!==t.board[o.position])throw new Error("Position filled");var c=Object(ae.a)(t.board);return c.splice(o.position,1,r),Object(ce.a)(Object(ce.a)({},t),{},{board:c})},startGame:function(e){e.state,e.callerId;var t=e.args;return{crossesPlayer:t.crossesConnId,noughtsPlayer:t.noughtsConnId,board:Array(9).fill(null)}}},se=ie,ue=n(1),le=s.default.button(W||(W=Object(i.a)(["\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n"]))),de=s.default.div(N||(N=Object(i.a)(["\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n"]))),fe=s.default.div(_||(_=Object(i.a)(["\n  width: 30em;\n  height: 30em;\n"]))),me=function(e){var t=e.value,n=e.onClick;return null===t?Object(ue.jsx)(le,{onClick:n}):Object(ue.jsxs)(de,{children:[1===t?"O":null,2===t?"X":null]})},je=function(e){var t=e.connected,n=e.state,o=e.moves;return Object(ue.jsxs)(ue.Fragment,{children:[t?null:Object(ue.jsx)("p",{children:"Disconnected.."}),Object(ue.jsx)(fe,{children:n.board&&n.board.map((function(e,n){return Object(ue.jsx)(me,{value:e,onClick:function(){return t&&o.fillSquare({position:n})}},n)}))})]})},be=s.default.div(R||(R=Object(i.a)(["\n  width: 33.333%;\n  height: 33.333%;\n  background-color: cyan;\n  border: 2px solid yellow;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n"]))),ve=s.default.div(q||(q=Object(i.a)(["\n  width: 30em;\n  height: 30em;\n"]))),he=function(e){var t=e.state,n=e.roomId,r=e.moves,c=e.connections;return Object(o.useEffect)((function(){if(!t.board&&c.length>=2){var e=Object(re.a)(c,2),n=e[0],o=e[1];r.startGame({crossesConnId:n,noughtsConnId:o})}}),[c]),Object(ue.jsxs)(ue.Fragment,{children:[c.length<2&&Object(ue.jsxs)(oe.b,{to:"/guest/".concat(n),children:[window.location.host,"#/guest/",n]}),Object(ue.jsx)(ve,{children:t.board&&t.board.map((function(e,t){return Object(ue.jsxs)(be,{children:[1===e?"O":null,2===e?"X":null]},t)}))})]})},ge=n.p+"static/media/tic-tac-toe.9f56a313.jpg",Oe={alt:"tic tac toe",src:ge},pe={name:"Tic Tac Toe",description:"a paper-and-pencil game for two players, X and O, who take turns marking the spaces in a 3\xd73 grid.",image:Oe,Host:he,Guest:je,game:se},xe=pe,Se=n(26),ye={initPlayers:function(e){var t=e.state,n=e.args,o={maxPlayers:n.maxPlayers,minPlayers:n.minPlayers,everyoneIsIn:!1,list:[]};return Object(ce.a)(Object(ce.a)({},t),{},{players:o})},everyoneIsIn:function(e){var t=e.state;if(t.players.list.length>t.players.maxPlayers)throw new Error("Too many players");if(t.players.list.length<t.players.minPlayers)throw new Error("Not enough players");return Object(ce.a)(Object(ce.a)({},t),{},{players:Object(ce.a)(Object(ce.a)({},t.players),{},{everyoneIsIn:!0})})},joinAsAPlayer:function(e){var t=e.state,n=e.callerId,o=e.args;if(t.players.list.length>=t.players.maxPlayers)throw new Error("The number of players has reached it's maximum");var r={connectionId:n,name:o.name,emoji:o.emoji},c=[].concat(Object(ae.a)(t.players.list),[r]),a=Object(ce.a)(Object(ce.a)({},t.players),{},{list:c});return Object(ce.a)(Object(ce.a)({},t),{},{players:a})}},Ie=ye,Ce=n(90),we=Object(o.memo)((function(e){var t=e.emoji;return Object(ue.jsx)("span",{dangerouslySetInnerHTML:{__html:Ce.a.parse(t,{folder:"svg",ext:".svg"})}})})),He=we,ke=n(96),De=(n(163),s.default.div(Q||(Q=Object(i.a)(["\n  background-color: rgba(0, 0, 0, 0.8);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])))),Pe=s.default.div(U||(U=Object(i.a)(["\n  display: inline-block;\n"]))),Te=function(e){var t=e.onSelectEmoji,n=e.onHide;return Object(ue.jsx)(De,{tabIndex:!0,onKeyPress:n,onClick:n,children:Object(ue.jsx)(Pe,{onClick:function(e){return e.stopPropagation()},children:Object(ue.jsx)(ke.a,{onSelect:function(e){t(e.native)},set:"twitter"})})})},Ee=He,Fe=n(3),Le=function(e){var t=e.children,n=e.players;return Object(ue.jsxs)(Fe.Flex,{children:[Object(ue.jsx)(Fe.Box,{flexGrow:1,children:n.map((function(e,t){var n=e.name,o=e.emoji;return Object(ue.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(ue.jsx)(Fe.Box,{width:"2em",height:"2em",my:2,mx:3,children:o&&Object(ue.jsx)(Ee,{emoji:o})}),n]},t)}))}),Object(ue.jsx)(Fe.Box,{flexGrow:3,children:t})]})},Me=function(e){var t=e.roomId;return Object(ue.jsxs)(Fe.Text,{as:"h1",fontSize:[3,4,5],fontWeight:"bold",color:"secondary",children:["Join: ",t]})},ze=function(e){var t=e.state,n=e.roomId,r=e.moves,c=(e.connections,e.maxPlayers),a=e.minPlayers,i=e.children;if(Object(o.useEffect)((function(){!t.players&&(null===r||void 0===r?void 0:r.initPlayers)&&r.initPlayers({maxPlayers:c,minPlayers:a})}),[t.players,r]),!t.players)return null;if(t.players.everyoneIsIn)return i;var s=function(e){var t=e.state.players;return t.list.length>=t.minPlayers}({state:t});return Object(ue.jsx)(Le,{players:t.players.list,children:Object(ue.jsxs)(Fe.Flex,{height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"space-around",children:[Object(ue.jsx)(Me,{roomId:n}),s&&Object(ue.jsx)(Fe.Button,{my:2,onClick:function(){return r.everyoneIsIn()},onKeyPress:function(){return r.everyoneIsIn()},children:"Start Game"})]})})},Be=n(25),Ge=function(e){var t=e.onJoin,n=Object(o.useState)(""),r=Object(re.a)(n,2),c=r[0],a=r[1],i=Object(o.useState)("\ud83d\ude0e"),s=Object(re.a)(i,2),u=s[0],l=s[1],d=Object(o.useState)(!1),f=Object(re.a)(d,2),m=f[0],j=f[1],b=function(){return j(!0)},v=function(){return j(!1)},h=function(){(null===c||void 0===c?void 0:c.length)&&t({name:c,emoji:u})};return Object(ue.jsxs)(ue.Fragment,{children:[m&&Object(ue.jsx)(Te,{onHide:v,onSelectEmoji:function(e){l(e),v()}}),Object(ue.jsxs)(Fe.Flex,{my:5,alignItems:"center",flexDirection:"column",children:[Object(ue.jsx)(Fe.Box,{width:"10em",height:"10em",onKeyPress:b,onClick:b,children:Object(ue.jsx)(Ee,{emoji:u})}),Object(ue.jsx)(Fe.Box,{my:2,children:Object(ue.jsx)(Fe.Text,{fontSize:[3,4,5],fontWeight:"bold",color:"primary",children:c})}),Object(ue.jsxs)(Fe.Box,{children:[Object(ue.jsx)(Be.Label,{htmlFor:"nickname",children:"Nickname"}),Object(ue.jsx)(Be.Input,{id:"nickname",onChange:function(e){return a(e.target.value)},value:c})]}),Object(ue.jsx)(Fe.Box,{my:3,children:Object(ue.jsx)(Fe.Button,{variant:"primary",onKeyPress:h,onClick:h,children:"Sit down to Play"})})]})]})},Ae=function(){return Object(ue.jsx)(Fe.Flex,{height:"100vh",justifyContent:"center",alignItems:"center",children:Object(ue.jsx)(Fe.Text,{fontSize:[3,4,5],fontWeight:"bold",color:"primary",children:"You are a Spectator"})})},Ke=function(){return Object(ue.jsx)(Fe.Flex,{height:"100vh",justifyContent:"center",alignItems:"center",children:Object(ue.jsx)(Fe.Text,{as:"h1",fontSize:[3,4,5],fontWeight:"bold",color:"primary",children:"Be patient, the host is setting up your game."})})},Je=function(e){var t=e.children,n=e.state,o=(e.roomId,e.moves),r=e.connectionId;if(!n.players)return Object(ue.jsx)(Ke,{});var c=function(e){var t=e.players,n=e.connectionId;return t.findIndex((function(e){return e.connectionId===n}))>-1}({players:n.players.list,connectionId:r});if(n.players.everyoneIsIn)return c?t:Object(ue.jsx)(Ae,{});var a=function(e){var t=e.state.players;return t.list.length>t.maxPlayers}({state:n});return c||a?Object(ue.jsx)(Ke,{}):Object(ue.jsx)(Ge,{onJoin:function(e){var t=e.name,n=e.emoji;o.joinAsAPlayer({name:t,emoji:n})}})},We=function(e,t){var n,o=t.Host,r=t.Guest,c=t.game,a=Object(Se.a)(t,["Host","Guest","game"]),i=(n=r,function(e){var t=e.children,o=Object(Se.a)(e,["children"]);return Object(ue.jsx)(Je,Object(ce.a)(Object(ce.a)({},o),{},{children:Object(ue.jsx)(n,Object(ce.a)(Object(ce.a)({},o),{},{children:t}))}))}),s=function(e,t){return function(n){var o=n.children,r=Object(Se.a)(n,["children"]);return Object(ue.jsx)(ze,Object(ce.a)(Object(ce.a)(Object(ce.a)({},e),r),{},{children:Object(ue.jsx)(t,Object(ce.a)(Object(ce.a)({},r),{},{children:o}))}))}}(e,o),u=Object(ce.a)(Object(ce.a)({},Ie),c);return Object(ce.a)({Guest:i,Host:s,game:u},a)},Ne=n.p+"static/media/AH.1a5ea790.svg",_e=n.p+"static/media/AC.0e3c2151.svg",Re=n.p+"static/media/AD.5c4da062.svg",qe=n.p+"static/media/AS.0beacefa.svg",Qe=n.p+"static/media/2H.cb701b97.svg",Ue=n.p+"static/media/2C.276c3f69.svg",Xe=n.p+"static/media/2D.bc21ec2a.svg",Ye=n.p+"static/media/2S.ec187ad2.svg",$e=n.p+"static/media/3H.cba17cfa.svg",Ve=n.p+"static/media/3C.4defbcf5.svg",Ze=n.p+"static/media/3D.8d12a3fc.svg",et=n.p+"static/media/3S.ed80cdda.svg",tt=n.p+"static/media/4H.8924ea52.svg",nt=n.p+"static/media/4C.3ebe0e73.svg",ot=n.p+"static/media/4D.433a1ecc.svg",rt=n.p+"static/media/4S.7e474260.svg",ct=n.p+"static/media/5H.04a38bb9.svg",at=n.p+"static/media/5C.809e552d.svg",it=n.p+"static/media/5D.03b1a4af.svg",st=n.p+"static/media/5S.f4e082a6.svg",ut=n.p+"static/media/6H.5380d254.svg",lt=n.p+"static/media/6C.1f69ca79.svg",dt=n.p+"static/media/6D.8c9d26ce.svg",ft=n.p+"static/media/6S.33eb8c1b.svg",mt=n.p+"static/media/7H.156a2f08.svg",jt=n.p+"static/media/7C.cb6a5b5c.svg",bt=n.p+"static/media/7D.bc93fd45.svg",vt=n.p+"static/media/7S.f91490c5.svg",ht=n.p+"static/media/8H.878dbca5.svg",gt=n.p+"static/media/8C.e91af699.svg",Ot=n.p+"static/media/8D.ca4420e9.svg",pt=n.p+"static/media/8S.fd5cd6f8.svg",xt=n.p+"static/media/9H.57bfd8e3.svg",St=n.p+"static/media/9C.c6a841cc.svg",yt=n.p+"static/media/9D.3d612a15.svg",It=n.p+"static/media/9S.6c7e4615.svg",Ct=n.p+"static/media/10H.c8c8e4de.svg",wt=n.p+"static/media/10C.0cc64a48.svg",Ht=n.p+"static/media/10D.956683a1.svg",kt=n.p+"static/media/10S.99cb26ab.svg",Dt=n.p+"static/media/JH.86f58f4f.svg",Pt=n.p+"static/media/JC.b801c5a7.svg",Tt=n.p+"static/media/JD.a0e75607.svg",Et=n.p+"static/media/JS.1a6f34e2.svg",Ft=n.p+"static/media/QH.f56614ef.svg",Lt=n.p+"static/media/QC.3eb5bae0.svg",Mt=n.p+"static/media/QD.c20eb8d2.svg",zt=n.p+"static/media/QS.cc68ac97.svg",Bt=n.p+"static/media/KH.3d6b1be6.svg",Gt=n.p+"static/media/KC.ca193598.svg",At=n.p+"static/media/KD.32d1a9f8.svg",Kt=n.p+"static/media/KS.b54b6bba.svg",Jt=n.p+"static/media/JOKER.96be08d3.svg",Wt=n(63),Nt=["H","D","S","C"],_t=11,Rt=12,qt=13,Qt=[1,2,3,4,5,6,7,8,9,10,_t,Rt,qt],Ut=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.jokers,o=void 0===n?0:n,r=[],c=Object(Wt.a)(Nt);try{for(c.s();!(e=c.n()).done;){var a,i=e.value,s=Object(Wt.a)(Qt);try{for(s.s();!(a=s.n()).done;){var u=a.value;r.push({suit:i,value:u})}}catch(d){s.e(d)}finally{s.f()}}}catch(d){c.e(d)}finally{c.f()}for(var l=0;l<o;l++)r.push({suit:null,value:0});return r},Xt=s.default.div(X||(X=Object(i.a)(["\n  margin-bottom: -9em;\n  margin-right: -3em;\n\n  ","\n"])),(function(e){var t=e.order;return t&&"order: ".concat(t,";")})),Yt=s.default.div(Y||(Y=Object(i.a)(["\n  position: relative;\n  margin-top: 2em;\n"]))),$t=Object(s.default)(Yt)($||($=Object(i.a)(["\n  &:hover {\n    margin-top: 1em;\n    margin-bottom: 1em;\n    cursor: pointer;\n  }\n\n  ","\n"])),(function(e){return e.isSelected&&"\n    margin-top: 0em;\n    margin-bottom: 2em;\n\n    &:hover {\n      margin-top: 0em;\n      margin-bottom: 2em;\n    }\n  "})),Vt=s.default.div(V||(V=Object(i.a)(["\n  opacity: 0.4;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 0.5em;\n\n  ","\n"])),(function(e){var t=e.isSelected,n=e.selectColor;return t&&n&&"\n    background-color: ".concat(n,";\n  ")})),Zt=s.default.img(Z||(Z=Object(i.a)(["\n  width: 9em;\n  display: block;\n"]))),en=function(e){var t=e.isSelected,n=e.selectColor,o=e.faceImage,r=e.altText,c=e.onClick;return Object(ue.jsxs)($t,{isSelected:t,children:[Object(ue.jsx)(Zt,{src:o,alt:r}),Object(ue.jsx)(Vt,{isSelected:t,selectColor:n,onClick:c})]})},tn=function(e){var t=e.faceImage,n=e.altText;return Object(ue.jsx)(Yt,{children:Object(ue.jsx)(Zt,{src:t,alt:n})})},nn=function(e){var t=e.order,n=e.canBeSelected,o=e.isSelected,r=e.selectColor,c=e.faceImage,a=e.altText,i=e.onClick,s=n?en:tn;return Object(ue.jsx)(Xt,{order:t,children:Object(ue.jsx)(s,{isSelected:o,selectColor:r,faceImage:c,altText:a,onClick:i})})},on=function(e){var t=e.value,n=e.suit,o=e.canBeSelected,r=void 0!==o&&o,c=e.isSelected,a=void 0!==c&&c,i=e.selectColor,s=void 0===i?null:i;console.log("select",s);var u=function(e){var t=e.suit,n=e.value;return 0===n?Jt:1===n&&"H"===t?Ne:1===n&&"D"===t?Re:1===n&&"S"===t?qe:1===n&&"C"===t?_e:2===n&&"H"===t?Qe:2===n&&"D"===t?Xe:2===n&&"S"===t?Ye:2===n&&"C"===t?Ue:3===n&&"H"===t?$e:3===n&&"D"===t?Ze:3===n&&"S"===t?et:3===n&&"C"===t?Ve:4===n&&"H"===t?tt:4===n&&"D"===t?ot:4===n&&"S"===t?rt:4===n&&"C"===t?nt:5===n&&"H"===t?ct:5===n&&"D"===t?it:5===n&&"S"===t?st:5===n&&"C"===t?at:6===n&&"H"===t?ut:6===n&&"D"===t?dt:6===n&&"S"===t?ft:6===n&&"C"===t?lt:7===n&&"H"===t?mt:7===n&&"D"===t?bt:7===n&&"S"===t?vt:7===n&&"C"===t?jt:8===n&&"H"===t?ht:8===n&&"D"===t?Ot:8===n&&"S"===t?pt:8===n&&"C"===t?gt:9===n&&"H"===t?xt:9===n&&"D"===t?yt:9===n&&"S"===t?It:9===n&&"C"===t?St:10===n&&"H"===t?Ct:10===n&&"D"===t?Ht:10===n&&"S"===t?kt:10===n&&"C"===t?wt:n===_t&&"H"===t?Dt:n===_t&&"D"===t?Tt:n===_t&&"S"===t?Et:n===_t&&"C"===t?Pt:n===Rt&&"H"===t?Ft:n===Rt&&"D"===t?Mt:n===Rt&&"S"===t?zt:n===Rt&&"C"===t?Lt:n===qt&&"H"===t?Bt:n===qt&&"D"===t?At:n===qt&&"S"===t?Kt:n===qt&&"C"===t?Gt:void 0}({value:t,suit:n}),l=function(e){var t=e.value,n=e.suit;return 0===t?"\ud83c\udccf Joker":1===t&&"H"===n?"\ud83c\udcb1 Ace of Hearts":1===t&&"D"===n?"\ud83c\udcc1 Ace of Diamonds":1===t&&"S"===n?"\ud83c\udca1 Ace of Spaces":1===t&&"C"===n?"\ud83c\udcd1 Ace of Clubs":2===t&&"H"===n?"\ud83c\udcb2 Two of Hearts":2===t&&"D"===n?"\ud83c\udcc2 Two of Diamonds":2===t&&"S"===n?"\ud83c\udca2 Two of Spades":2===t&&"C"===n?"\ud83c\udcd2 Two of Clubs":3===t&&"H"===n?"\ud83c\udcb3 Three of Hearts":3===t&&"D"===n?"\ud83c\udcc3 Three of Diamonds":3===t&&"S"===n?"\ud83c\udca3 Three of Spades":3===t&&"C"===n?"\ud83c\udcd3 Three of Clubs":4===t&&"H"===n?"\ud83c\udcb4 Four of Hearts":4===t&&"D"===n?"\ud83c\udcc4 Four of Diamonds":4===t&&"S"===n?"\ud83c\udca4 Four of Spades":4===t&&"C"===n?"\ud83c\udcd4 Four of Clubs":5===t&&"H"===n?"\ud83c\udcb5 Five of Hearts":5===t&&"D"===n?"\ud83c\udcc5 Five of Diamonds":5===t&&"S"===n?"\ud83c\udca5 Five of Spades":5===t&&"C"===n?"\ud83c\udcd5 Five of Clubs":6===t&&"H"===n?"\ud83c\udcb6 Six of Hearts":6===t&&"D"===n?"\ud83c\udcc6 Six of Diamomnds":6===t&&"S"===n?"\ud83c\udca6 Six of Spades":6===t&&"C"===n?"\ud83c\udcd6 Six of Clubs":7===t&&"H"===n?"\ud83c\udcb7 Seven of Hearts":7===t&&"D"===n?"\ud83c\udcc7 Seven of Diamonds":7===t&&"S"===n?"\ud83c\udca7 Seven of Spades":7===t&&"C"===n?"\ud83c\udcd7 Seven of Clubs":8===t&&"H"===n?"\ud83c\udcb8 Eight of Hearts":8===t&&"D"===n?"\ud83c\udcc8 Eight of Diamonds":8===t&&"S"===n?"\ud83c\udca8 Eight of Spades":8===t&&"C"===n?"\ud83c\udcd8 Eight of Clubs":9===t&&"H"===n?"\ud83c\udcb9 Nine of Hearts":9===t&&"D"===n?"\ud83c\udcc9 Nine of Diamonds":9===t&&"S"===n?"\ud83c\udca9 Nine of Spades":9===t&&"C"===n?"\ud83c\udcd9 Nine of Clubs":10===t&&"H"===n?"\ud83c\udcba Ten of Hearts":10===t&&"D"===n?"\ud83c\udcca Ten of Diamonds":10===t&&"S"===n?"\ud83c\udcaa Ten of Spades":10===t&&"C"===n?"\ud83c\udcda Ten of Clubs":t===_t&&"H"===n?"\ud83c\udcbb Jack of Hearts":t===_t&&"D"===n?"\ud83c\udccb Jack of Diamonds":t===_t&&"S"===n?"\ud83c\udcab Jack of Spades":t===_t&&"C"===n?"\ud83c\udcdb Jack of Clubs":t===Rt&&"H"===n?"\ud83c\udcbd Queen of Hearts":t===Rt&&"D"===n?"\ud83c\udccd Queen of Diamonds":t===Rt&&"S"===n?"\ud83c\udcad Queen of Spades":t===Rt&&"C"===n?"\ud83c\udcdd Queen of Clubs":t===qt&&"H"===n?"\ud83c\udcbe King of Hearts":t===qt&&"D"===n?"\ud83c\udcde King of Diamonds":t===qt&&"S"===n?"\ud83c\udcae King of Spades":t===qt&&"C"===n?"\ud83c\udcde King of Clubs":void 0}({value:t,suit:n});return Object(ue.jsx)(nn,{faceImage:u,altText:l,isSelected:a,canBeSelected:r,selectColor:s})},rn=n.p+"static/media/RED_BACK.eea8c6b0.svg",cn=n.p+"static/media/BLUE_BACK.d7aabd90.svg",an=function(e){var t=e.colour,n=e.isSelected,o=void 0!==n&&n,r=e.canBeSelected,c=void 0!==r&&r,a=e.selectColor,i=void 0===a?null:a,s=function(e){var t=e.colour;return"R"===t?rn:"B"===t?cn:void 0}({colour:t});return Object(ue.jsx)(nn,{faceImage:s,altText:"\ud83c\udca0 Card Back",isSelected:o,canBeSelected:c,selectColor:i})},sn=n.p+"static/media/felt.5b148bae.png",un=s.default.div(ee||(ee=Object(i.a)(["\n  background-color: rgb(10, 80, 20);\n  background-image: url(",");\n  height: 100%;\n  padding: 5%;\n"])),sn),ln=s.default.section(te||(te=Object(i.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  max-height: 50%;\n\n  padding-right: 3em;\n  padding-bottom: 9em;\n"]))),dn=on,fn=function(e){return e.hostId===e.contextId},mn={startGame:w((function(e){var t=e.state,n=e.hostId,o=e.contextId,r=Object(ce.a)(Object(ce.a)({},t),{},{discard:[]});return fn({hostId:n,contextId:o})?r.deck=Ut():r.hand=[],r})),deal:I(w((function(e){var t=e.state,n=e.random,o=e.hostId,r=e.contextId,c=function(e){var t=e.random,n=void 0===t?Math.random:t,o=e.array,r=null==o?0:o.length;if(!r)return[];for(var c=-1,a=r-1,i=[].concat(o);++c<r;){var s=c+Math.floor(n()*(a-c+1)),u=i[s];i[s]=i[c],i[c]=u}return i}({random:n,array:(0,e.revealSecret)(o,(function(e){return e.deck}))});if(fn({hostId:o,contextId:r}))return Object(ce.a)(Object(ce.a)({},t),{},{deck:[]});var a=t.players.list.findIndex((function(e){return e.callerId===r})),i=c.filter((function(e,n){return n%t.players.list.length===a}));return Object(ce.a)(Object(ce.a)({},t),{},{hand:i})})))},jn=function(e){var t=e.moves;return Object(ue.jsx)(Fe.Button,{onClick:function(){return t.deal()},children:"Deal"})},bn=function(e){var t=e.state;return Object(ue.jsxs)(un,{children:[Object(ue.jsx)(an,{colour:"R"}),Object(ue.jsx)(ln,{children:t.discard&&t.discard.map((function(e){var t=e.suit,n=e.value;return Object(ue.jsx)(dn,{suit:t,value:n})}))})]})},vn=function(e){var t,n=e.state,r=e.moves;return function(e){var t=e.moves,n=e.state;Object(o.useEffect)((function(){null==n.deck&&t.startGame()}),[n,t])}({moves:r,state:n}),(null===(t=n.deck)||void 0===t?void 0:t.length)?Object(ue.jsx)(jn,{moves:r}):Object(ue.jsx)(bn,{state:n})},hn=function(e){var t=e.state;e.roomId,e.moves,e.connectionId;return Object(ue.jsx)(un,{children:Object(ue.jsx)(ln,{children:t.hand&&t.hand.map((function(e){var t=e.suit,n=e.value;return Object(ue.jsx)(dn,{suit:t,value:n})}))})})},gn=We({minPlayers:4,maxPlayers:4},{name:"Whist",description:"Whist is a classic English trick-taking card game which was widely played in the 18th and 19th centuries.",image:{alt:"whist game",src:n.p+"static/media/whist.1094f827.jpg"},Host:vn,Guest:hn,game:mn}),On={passPotato:I(w((function(e){var t=e.callerId,n=e.revealSecret,o=e.state,r=e.random,c=e.contextId;if(!n(t,(function(e){return e.hotPotato})))throw new Error("Must have potato to throw it");var a=o.players.list.length,i=Math.floor(r()*a);return o.players.list[i].callerId===c?Object(ce.a)(Object(ce.a)({},o),{},{hotPotato:!0}):Object(ce.a)(Object(ce.a)({},o),{},{hotPotato:!1})}))),setBackgroundColour:function(e){var t=e.state,n=e.args;return Object(ce.a)(Object(ce.a)({},t),{},{backgroundColour:n.backgroundColour})},throwPotato:I(w((function(e){var t=e.state,n=e.random,o=e.contextId,r=t.players.list.length,c=Math.floor(n()*r);return t.players.list[c].callerId===o?Object(ce.a)(Object(ce.a)({},t),{},{hotPotato:!0}):Object(ce.a)(Object(ce.a)({},t),{},{hotPotato:!1})}))),stopMusic:w((function(e){var t=e.state,n=e.revealSecret,o=t.players.list.find((function(e){var t=e.callerId;return n(t,(function(e){return e.hotPotato}))}));return Object(ce.a)(Object(ce.a)({},t),{},{loser:o.callerId})}))},pn=function(e){var t=e.moves,n=function(){return t.throwPotato()};return Object(ue.jsx)(Fe.Flex,{children:Object(ue.jsx)(Fe.Button,{onClick:n,onKeyPress:n,variant:"primary",mr:2,children:"Throw the Hot Potato, to your Guests!"})})},xn=Fe.Box,Sn=function(e){var t=e.emoji,n=void 0===t?"\u2665":t;return Object(ue.jsx)(Fe.Flex,{children:Object(ue.jsx)(Fe.Box,{width:"20vh",height:"20vh",children:Object(ue.jsx)(Ee,{emoji:n})})})},yn=function(){return Object(ue.jsx)(xn,{children:Object(ue.jsx)(Fe.Text,{fontSize:[3,4,5],fontWeight:"bold",color:"primary",children:"Not Connected to the Host!"})})},In=function(){return Object(ue.jsxs)(xn,{children:[Object(ue.jsx)(Sn,{emoji:"\ud83d\udc50"}),Object(ue.jsx)(Fe.Text,{fontSize:[3,4,5],fontWeight:"bold",color:"primary",children:"Phew, no hot potato!"})]})},Cn=function(e){var t=e.onPassPotato,n=void 0===t?function(){}:t;return Object(ue.jsxs)(xn,{children:[Object(ue.jsx)(Sn,{emoji:"\ud83e\udd54"}),Object(ue.jsx)(Fe.Text,{fontSize:[3,4,5],fontWeight:"bold",color:"primary",children:"Oww! Hot potato!"}),Object(ue.jsx)(Fe.Button,{onClick:n,onKeyPress:n,variant:"primary",mr:2,children:"Pass the Potato"})]})},wn=function(e){var t=e.state,n=(e.roomId,e.moves);e.connectionId;return e.connected?t.hotPotato?Object(ue.jsx)(Cn,{onPassPotato:function(){return n.passPotato()}}):Object(ue.jsx)(In,{}):Object(ue.jsx)(yn,{})},Hn=n(35),kn=n.n(Hn),Dn=We({maxPlayers:16,minPlayers:2},{name:"Hot Potato",description:"Pass the potato to your friends.",image:{alt:"A potato",src:n.p+"static/media/hot-potato.34edb06d.jpg"},theme:kn.a,Host:pn,Guest:wn,game:On}),Pn=n(48),Tn=n.n(Pn),En={chessMove:function(e){var t=e.state,n=e.args,o=new Tn.a(t.board);if(!o.move(n.chessMove))throw new Error("Invalid move");return Object(ce.a)(Object(ce.a)({},t),{},{board:o.fen()})}},Fn=n(91),Ln=n.n(Fn),Mn=function(e){var t=e.children;return Object(ue.jsx)(Fe.Flex,{flexDirection:"column",alignItems:"center",pt:"1",children:t})},zn=function(e){var t=e.game,n=e.isMyTurn,o="";return t.in_stalemate()&&(o="Stalemate"),t.in_threefold_repetition()&&(o="Three-fold repetition"),t.insufficient_material()&&(o="Infufficient Material"),t.in_checkmate()&&(o=n?"Win":"Lose"),t.in_draw()&&(o="Draw"),Object(ue.jsx)(Fe.Text,{fontSize:5,mt:2,mb:3,children:o})},Bn=function(e){var t,n=e.orientation,r=e.state,c=e.moves,a=Object(o.useState)([]),i=Object(re.a)(a,2),s=i[0],u=i[1],l=new Tn.a(r.board),d=l.game_over(),f=l.turn()[0]===n[0],m=s.reduce((function(e,t){return e[t.slice(-2)]={boxShadow:"yellow 0 0 1px 4px inset"},e}),{});return Object(ue.jsxs)(Mn,{children:[d&&Object(ue.jsx)(zn,{isMyTurn:f,game:l}),Object(ue.jsx)(Ln.a,{draggable:!d&&f,calcWidth:function(e){var t=e.screenWidth,n=e.screenHeight;return Math.min(.9*t,.9*n)},orientation:n,onDrop:function(e){var t=e.sourceSquare,o=e.targetSquare,r=e.piece;u([]);var a=r[0]===n[0];if(!d&&a&&f){var i=l.move({from:t,to:o,promotion:"q"});null!==i&&c.chessMove({chessMove:i})}},onDragOverSquare:function(){return u([])},position:null!==(t=r.board)&&void 0!==t?t:"start",onSquareClick:function(e){if(!d&&f){var t=s.find((function(t){return t.slice(-2)===e}));if(t)c.chessMove({chessMove:t}),u([]);else{var n=l.moves({square:e});u(n)}}},squareStyles:m})]})},Gn=function(e){return e.connections.length<1?Object(ue.jsx)(Fe.Flex,{justifyContent:"center",p:4,children:Object(ue.jsxs)(Fe.Text,{fontSize:4,children:["Join: ",Object(ue.jsx)("span",{children:e.roomId})]})}):Object(ue.jsx)(Bn,Object(ce.a)({orientation:"black"},e))},An=function(e){return Object(ue.jsx)(Bn,Object(ce.a)({orientation:"white"},e))},Kn=n.p+"static/media/chess.a9a7e4fb.jpg",Jn=[{name:"Chess",theme:kn.a,image:{alt:"A chess board",src:Kn},description:"Chess is a recreational and competitive board game played between two players.",Host:Gn,Guest:An,game:En},xe,Dn,gn],Wn=n(92),Nn=n.n(Wn),_n=n(93),Rn=n.n(_n),qn=[[0,1,2],[0,2,1],[1,0,2],[2,0,1],[2,1,0],[1,2,0]],Qn=function(e){var t=function(e){var t=e.split("-"),n=Object(ae.a)(t).sort(),o=t.map((function(e){return n.findIndex((function(t){return e===t}))}));return qn.findIndex((function(e){return Rn()(e,o)}))}(e);return Jn[t]},Un=function(e){var t=Object(o.useState)({name:null,Host:null,Guest:null,game:null}),n=Object(re.a)(t,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){return c(Qn(e))}),[]),r},Xn=function(e){var t=e.onJoinGame,n=void 0===t?function(){}:t,r=Object(o.useState)(),c=Object(re.a)(r,2),a=c[0],i=c[1],s=function(){return n(a)};return Object(ue.jsxs)(Fe.Box,{minWidth:"10em",px:2,my:4,width:["60%","50%","20em"],children:[Object(ue.jsxs)(Fe.Box,{children:[Object(ue.jsx)(Be.Label,{my:2,children:"Enter the code to join a game"}),Object(ue.jsx)(Be.Input,{my:2,onChange:function(e){i(e.target.value),e.preventDefault()},value:a})]}),Object(ue.jsx)(Fe.Button,{my:2,onClick:s,onKeyPress:s,children:"Join Game"})]})},Yn=function(e){var t=e.compendium,n=void 0===t?[]:t,r=e.onNewGame,c=void 0===r?function(){}:r,a=Object(o.useState)(0),i=Object(re.a)(a,2),s=i[0],u=i[1],l=function(){return c(s)};return Object(ue.jsxs)(Fe.Box,{minWidth:"10em",px:2,my:4,width:["60%","50%","20em"],children:[Object(ue.jsx)(Be.Label,{my:2,children:"Choose a game to host..."}),Object(ue.jsx)(Be.Select,{my:2,onChange:function(e){u(e.target.value),e.preventDefault()},value:s,children:n.map((function(e,t){var n=e.name;return Object(ue.jsx)("option",{value:t,children:n},t)}))}),Object(ue.jsx)(Fe.Button,{my:2,onClick:l,onKeyPress:l,children:"Host New Game"})]})},$n=n(94),Vn=n.n($n);function Zn(e){var t=e.children;return Object(ue.jsx)(Fe.Flex,{flexGrow:2,justifyContent:"center",alignItems:"center",children:Object(ue.jsx)(Fe.Text,{children:t})})}function eo(e){var t=e.children,n=e.onKeyPress,o=e.onClick,r=e.href,c=void 0===r?"#":r,a=Object(Se.a)(e,["children","onKeyPress","onClick","href"]),i=function(e){return function(t){return t.preventDefault(),e&&e(),!1}};return Object(ue.jsx)(Fe.Flex,Object(ce.a)(Object(ce.a)({},a),{},{py:2,px:3,children:Object(ue.jsx)(Fe.Link,{variant:"nav",onClick:o&&i(o),onKeyPress:n&&i(n),href:c,children:t})}))}function to(e){var t=e.children,n=Object(Se.a)(e,["children"]);return Object(ue.jsx)(eo,Object(ce.a)(Object(ce.a)({flexGrow:"1",justifyContent:"center"},n),{},{children:t}))}function no(e){var t=e.children;return Object(ue.jsx)(Fe.Flex,{flexWrap:"wrap",p:1,backgroundColor:"muted",children:t})}function oo(e){var t=e.children;return e.hidden?null:Object(ue.jsx)(Fe.Flex,{flexWrap:"wrap",p:1,backgroundColor:"highlight",children:t})}var ro,co=function(e){e.leftButtonLabel,e.leftButtonHandler;var t=e.title,n=void 0===t?"Compendium Games":t,o=e.onMenuToggle,r=void 0===o?function(){}:o,c=e.menuIsHidden,a=void 0!==c&&c,i=e.menuItems,s=void 0===i?{}:i,u=Object(ne.f)(),l=function(){return u.push("/")};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(no,{children:[Object(ue.jsx)(eo,{onClick:l,onKeyPress:l,children:"Home"}),Object(ue.jsx)(Zn,{children:n}),Object(ue.jsx)(eo,{onClick:r,onKeyPress:r,children:a?"Menu":"Close"})]}),Object(ue.jsx)(oo,{hidden:a,children:Vn()(s).map((function(e){var t=Object(re.a)(e,2),n=t[0],o=t[1];return o.constructor===String?Object(ue.jsx)(to,{href:o,children:n}):Object(ue.jsx)(to,{onClick:o,onKeyPress:o,children:n})}))})]})},ao=n(95),io=n.n(ao),so=function(e){var t=e.typedSentences;return Object(ue.jsx)(Fe.Flex,{px:"20%",py:5,my:4,backgroundColor:"secondary",children:Object(ue.jsx)(Fe.Heading,{color:"muted",sx:{userSelect:"none"},children:Object(ue.jsx)(io.a,{strings:t,typeSpeed:50,backSpeed:50,backDelay:1,loop:!0,smartBackspace:!0})})})},uo=function(e){return e>1?["14em","16em"]:["10em","12em"]},lo=function(e){var t,n=e.size,o=void 0===n?1:n,r=e.imageSrc,c=e.imageAlt,a=e.headingText,i=e.bodyText,s=e.onCallToAction,u=e.buttonLabel;return Object(ue.jsx)(Fe.Card,{m:3,children:Object(ue.jsxs)(Fe.Flex,{flexDirection:"row",height:"100%",children:[Object(ue.jsx)(Fe.Flex,{width:(t=o,t>1?["20em","22em"]:["14em","16em"]),backgroundColor:"gray",alignItems:"center",justifyContent:"center",m:3,children:Object(ue.jsx)(Fe.Image,{src:r,alt:c})}),Object(ue.jsxs)(Fe.Box,{width:uo(o),m:3,pt:2,children:[Object(ue.jsx)(Fe.Heading,{children:a}),Object(ue.jsx)(Fe.Text,{children:i}),Object(ue.jsx)(Fe.Flex,{justifyContent:"end",mt:3,children:Object(ue.jsx)(Fe.Button,{onClick:s,onKeyPress:s,variant:"primary",children:u})})]})]})})},fo=function(){var e=Object(ne.f)().push,t=Object(o.useReducer)((function(e){return!e}),!0),n=Object(re.a)(t,2),r=n[0],c=n[1],a=function(t){var n=function(e){var t=qn[e],n=Nn()({exactly:3}).sort();return t.map((function(e){return n[e]})).join("-")}(t);e("/host/".concat(n))},i=Jn.map((function(e){return e.name})).map((function(e){return"Remotely play a game of ".concat(e,"!")}));return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(co,{menuIsHidden:r,onMenuToggle:c,menuItems:{GitHub:"https://www.github.com/SmileyJames/compendium",Documentation:"/docs",Storybook:"/storybook"}}),Object(ue.jsxs)(Fe.Flex,{flexWrap:"wrap",flexDirection:"row",justifyContent:"space-evenly",children:[Object(ue.jsx)(Yn,{compendium:Jn,onNewGame:a}),Object(ue.jsx)(Xn,{onJoinGame:function(t){e("/guest/".concat(t))}})]}),Object(ue.jsx)(so,{typedSentences:i}),Object(ue.jsx)(Fe.Flex,{justifyContent:"space-around",flexDirection:"row",flexWrap:"wrap",children:Jn.map((function(e,t){var n=e.name,o=e.image,r=e.description;return Object(ue.jsx)(lo,{size:0===t?2:1,headingText:n,imageSrc:o.src,imageAlt:o.alt,bodyText:r,onCallToAction:function(){return a(t)},buttonLabel:"Start ".concat(n)})}))})]})},mo=kn.a,jo=function(){var e=Object(ne.g)().roomId,t=Un(e),n=t.theme,o=t.Host,r=z({roomId:e,game:t.game}),c=r.state,a=r.moves,i=r.connections;return Object(ue.jsx)(s.ThemeProvider,{theme:n||mo,children:o&&Object(ue.jsx)(o,{roomId:e,state:c,moves:a,connections:i})})},bo=function(){var e=Object(ne.g)().roomId,t=Un(e),n=t.theme,o=t.Guest,r=J({roomId:e,game:t.game}),c=r.connectionId,a=r.connected,i=r.state,u=r.moves;return Object(ue.jsx)(s.ThemeProvider,{theme:n||mo,children:o&&Object(ue.jsx)(o,{connectionId:c,roomId:e,connected:a,state:i,moves:u})})},vo=function(){return Object(ue.jsx)(oe.a,{children:Object(ue.jsxs)(ne.c,{children:[Object(ue.jsx)(ne.a,{path:"/host/:roomId",children:Object(ue.jsx)(jo,{})}),Object(ue.jsx)(ne.a,{path:"/guest/:roomId",children:Object(ue.jsx)(bo,{})}),Object(ue.jsx)(ne.a,{exact:!0,path:"/",children:Object(ue.jsx)(s.ThemeProvider,{theme:mo,children:Object(ue.jsx)(fo,{})})})]})})},ho=Object(s.createGlobalStyle)(ro||(ro=Object(i.a)(["\n  body, html, #root {\n    margin: 0;\n    height: 100%;\n  }\n"]))),go=function(){return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(vo,{}),Object(ue.jsx)(ho,{})]})},Oo=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,205)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),c(e),a(e)}))};a.a.render(Object(ue.jsx)(r.a.StrictMode,{children:Object(ue.jsx)(go,{})}),document.getElementById("root")),Oo()}},[[202,1,2]]]);
//# sourceMappingURL=main.19f82b34.chunk.js.map