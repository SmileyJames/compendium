(this["webpackJsonp@compendium/app"]=this["webpackJsonp@compendium/app"]||[]).push([[0],{102:function(e,t,n){"use strict";function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,c,i,u,s,l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=r?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(0)),d=m(n(8)),f=m(n(73));function m(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=d.default.main(r||(r=g(["\n  display: flex;\n"]))),p=d.default.section(a||(a=g(["\n  flex-grow: 1; \n"]))),j=d.default.article(c||(c=g(["\n  flex-grow: 3; \n"]))),y=d.default.div(i||(i=g(["\n  padding: .4em;\n  border: solid 1px gray;\n"]))),O=d.default.div(u||(u=g(["\n  width: 2em;\n  height: 2em;\n  padding: 0.3em;\n  display: inline-block;\n"]))),h=d.default.button(s||(s=g(["\n\n"]))),S=function(e){var t=e.children,n=e.players;return l.default.createElement(b,null,l.default.createElement(p,null,n.map((function(e,t){var n=e.name,o=e.emoji;return l.default.createElement(y,{key:t},l.default.createElement(O,null,o&&l.default.createElement(f.default,{emoji:o})),n)}))),l.default.createElement(j,null,t))},I=function(e){var t=e.roomId;return l.default.createElement("h1",null,"Join: ",t)},E=function(e){var t=e.state,n=e.roomId,o=e.moves,r=(e.connections,e.maxPlayers),a=e.minPlayers,c=e.children;if((0,l.useEffect)((function(){!t.players&&null!==o&&void 0!==o&&o.initPlayers&&o.initPlayers({maxPlayers:r,minPlayers:a})}),[t.players,o]),!t.players)return null;if(t.players.everyonesIn)return c;var i=function(e){var t=e.state.players;return t.list.length>=t.minPlayers}({state:t});return l.default.createElement(S,{players:t.players.list},l.default.createElement(I,{roomId:n}),i&&l.default.createElement(h,{onClick:function(){return o.startGame()},onKeyPress:function(){return o.startGame()}},"Start Game"))};t.default=E},105:function(e,t,n){"use strict";function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,c,i,u,s,l=v(n(0)),d=(r=n(8))&&r.__esModule?r:{default:r},f=v(n(73));function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=r?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(o=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(u){r=!0,a=u}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=d.default.div(a||(a=p(["\n  text-align: center;\n"]))),y=d.default.main(c||(c=p(["\n  display: flex;\n  flex-direction: column;d\n"]))),O=d.default.input(i||(i=p(["\n  border-radius: 0.2em;\n  border: solid 1px grey;\n  padding: 0.3em 0.6em;\n  margin: 0.6em\n"]))),h=d.default.button(u||(u=p(["\n  border-radius: 0.2em;\n  background-color: rgb(10, 50, 200);\n  color: white;\n  border: solid 1px grey;\n  padding: 0.3em 0.6em;\n  margin: 0.6em\n"]))),S=d.default.div(s||(s=p(["\n  width: 10em;\n  height: 10em;\n  margin: 0 auto;\n"]))),I=function(e){var t=e.onJoin,n=g((0,l.useState)(""),2),o=n[0],r=n[1],a=g((0,l.useState)("\ud83d\ude0e"),2),c=a[0],i=a[1],u=g((0,l.useState)(!1),2),s=u[0],d=u[1],m=function(){return d(!0)},v=function(){return d(!1)},b=function(){(null===o||void 0===o?void 0:o.length)&&t({name:o,emoji:c})};return l.default.createElement(l.default.Fragment,null,s&&l.default.createElement(f.EmojiPicker,{onHide:v,onSelectEmoji:function(e){i(e),v()}}),l.default.createElement(y,null,l.default.createElement(S,{tabIndex:0,onKeyPress:m,onClick:m},l.default.createElement(f.default,{emoji:c})),l.default.createElement(j,null,l.default.createElement("h1",null,o)),l.default.createElement(j,null,l.default.createElement("label",null,"Nickname",l.default.createElement(O,{onChange:function(e){return r(e.target.value)},value:o}))),l.default.createElement(j,null,l.default.createElement(h,{type:"button",onKeyPress:b,onClick:b},"Sit down to Play"))))},E=function(){return l.default.createElement("h1",null,"You are a Spectator")},x=function(){return l.default.createElement("h1",null,"Be patient, the host is setting up your game.")},C=function(e){var t=e.children,n=e.state,o=(e.roomId,e.moves),r=e.connectionId;if(!n.players)return l.default.createElement(x,null);var a=function(e){var t=e.players,n=e.connectionId;return t.findIndex((function(e){return e.connectionId===n}))>-1}({players:n.players.list,connectionId:r});if(n.players.everyonesIn)return a?t:l.default.createElement(E,null);var c=function(e){var t=e.state.players;return t.list.length>t.maxPlayers}({state:n});return a||c?l.default.createElement(x,null):l.default.createElement(I,{onJoin:function(e){var t=e.name,n=e.emoji;o.joinAsAPlayer({name:t,emoji:n})}})};t.default=C},174:function(e,t,n){"use strict";n.r(t);var o,r,a,c,i,u,s,l,d,f,m,v,g=n(0),b=n.n(g),p=n(75),j=n.n(p),y=n(37),O=n(45),h=n.n(O),S=function(e){var t=e.connectionId,n=e.roomId,o=e.game,r=e.move,a=E({connectionId:t,roomId:n,game:o,move:r});try{return a({})instanceof Function}catch(c){return!1}},I=function(e){var t=e.connectionId,n=e.roomId,o=e.game;return t===n?o.hostMoves:o.guestMoves},E=function(e){var t=e.connectionId,n=e.roomId,o=e.game,r=e.move;return I({connectionId:t,roomId:n,game:o})[r]},x=function(e){var t=e.game,n=e.events,o=e.roomId;return function(e){try{return n.reduce((function(e,n){var r=E({connectionId:n.connectionId,roomId:o,game:t,move:n.move})({state:e,connectionId:n.connectionId,args:n.args});r instanceof Function&&n.seed&&(r=r(h()(n.seed)));return r}),e)}catch(r){return console.error(r),e}}},C=function(e){var t=e.game,n=e.connectionId,o=e.roomId,r=e.handleMove;return new Proxy({},{get:function(e,a,c){var i=I({connectionId:n,roomId:o,game:t});return i.hasOwnProperty(a)?function(e){return r({move:a,args:e})}:a===Symbol.iterator&&i?i.keys().bind(e)[Symbol.iterator]:Reflect.get(e,a,c)}})},w=n(4),P=function(e,t,n){var o=Object(g.useState)((function(){return JSON.parse(e.getItem(t))||(n instanceof Function?n():n)})),r=Object(w.a)(o,2),a=r[0],c=r[1],i=Object(g.useState)((function(){try{var e=window.localStorage.getItem(t);return e?JSON.parse(e):n}catch(o){return console.error(o),n}})),u=Object(w.a)(i,2);u[0],u[1];return Object(g.useEffect)((function(){e.setItem(t,JSON.stringify(a))}),[t,a]),[a,c]},D=function(e){var t=e.roomId,n=e.game,o=e.eventLog,r=Object(g.useRef)(),a=function(e){var t=P(window.localStorage,"hostState-".concat(e),{}),n=Object(w.a)(t,2);return{state:n[0],setState:n[1]}}(t),c=a.state,i=a.setState;return Object(g.useEffect)((function(){var e=o.slice(r.current||0);t&&n&&e.length&&(!function(e){var t=e.roomId,n=e.setState,o=e.game,r=e.events;n(x({game:o,roomId:t,events:r}))}({roomId:t,setState:i,game:n,events:e}),r.current=o.length)}),[i,t,n,o,r]),{state:c}},H=n(83),k=n(16),M=n(38),T=n(5),L=function(e){return e()},z=function(e){var t=e.setEventLog,n=e.event,o=e.connectionId,r=e.roomId,a=e.game,c=e.random,i=S({connectionId:o,roomId:r,game:a,move:n.move})?Object(T.a)(Object(T.a)({},n),{},{connectionId:o,seed:L(c)}):Object(T.a)(Object(T.a)({},n),{},{connectionId:o});t((function(e){return[].concat(Object(k.a)(e),[i])}))},_=n(76),A=n.n(_),J=function(e){(0,e.setPeer)((function(e){return e&&e.destroy(),null}))},F={host:"peerjs.92k.de",secure:!0},G=function(e){var t=Object(g.useState)(),n=Object(w.a)(t,2),o=n[0],r=n[1],a=Object(g.useState)(!1),c=Object(w.a)(a,2),i=c[0],u=c[1],s=Object(g.useReducer)((function(e){return e+1}),0),l=Object(w.a)(s,2),d=l[0],f=l[1];return Object(g.useEffect)((function(){if(!i){var t=new A.a(e,F);r(t);var n=function(){u(!1),J({setPeer:r}),f()},o=setTimeout(n,1e3);t.on("open",(function(){clearTimeout(o),u(!0)}));var a=function(){clearTimeout(o),o=setTimeout(n,1e3)};return t.on("close",a),t.on("disconnected",a),t.on("error",a),function(){J({setPeer:r}),clearTimeout(o)}}}),[d,e]),{open:i,peer:o}},B=function(e){var t=e.game,n=e.roomId,o=(e.eventLog,e.setEventLog),r=e.random,a=G(n).peer,c=Object(g.useState)([]),i=Object(w.a)(c,2),u=i[0],s=i[1],l=Object(g.useRef)({});return Object(g.useEffect)((function(){a&&a.on("connection",(function(e){e.on("open",(function(){!function(e){var t=e.setConnections,n=e.conn;t((function(e){return[].concat(Object(k.a)(e),[n])}))}({setConnections:s,conn:e})})),e.on("data",(function(a){var c=a.index,i=Object(H.a)(a,["index"]);Object(M.isInteger)(c)&&function(e){var t=e.conn,n=e.connectionLogSizeMap,o=e.size,r=void 0===o?0:o;n.current[t.peer]=r}({conn:e,connectionLogSizeMap:l,size:c+1}),(Object(M.isInteger)(c)||null===c)&&function(e,t){return e&&Object(M.isString)(e.move)&&Object(M.isObject)(e.args)&&t.findIndex((function(t){return t===e.move}))>-1}(i,Object.keys(t.guestMoves))&&z({setEventLog:o,event:i,connectionId:e.peer,roomId:n,game:t,random:r})})),e.on("close",(function(){!function(e){var t=e.setConnections,n=e.conn;t((function(e){return e.filter((function(e){return e!==n}))}))}({setConnections:s,conn:e})})),e.on("error",(function(t){console.error(e.peer,t)}))}))}),[a,t,n]),{connections:u,connectionLogSizeMap:l}},K=function(e){var t=e.roomId,n=e.game,o=e.setEventLog,r=e.random,a=Object(g.useState)(null),c=Object(w.a)(a,2),i=c[0],u=c[1];return Object(g.useEffect)((function(){n&&function(e){var t=e.setMoves,n=e.game,o=e.roomId,r=e.setEventLog,a=e.random,c=function(e){var t=e.move,c=e.args;z({setEventLog:r,event:{move:t,args:c},connectionId:o,roomId:o,game:n,random:a})};t((function(){return C({game:n,connectionId:o,roomId:o,handleMove:c})}))}({setMoves:u,game:n,roomId:t,setEventLog:o,random:r})}),[t,n,o]),{moves:i,setMoves:u}},N=n(77),R=function(e){var t=e.connections,n=e.connectionLogSizeMap,o=e.eventLog;Object(g.useEffect)((function(){var e,r=Object(N.a)(t);try{var a=function(){var t=e.value,r=n.current[t.peer]||0;if(o.length>r){var a=o.slice(r).map((function(e,t){return Object(T.a)(Object(T.a)({},e),{},{index:r+t})}));t.send(a)}};for(r.s();!(e=r.n()).done;)a()}catch(c){r.e(c)}finally{r.f()}}),[t,n,o])},Q=function(e){var t=e.roomId,n=e.game,o=e.secret,r=Object(g.useMemo)((function(){return h()(o||t)}),[o,t]),a=function(e){var t=P(window.localStorage,"eventLog-".concat(e),[]),n=Object(w.a)(t,2);return{eventLog:n[0],setEventLog:n[1]}}(t),c=a.eventLog,i=a.setEventLog,u=D({roomId:t,game:n,eventLog:c}).state,s=B({game:n,roomId:t,eventLog:c,setEventLog:i,random:r}),l=s.connections,d=s.connectionLogSizeMap,f=Object(g.useMemo)((function(){return l.map((function(e){return e.peer}))}),[l]),m=K({roomId:t,game:n,setEventLog:i,random:r}).moves;return R({connections:l,connectionLogSizeMap:d,eventLog:c}),{state:u,moves:m,connections:f}},W=function(e){var t=e-1;return t<0?null:t},U=function(e){var t=e.connected,n=e.conn,o=e.logSize;Object(g.useEffect)((function(){n.current&&t&&function(e){var t=e.conn,n=e.logSize;t.current.send({index:W(n)})}({conn:n,logSize:o})}),[t,n.current,o])},q=function(e){var t=e.data,n=e.clearData,o=e.game,r=e.roomId,a=e.setState,c=e.setLogSize;Object(g.useEffect)((function(){if(t&&t.length){var e=Object(k.a)(t);n(),function(e){var t=e.setLogSize,n=e.events;t(n[n.length-1].index+1)}({setLogSize:c,events:e}),function(e){var t=e.setState,n=(e.setCache,e.roomId),o=e.game,r=e.events,a=x({game:o,roomId:n,events:r});t((function(e){var t=e.state,n=a(t);return{state:n,cache:n}}))}({setState:a,roomId:r,game:o,events:e})}}),[t,n,o,r,c,a])},X=function(e){var t=e.conn,n=e.connectionId,o=e.setMoves,r=e.setState,a=e.game,c=e.logSize,i=e.roomId,u=function(e){var o=e.move,u=e.args;S({connectionId:n,roomId:i,game:a,move:o})||function(e){var t=e.setState,n=e.game,o=e.move,r=e.args,a=e.connectionId,c=e.roomId,i=x({game:n,roomId:c,events:[{move:o,args:r,connectionId:a}]});t((function(e){var t=e.state;return e.cache,{cache:i(t),state:t}}))}({setState:r,game:a,move:o,args:u,roomId:i,connectionId:n}),function(e){var t=e.conn,n=e.logSize,o=e.move,r=e.args;t.current.send({index:W(n),move:o,args:r})}({conn:t,move:o,args:u,logSize:c})};o((function(){return C({game:a,connectionId:n,roomId:i,handleMove:u})}))},Y=function(e){var t=e.connected,n=e.conn,o=e.id,r=e.setState,a=e.roomId,c=e.game,i=e.logSize,u=Object(g.useState)(null),s=Object(w.a)(u,2),l=s[0],d=s[1];return Object(g.useEffect)((function(){t&&X({conn:n,connectionId:o,setMoves:d,setState:r,roomId:a,game:c,logSize:i})}),[t,n.current,o,d,r,a,c,i]),{moves:l}},$=function(e){var t=e.id,n=e.roomId,o=Object(g.useRef)(),r=G(t),a=r.open,c=r.peer,i=Object(g.useState)([]),u=Object(w.a)(i,2),s=u[0],l=u[1],d=Object(g.useState)(!1),f=Object(w.a)(d,2),m=f[0],v=f[1],b=Object(g.useReducer)((function(e){return e+1}),0),p=Object(w.a)(b,2),j=p[0],y=p[1];Object(g.useEffect)((function(){if(a&&!m){!function(e){var t=e.roomId,n=e.peer;e.conn.current=n.connect(t,{serialization:"json"})}({conn:o,peer:c,roomId:n});var e=function(){o.current=null,v(!1),y()},t=setTimeout(e,1e3);o.current.on("open",(function(){clearTimeout(t),v(!0)})),o.current.on("data",(function(e){l((function(t){return[].concat(Object(k.a)(t),Object(k.a)(e))}))})),o.current.on("close",(function(){clearTimeout(t),e()})),o.current.on("error",(function(e){console.error(e)}))}}),[j,a,m,n]);return{connected:a&&m,conn:o,data:s,clearData:function(){return l([])}}},V=n(176),Z=function(e){var t=e.roomId,n=e.game,o=function(e){var t=P(window.localStorage,"id-".concat(e),V.a);return{id:Object(w.a)(t,1)[0]}}(t).id,r=function(e){var t=P(window.localStorage,"guestState-".concat(e),{state:{},cache:{}}),n=Object(w.a)(t,2);return{cache:n[0].cache,setState:n[1]}}(t),a=r.cache,c=r.setState,i=function(e){var t=P(window.localStorage,"logSize-".concat(e),0),n=Object(w.a)(t,2);return{logSize:n[0],setLogSize:n[1]}}(t),u=i.logSize,s=i.setLogSize,l=$({id:o,roomId:t}),d=l.connected,f=l.conn,m=l.data,v=l.clearData;return U({connected:d,conn:f,logSize:u}),q({data:m,clearData:v,game:n,roomId:t,setState:c,setLogSize:s}),{connectionId:o,connected:d,state:a,moves:Y({connected:d,conn:f,id:o,setState:c,roomId:t,game:n,logSize:u}).moves}},ee=n(9),te=n(35),ne={guestMoves:{fillSquare:function(e){var t=e.state,n=e.connectionId,o=e.args,r=null;if(n===t.crossesPlayer)r=2;else{if(n!==t.noughtsPlayer)throw new Error("Connection is not a player");r=1}if(null!==t.board[o.position])throw new Error("Position filled");var a=Object(k.a)(t.board);return a.splice(o.position,1,r),Object(T.a)(Object(T.a)({},t),{},{board:a})}},hostMoves:{startGame:function(e){e.state,e.connectionId;var t=e.args;return{crossesPlayer:t.crossesConnId,noughtsPlayer:t.noughtsConnId,board:Array(9).fill(null)}}}},oe=n(13),re=n(8),ae=re.default.div(o||(o=Object(oe.a)(["\n  width: 33.333%;\n  height: 33.333%;\n  background-color: cyan;\n  border: 2px solid yellow;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n"]))),ce=re.default.div(r||(r=Object(oe.a)(["\n  width: 30em;\n  height: 30em;\n"]))),ie=function(e){var t=e.state,n=e.roomId,o=e.moves,r=e.connections;return Object(g.useEffect)((function(){if(!t.board&&r.length>=2){var e=Object(w.a)(r,2),n=e[0],a=e[1];o.startGame({crossesConnId:n,noughtsConnId:a})}}),[r]),b.a.createElement(b.a.Fragment,null,r.length<2&&b.a.createElement(te.b,{to:"/guest/".concat(n)},window.location.host,"#/guest/",n),b.a.createElement(ce,null,t.board&&t.board.map((function(e,t){return b.a.createElement(ae,{key:t},1===e?"O":null,2===e?"X":null)}))))},ue=re.default.button(a||(a=Object(oe.a)(["\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n"]))),se=re.default.div(c||(c=Object(oe.a)(["\n  width: 33.333%;\n  height: 33.333%;\n  background-color: white;\n  border: 2px solid red;\n  color: black;\n  text-align: center;\n  float: left;\n  box-sizing: border-box;\n"]))),le=re.default.div(i||(i=Object(oe.a)(["\n  width: 30em;\n  height: 30em;\n"]))),de=function(e){var t=e.value,n=e.onClick;return null===t?b.a.createElement(ue,{onClick:n}):b.a.createElement(se,null,1===t?"O":null,2===t?"X":null)},fe={name:"Tic Tac Toe",Host:ie,Guest:function(e){var t=e.connected,n=e.state,o=e.moves;return b.a.createElement(b.a.Fragment,null,t?null:b.a.createElement("p",null,"Disconnected.."),b.a.createElement(le,null,n.board&&n.board.map((function(e,n){return b.a.createElement(de,{key:n,value:e,onClick:function(){return t&&o.fillSquare({position:n})}})}))))},game:ne},me={guestMoves:{joinAsAPlayer:function(e){var t=e.state,n=e.connectionId,o=e.args;if(t.players.list.length>=t.players.maxPlayers)throw new Error("The number of players has reached it's maximum");var r={connectionId:n,name:o.name,emoji:o.emoji},a=[].concat(Object(k.a)(t.players.list),[r]),c=Object(T.a)(Object(T.a)({},t.players),{},{list:a});return Object(T.a)(Object(T.a)({},t),{},{players:c})}},hostMoves:{initPlayers:function(e){var t=e.state,n=e.args,o={maxPlayers:n.maxPlayers,minPlayers:n.minPlayers,everyoneIsIn:!1,list:[]};return Object(T.a)(Object(T.a)({},t),{},{players:o})},everyoneIsIn:function(e){var t=e.state;if(t.players.list.length>t.players.maxPlayers)throw new Error("Too many players");if(t.players.list.length<t.players.minPlayers)throw new Error("Not enough players");return Object(T.a)(Object(T.a)({},t),{},{players:Object(T.a)(Object(T.a)({},t.players),{},{everyoneIsIn:!0})})}}},ve={guestMoves:Object(T.a)({},me.guestMoves),hostMoves:Object(T.a)({},me.hostMoves)},ge=n(49),be=n.p+"static/media/AH.1a5ea790.svg",pe=n.p+"static/media/AC.0e3c2151.svg",je=n.p+"static/media/AD.5c4da062.svg",ye=n.p+"static/media/AS.0beacefa.svg",Oe=n.p+"static/media/2H.cb701b97.svg",he=n.p+"static/media/2C.276c3f69.svg",Se=n.p+"static/media/2D.bc21ec2a.svg",Ie=n.p+"static/media/2S.ec187ad2.svg",Ee=n.p+"static/media/3H.cba17cfa.svg",xe=n.p+"static/media/3C.4defbcf5.svg",Ce=n.p+"static/media/3D.8d12a3fc.svg",we=n.p+"static/media/3S.ed80cdda.svg",Pe=n.p+"static/media/4H.8924ea52.svg",De=n.p+"static/media/4C.3ebe0e73.svg",He=n.p+"static/media/4D.433a1ecc.svg",ke=n.p+"static/media/4S.7e474260.svg",Me=n.p+"static/media/5H.04a38bb9.svg",Te=n.p+"static/media/5C.809e552d.svg",Le=n.p+"static/media/5D.03b1a4af.svg",ze=n.p+"static/media/5S.f4e082a6.svg",_e=n.p+"static/media/6H.5380d254.svg",Ae=n.p+"static/media/6C.1f69ca79.svg",Je=n.p+"static/media/6D.8c9d26ce.svg",Fe=n.p+"static/media/6S.33eb8c1b.svg",Ge=n.p+"static/media/7H.156a2f08.svg",Be=n.p+"static/media/7C.cb6a5b5c.svg",Ke=n.p+"static/media/7D.bc93fd45.svg",Ne=n.p+"static/media/7S.f91490c5.svg",Re=n.p+"static/media/8H.878dbca5.svg",Qe=n.p+"static/media/8C.e91af699.svg",We=n.p+"static/media/8D.ca4420e9.svg",Ue=n.p+"static/media/8S.fd5cd6f8.svg",qe=n.p+"static/media/9H.57bfd8e3.svg",Xe=n.p+"static/media/9C.c6a841cc.svg",Ye=n.p+"static/media/9D.3d612a15.svg",$e=n.p+"static/media/9S.6c7e4615.svg",Ve=n.p+"static/media/10H.c8c8e4de.svg",Ze=n.p+"static/media/10C.0cc64a48.svg",et=n.p+"static/media/10D.956683a1.svg",tt=n.p+"static/media/10S.99cb26ab.svg",nt=n.p+"static/media/JH.86f58f4f.svg",ot=n.p+"static/media/JC.b801c5a7.svg",rt=n.p+"static/media/JD.a0e75607.svg",at=n.p+"static/media/JS.1a6f34e2.svg",ct=n.p+"static/media/QH.f56614ef.svg",it=n.p+"static/media/QC.3eb5bae0.svg",ut=n.p+"static/media/QD.c20eb8d2.svg",st=n.p+"static/media/QS.cc68ac97.svg",lt=n.p+"static/media/KH.3d6b1be6.svg",dt=n.p+"static/media/KC.ca193598.svg",ft=n.p+"static/media/KD.32d1a9f8.svg",mt=n.p+"static/media/KS.b54b6bba.svg",vt=n.p+"static/media/JOKER.96be08d3.svg",gt=11,bt=12,pt=13,jt=re.default.div(u||(u=Object(oe.a)(["\n  margin-bottom: -9em;\n  margin-right: -3em;\n\n  ","\n"])),(function(e){var t=e.order;return t&&"order: ".concat(t,";")})),yt=re.default.div(s||(s=Object(oe.a)(["\n  position: relative;\n  margin-top: 2em;\n"]))),Ot=Object(re.default)(yt)(l||(l=Object(oe.a)(["\n  &:hover {\n    margin-top: 1em;\n    margin-bottom: 1em;\n    cursor: pointer;\n  }\n\n  ","\n"])),(function(e){return e.isSelected&&"\n    margin-top: 0em;\n    margin-bottom: 2em;\n\n    &:hover {\n      margin-top: 0em;\n      margin-bottom: 2em;\n    }\n  "})),ht=re.default.div(d||(d=Object(oe.a)(["\n  opacity: 0.4;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 0.5em;\n\n  ","\n"])),(function(e){var t=e.isSelected,n=e.selectColor;return t&&n&&"\n    background-color: ".concat(n,";\n  ")})),St=re.default.img(f||(f=Object(oe.a)(["\n  width: 9em;\n  display: block;\n"]))),It=function(e){var t=e.isSelected,n=e.selectColor,o=e.faceImage,r=e.altText,a=e.onClick;return b.a.createElement(Ot,{isSelected:t},b.a.createElement(St,{src:o,alt:r}),b.a.createElement(ht,{isSelected:t,selectColor:n,onClick:a}))},Et=function(e){var t=e.faceImage,n=e.altText;return b.a.createElement(yt,null,b.a.createElement(St,{src:t,alt:n}))},xt=function(e){var t=e.order,n=e.canBeSelected,o=e.isSelected,r=e.selectColor,a=e.faceImage,c=e.altText,i=e.onClick,u=n?It:Et;return b.a.createElement(jt,{order:t},b.a.createElement(u,{isSelected:o,selectColor:r,faceImage:a,altText:c,onClick:i}))},Ct=function(e){var t=e.value,n=e.suit,o=e.canBeSelected,r=void 0!==o&&o,a=e.isSelected,c=void 0!==a&&a,i=e.selectColor,u=void 0===i?null:i;console.log("select",u);var s=function(e){var t=e.suit,n=e.value;return 0===n?vt:1===n&&"H"===t?be:1===n&&"D"===t?je:1===n&&"S"===t?ye:1===n&&"C"===t?pe:2===n&&"H"===t?Oe:2===n&&"D"===t?Se:2===n&&"S"===t?Ie:2===n&&"C"===t?he:3===n&&"H"===t?Ee:3===n&&"D"===t?Ce:3===n&&"S"===t?we:3===n&&"C"===t?xe:4===n&&"H"===t?Pe:4===n&&"D"===t?He:4===n&&"S"===t?ke:4===n&&"C"===t?De:5===n&&"H"===t?Me:5===n&&"D"===t?Le:5===n&&"S"===t?ze:5===n&&"C"===t?Te:6===n&&"H"===t?_e:6===n&&"D"===t?Je:6===n&&"S"===t?Fe:6===n&&"C"===t?Ae:7===n&&"H"===t?Ge:7===n&&"D"===t?Ke:7===n&&"S"===t?Ne:7===n&&"C"===t?Be:8===n&&"H"===t?Re:8===n&&"D"===t?We:8===n&&"S"===t?Ue:8===n&&"C"===t?Qe:9===n&&"H"===t?qe:9===n&&"D"===t?Ye:9===n&&"S"===t?$e:9===n&&"C"===t?Xe:10===n&&"H"===t?Ve:10===n&&"D"===t?et:10===n&&"S"===t?tt:10===n&&"C"===t?Ze:n===gt&&"H"===t?nt:n===gt&&"D"===t?rt:n===gt&&"S"===t?at:n===gt&&"C"===t?ot:n===bt&&"H"===t?ct:n===bt&&"D"===t?ut:n===bt&&"S"===t?st:n===bt&&"C"===t?it:n===pt&&"H"===t?lt:n===pt&&"D"===t?ft:n===pt&&"S"===t?mt:n===pt&&"C"===t?dt:void 0}({value:t,suit:n}),l=function(e){var t=e.value,n=e.suit;return 0===t?"\ud83c\udccf Joker":1===t&&"H"===n?"\ud83c\udcb1 Ace of Hearts":1===t&&"D"===n?"\ud83c\udcc1 Ace of Diamonds":1===t&&"S"===n?"\ud83c\udca1 Ace of Spaces":1===t&&"C"===n?"\ud83c\udcd1 Ace of Clubs":2===t&&"H"===n?"\ud83c\udcb2 Two of Hearts":2===t&&"D"===n?"\ud83c\udcc2 Two of Diamonds":2===t&&"S"===n?"\ud83c\udca2 Two of Spades":2===t&&"C"===n?"\ud83c\udcd2 Two of Clubs":3===t&&"H"===n?"\ud83c\udcb3 Three of Hearts":3===t&&"D"===n?"\ud83c\udcc3 Three of Diamonds":3===t&&"S"===n?"\ud83c\udca3 Three of Spades":3===t&&"C"===n?"\ud83c\udcd3 Three of Clubs":4===t&&"H"===n?"\ud83c\udcb4 Four of Hearts":4===t&&"D"===n?"\ud83c\udcc4 Four of Diamonds":4===t&&"S"===n?"\ud83c\udca4 Four of Spades":4===t&&"C"===n?"\ud83c\udcd4 Four of Clubs":5===t&&"H"===n?"\ud83c\udcb5 Five of Hearts":5===t&&"D"===n?"\ud83c\udcc5 Five of Diamonds":5===t&&"S"===n?"\ud83c\udca5 Five of Spades":5===t&&"C"===n?"\ud83c\udcd5 Five of Clubs":6===t&&"H"===n?"\ud83c\udcb6 Six of Hearts":6===t&&"D"===n?"\ud83c\udcc6 Six of Diamomnds":6===t&&"S"===n?"\ud83c\udca6 Six of Spades":6===t&&"C"===n?"\ud83c\udcd6 Six of Clubs":7===t&&"H"===n?"\ud83c\udcb7 Seven of Hearts":7===t&&"D"===n?"\ud83c\udcc7 Seven of Diamonds":7===t&&"S"===n?"\ud83c\udca7 Seven of Spades":7===t&&"C"===n?"\ud83c\udcd7 Seven of Clubs":8===t&&"H"===n?"\ud83c\udcb8 Eight of Hearts":8===t&&"D"===n?"\ud83c\udcc8 Eight of Diamonds":8===t&&"S"===n?"\ud83c\udca8 Eight of Spades":8===t&&"C"===n?"\ud83c\udcd8 Eight of Clubs":9===t&&"H"===n?"\ud83c\udcb9 Nine of Hearts":9===t&&"D"===n?"\ud83c\udcc9 Nine of Diamonds":9===t&&"S"===n?"\ud83c\udca9 Nine of Spades":9===t&&"C"===n?"\ud83c\udcd9 Nine of Clubs":10===t&&"H"===n?"\ud83c\udcba Ten of Hearts":10===t&&"D"===n?"\ud83c\udcca Ten of Diamonds":10===t&&"S"===n?"\ud83c\udcaa Ten of Spades":10===t&&"C"===n?"\ud83c\udcda Ten of Clubs":t===gt&&"H"===n?"\ud83c\udcbb Jack of Hearts":t===gt&&"D"===n?"\ud83c\udccb Jack of Diamonds":t===gt&&"S"===n?"\ud83c\udcab Jack of Spades":t===gt&&"C"===n?"\ud83c\udcdb Jack of Clubs":t===bt&&"H"===n?"\ud83c\udcbd Queen of Hearts":t===bt&&"D"===n?"\ud83c\udccd Queen of Diamonds":t===bt&&"S"===n?"\ud83c\udcad Queen of Spades":t===bt&&"C"===n?"\ud83c\udcdd Queen of Clubs":t===pt&&"H"===n?"\ud83c\udcbe King of Hearts":t===pt&&"D"===n?"\ud83c\udcde King of Diamonds":t===pt&&"S"===n?"\ud83c\udcae King of Spades":t===pt&&"C"===n?"\ud83c\udcde King of Clubs":void 0}({value:t,suit:n});return b.a.createElement(xt,{faceImage:s,altText:l,isSelected:c,canBeSelected:r,selectColor:u})},wt=n.p+"static/media/RED_BACK.eea8c6b0.svg",Pt=n.p+"static/media/BLUE_BACK.d7aabd90.svg",Dt=function(e){var t=e.colour,n=e.isSelected,o=void 0!==n&&n,r=e.canBeSelected,a=void 0!==r&&r,c=e.selectColor,i=void 0===c?null:c,u=function(e){var t=e.colour;return"R"===t?wt:"B"===t?Pt:void 0}({colour:t});return b.a.createElement(xt,{faceImage:u,altText:"\ud83c\udca0 Card Back",isSelected:o,canBeSelected:a,selectColor:i})},Ht=n.p+"static/media/felt.5b148bae.png",kt=re.default.div(m||(m=Object(oe.a)(["\n  background-color: rgb(10, 80, 20);\n  background-image: url(",");\n  height: 100%;\n  padding: 5%;\n"])),Ht),Mt=re.default.section(v||(v=Object(oe.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  max-height: 50%;\n\n  padding-right: 3em;\n  padding-bottom: 9em;\n"]))),Tt=Ct,Lt=[fe,{name:"Whist",Host:Object(ge.withHostPlayers)({maxPlayers:4,minPlayers:4},(function(e){var t=e.state;e.roomId,e.moves,e.connections;return b.a.createElement(kt,null,b.a.createElement(Dt,{colour:"R"}),b.a.createElement(Mt,null,t.discard&&t.discard.map((function(e){var t=e.suit,n=e.value;return b.a.createElement(Tt,{suit:t,value:n})}))))})),Guest:Object(ge.withGuestPlayers)((function(e){var t=e.state;e.roomId,e.moves,e.connectionId;return b.a.createElement(kt,null,b.a.createElement(Mt,null,t.hand&&t.hand.map((function(e){var t=e.suit,n=e.value;return b.a.createElement(Tt,{suit:t,value:n})}))))})),game:ve}],zt=n(79),_t=n.n(zt),At=n(80),Jt=n.n(At),Ft=[[0,1,2],[0,2,1],[1,0,2],[2,0,1],[2,1,0],[1,2,0]],Gt=function(e){var t=function(e){var t=e.split("-"),n=Object(k.a)(t).sort(),o=t.map((function(e){return n.findIndex((function(t){return e===t}))}));return Ft.findIndex((function(e){return Jt()(e,o)}))}(e);return Lt[t]},Bt=function(e){var t=Object(g.useState)({name:null,Host:null,Guest:null,game:null}),n=Object(w.a)(t,2),o=n[0],r=n[1];return Object(g.useEffect)((function(){return r(Gt(e))}),[]),o},Kt=n(27),Nt=n(50),Rt=n(2),Qt=function(e){var t=e.onNewGame,n=Object(g.useState)(0),o=Object(w.a)(n,2),r=o[0],a=o[1],c=function(){return t(r)};return Object(Rt.jsxs)(Kt.Box,{my:4,width:["100%","80%","35em"],children:[Object(Rt.jsx)(Nt.Select,{m:1,onChange:function(e){a(e.target.value),e.preventDefault()},value:r,children:Lt.map((function(e,t){var n=e.name;return Object(Rt.jsx)("option",{value:t,children:n},t)}))}),Object(Rt.jsx)(Kt.Button,{m:1,onClick:c,onKeyPress:c,children:"Host New Game"})]})},Wt=function(e){var t=e.onJoinGame,n=Object(g.useState)(),o=Object(w.a)(n,2),r=o[0],a=o[1],c=function(){return t(r)};return Object(Rt.jsxs)(Kt.Box,{my:4,width:["100%","80%","35em"],children:[Object(Rt.jsxs)(Kt.Box,{children:[Object(Rt.jsx)(Nt.Label,{children:"Room Password"}),Object(Rt.jsx)(Nt.Input,{onChange:function(e){a(e.target.value),e.preventDefault()},value:r})]}),Object(Rt.jsx)(Kt.Button,{m:1,onClick:c,onKeyPress:c,children:"Join Game"})]})},Ut=function(){var e=Object(ee.f)().push;return Object(Rt.jsxs)(Kt.Flex,{mx:["2em","15%","20%"],flexDirection:"column",children:[Object(Rt.jsx)(Kt.Heading,{mt:4,fontSize:[5,6],color:"primary",children:"Compendium Games"}),Object(Rt.jsx)(Qt,{onNewGame:function(t){var n=function(e){var t=Ft[e],n=_t()({exactly:3}).sort();return t.map((function(e){return n[e]})).join("-")}(t);e("/host/".concat(n))}}),Object(Rt.jsx)(Wt,{onJoinGame:function(t){e("/guest/".concat(t))}})]})},qt=n(81),Xt=n.n(qt).a,Yt=function(){var e=Object(ee.g)().roomId,t=Bt(e),n=t.theme,o=t.Host,r=t.game,a=Q({roomId:e,game:r}),c=a.state,i=a.moves,u=a.connections;return Object(Rt.jsx)(y.ThemeProvider,{theme:n||Xt,children:o&&Object(Rt.jsx)(o,{roomId:e,state:c,moves:i,connections:u})})},$t=function(){var e=Object(ee.g)().roomId,t=Bt(e),n=t.theme,o=t.Guest,r=t.game,a=Z({roomId:e,game:r}),c=a.connectionId,i=a.connected,u=a.state,s=a.moves;return Object(Rt.jsx)(y.ThemeProvider,{theme:n||Xt,children:o&&Object(Rt.jsx)(o,{connectionId:c,roomId:e,connected:i,state:u,moves:s})})},Vt=function(){return Object(Rt.jsx)(te.a,{children:Object(Rt.jsxs)(ee.c,{children:[Object(Rt.jsx)(ee.a,{path:"/host/:roomId",children:Object(Rt.jsx)(Yt,{})}),Object(Rt.jsx)(ee.a,{path:"/guest/:roomId",children:Object(Rt.jsx)($t,{})}),Object(Rt.jsx)(ee.a,{exact:!0,path:"/",children:Object(Rt.jsx)(y.ThemeProvider,{theme:Xt,children:Object(Rt.jsx)(Ut,{})})})]})})},Zt=function(){return Object(Rt.jsx)(Vt,{})},en=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),a(e),c(e)}))};j.a.render(Object(Rt.jsx)(b.a.StrictMode,{children:Object(Rt.jsx)(Zt,{})}),document.getElementById("root")),en()},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Host",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Guest",{enumerable:!0,get:function(){return a.default}}),t.withHostPlayers=t.withGuestPlayers=void 0;var o=c(n(0)),r=c(n(102)),a=c(n(105));function c(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.withGuestPlayers=function(e){return function(t){var n=t.children,r=u(t,["children"]);return o.default.createElement(a.default,r,o.default.createElement(e,r,n))}};t.withHostPlayers=function(e,t){return function(n){var a=n.children,c=u(n,["children"]);return o.default.createElement(r.default,i({},e,c),o.default.createElement(t,c,a))}}},73:function(e,t,n){"use strict";n.r(t),n.d(t,"EmojiPicker",(function(){return v}));var o,r,a=n(0),c=n.n(a),i=n(78),u=Object(a.memo)((function(e){var t=e.emoji;return c.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.a.parse(t,{folder:"svg",ext:".svg"})}})})),s=n(13),l=n(8),d=n(82),f=(n(104),l.default.div(o||(o=Object(s.a)(["\n  background-color: rgba(0, 0, 0, 0.8);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])))),m=l.default.div(r||(r=Object(s.a)(["\n  display: inline-block;\n"]))),v=function(e){var t=e.onSelectEmoji,n=e.onHide;return c.a.createElement(f,{tabIndex:!0,onKeyPress:n,onClick:n},c.a.createElement(m,{onClick:function(e){return e.stopPropagation()}},c.a.createElement(d.a,{onSelect:function(e){t(e.native)},set:"twitter"})))};t.default=u},95:function(e,t){},96:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=96}},[[174,1,2]]]);
//# sourceMappingURL=main.206259fb.chunk.js.map